parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function a(a){return a&&a.__esModule?{d:a.default}:{d:a}}var ib,cb;const Na="*";const g=Symbol();var ab;(function($){$[$.U8=0]="U8",$[$.U8C=1]="U8C",$[$.I8=2]="I8",$[$.U16=3]="U16",$[$.I16=4]="I16",$[$.U32=5]="U32",$[$.I32=6]="I32",$[$.F32=7]="F32",$[$.F64=8]="F64"})(ab||(ib=ab={},ib));var Fa;(function($){$[$.FINE=0]="FINE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.SEVERE=4]="SEVERE",$[$.NONE=5]="NONE"})(Fa||(cb=Fa={},cb));const eb=Object.freeze({level:Fa.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});const Ba=(e,t={})=>{const r=Reflect.ownKeys(e),o=Reflect.ownKeys(t),n=Symbol("isa");function p(t){for(let o of r){const r=Object.getOwnPropertyDescriptor(t.prototype,o);!r||r.configurable?Object.defineProperty(t.prototype,o,{value:e[o],writable:!0}):console.log(`not patching: ${t.name}.${o.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let i of o)Object.defineProperty(p,i,{value:t[i],enumerable:t.propertyIsEnumerable(i)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};class Ra extends Error{constructor(r){super("illegal argument(s)"+(void 0!==r?": "+r:""))}}const W=r=>{throw new Ra(r)};class $a extends Error{constructor(r){super(`illegal arity: ${r}`)}}const l=r=>{throw new $a(r)};class bb extends Error{constructor(t){super("illegal state"+(void 0!==t?": "+t:""))}}const wa=t=>{throw new bb(t)};const va=(t,i)=>{if(t)for(let e,r=0,s=t.length;r<s;r++)if((e=t[r])[0].call(e[1],i),i.canceled)return};const Hb=Ba({addListener(t,i,e){let r=(this._listeners=this._listeners||{})[t];return r||(r=this._listeners[t]=[]),-1===this.__listener(r,i,e)&&(r.push([i,e]),!0)},removeListener(t,i,e){if(!this._listeners)return!1;const r=this._listeners[t];if(r){const t=this.__listener(r,i,e);if(-1!==t)return r.splice(t,1),!0}return!1},notify(t){this._listeners&&(void 0===t.target&&(t.target=this),va(this._listeners[t.id],t),va(this._listeners[Na],t))},__listener(t,i,e){let r=t.length;for(;--r>=0;){const s=t[r];if(s[0]===i&&s[1]===e)break}return r}});const Ha=Ba({addWatch(t,h){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=h,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,h){if(!this._watches)return;const e=this._watches;for(let i in e)e[i](i,t,h)}});let V,T;const ka=Object.getPrototypeOf({}),j=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==ka||null!=($=Object.getPrototypeOf(t))&&$!==ka?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?ja(e,t):e instanceof Set&&t instanceof Set?ga(e,t):e instanceof Map&&t instanceof Map?fa(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:ea(e,t)))};const ja=(e,t,$=j)=>{let o=e.length;if(o===t.length)for(;--o>=0&&$(e[o],t[o]););return o<0};const ga=(e,t,$=j)=>e.size===t.size&&$([...e.keys()].sort(),[...t.keys()].sort());const fa=(e,t,$=j)=>e.size===t.size&&$([...e].sort(),[...t].sort());const ea=(e,t,$=j)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!t.hasOwnProperty(o)||!$(e[o],t[o]))return!1;return!0};let lb=[],mb=[];const rb=$=>V&&V.length>=$?V:V=new Int32Array($),Ab=$=>T&&T.length>=$?T:T=new Int32Array($),da=($,e,s,a,r)=>{const t=e.length,c=$.linear;if($.distance=t,0!==r){for(let $=0,s=0;$<t;$++,s+=3)c[s]=a,c[s+1]=$,c[s+2]=e[$];if(3===r){const a=$[s];for(let $=0;$<t;$++)a[$]=e[$]}}return $},Lb=($,e,s=3,a=j)=>{const r={distance:0,adds:{},dels:{},const:{},linear:[]};if($===e||null==$&&null==e)return r;if(null==$||0===$.length)return da(r,e,"adds",1,s);if(null==e||0===e.length)return da(r,$,"dels",-1,s);const t=$.length>=e.length;let c,l,n,h;t?(c=e,l=$):(c=$,l=e),n=c.length,h=l.length;const d=n+1,o=h-n,i=o+d,q=n+h+3,O=Ab(q).fill(-1,0,q),f=rb(q).fill(-1,0,q),v=lb,u=mb;v.length=0,u.length=0;const P=($,e,s)=>{const r=$+d;let t,o;e>s?(t=O[r-1],o=e):(t=O[r+1],o=s);let i=o-$;for(;i<n&&o<h&&a(c[i],l[o]);)i++,o++;return O[r]=u.length/3,u.push(i,o,t),o};let g,p,_=-1;do{for(p=(g=-++_)+d;g<o;g++,p++)f[p]=P(g,f[p-1]+1,f[p+1]);for(p=(g=o+_)+d;g>o;g--,p--)f[p]=P(g,f[p-1]+1,f[p+1]);f[i]=P(o,f[i-1]+1,f[i+1])}while(f[i]!==h);if(r.distance=o+2*_,0!==s){for(_=3*O[i];_>=0;)v.push(_),_=3*u[_+2];3===s?Mb(v,u,r,c,l,t):Nb(v,u,r,c,l,t,1===s)}return r};const Mb=($,e,s,a,r,t)=>{const c=s.linear,l=s.const;let n,h,d,o,i=$.length,q=0,O=0;for(t?(n=s.dels,h=s.adds,d=-1,o=1):(n=s.adds,h=s.dels,d=1,o=-1);--i>=0;){const s=$[i],t=e[s],f=e[s+1],v=f-t;for(;q<t||O<f;){const $=O-q;v>$?(c.push(d,O,n[O]=r[O]),O++):v<$?(c.push(o,q,h[q]=a[q]),q++):(c.push(0,q,l[q]=a[q]),q++,O++)}}},Nb=($,e,s,a,r,t,c)=>{const l=s.linear,n=t?-1:1,h=t?1:-1;let d=$.length,o=0,i=0;for(;--d>=0;){const s=$[d],t=e[s],q=e[s+1],O=q-t;for(;o<t||i<q;){const $=i-o;O>$?(l.push(n,i,r[i]),i++):O<$?(l.push(h,o,a[o]),o++):(c&&l.push(0,o,a[o]),o++,i++)}}};const Ob=(t,e,n=3,$=j)=>t===e?{distance:0}:0===n?_b(t,e,$):_c(t,e,$);const _b=(t,e,n)=>{let $=0;for(let i in t){const r=e[i];(void 0===r||!n(t[i],r))&&$++}for(let i in e)!(i in t)&&$++;return{distance:$}},_c=(t,e,n)=>{let $=0;const i=[],r=[],a=[];for(let f in t){const i=e[f];void 0===i?(r.push(f),$++):n(t[f],i)||(a.push(f,i),$++)}for(let f in e)f in t||(i.push(f),$++);return{distance:$,adds:i,dels:r,edits:a}};const E=Array.isArray,La=Math.max,$=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),Pa=e=>{if(e<=$.length)return $.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},Ea=(e,t,r,$,i,p=0)=>{const o=i[1];if(o.__skip)return;if(!1===o.__diff)return w($),void t.replaceChild(e,r,p,i);let n=o.__impl;if(n&&n!==t)return n.diffTree(e,n,r,$,i,p);const a=Lb($,i,1,z);if(0===a.distance)return;const f=a.linear,s=t.getChild(r,p);let l,H,v,u,c,d,x,_;if(0!==f[0]||$[1].key!==o.key)return w($),void t.replaceChild(e,r,p,i);if((_=$.__release)&&_!==i.__release&&w($),0!==f[3]&&(Ua(t,s,$[1],i[1]),2===a.distance))return;const g=f.length,y=$.length-1,q=Ya(f),A=Pa(y+1);for(l=2,H=6;H<g;l++,H+=3)if(x=f[H])if(-1===x){if(_=f[H+2],E(_)){if(void 0!==(c=_[1].key)&&void 0!==q[c][2])c=(d=q[c])[0],Ea(e,t,s,$[c],i[d[2]],A[c]);else for(u=f[H+1],w(_),t.removeChild(s,A[u]),v=y;v>u;v--)A[v]=La(A[v]-1,0);}else"string"==typeof _&&t.setContent(s,"");}else if("string"==typeof(_=f[H+2]))t.setContent(s,_);else if(E(_)&&(void 0===(c=_[1].key)||void 0===q[c][0]))for(u=f[H+1],t.createTree(e,s,_,A[u]),v=y;v>=u;v--)A[v]++;(_=i.__init)&&_!=$.__init&&_.apply(i,[s,...i.__args])};const Ua=(e,t,r,$)=>{const i=Ob(r,$,3,j);e.removeAttribs(t,i.dels,r);let p,o,n,a=g;for(p=(n=i.edits).length;(p-=2)>=0;){const i=n[p];0===i.indexOf("on")&&e.removeAttribs(t,[i],r),"value"!==i?e.setAttrib(t,i,n[p+1],$):a=n[p+1]}for(p=(n=i.adds).length;--p>=0;)"value"!==(o=n[p])?e.setAttrib(t,o,$[o],$):a=$[o];a!==g&&e.setAttrib(t,"value",a,$)};const w=e=>{if(E(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)w(e[t])}};const Ya=e=>{let t,r,$;const i={};for(let p=e.length;(p-=3)>=0;)r=e[p+2],E(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[p]+1]=e[p+1]);return i},ya=Object.getPrototypeOf({}),z=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==ya||null!=(r=Object.getPrototypeOf(t))&&r!==ya?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?ja(e,t,z):e instanceof Set&&t instanceof Set?ga(e,t,z):e instanceof Map&&t instanceof Map?fa(e,t,z):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&ea(e,t,z)))};const o=o=>"function"==typeof o;const y=(n,t)=>null!=n&&"function"==typeof n[t];const h=Array.isArray;const gb=r=>null!=r&&"function"!=typeof r&&void 0!==r.length;const xa=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const ta=Object.getPrototypeOf,nb=e=>{let $;return null!=e&&"object"==typeof e&&(null===($=ta(e))||null===ta($))};const ob=e=>e instanceof Promise;const k=s=>"string"==typeof s;const sb="http://www.w3.org/2000/svg";const xb=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const yb="animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view".split(" ").reduce((e,o)=>(e[o]=1,e),{});const pd="area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml".split(" ").reduce((e,o)=>(e[o]=1,e),{});const Eb={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const Fb={button:1,option:1,text:1,textarea:1};const od=new RegExp(`[${Object.keys(Eb)}]`,"g");const Ib=$=>{let n,r="";for(let e in $)n=$[e],o(n)&&(n=n($)),null!=n&&(r+=`${e}:${n};`);return r};const Jb=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];y(e,"deref")&&(r[n]=e.deref())}return r};const F=h,_=xa,H=(e,t,r,s,$)=>{if(F(s)){const o=s[0];if("function"==typeof o)return H(e,t,r,o.apply(null,[e.ctx,...s.slice(1)]),$);const n=s[1];if(n.__impl)return n.__impl.createTree(e,r,s,$);const i=t.createElement(r,o,n,$);if(s.length>2){const r=s.length;for(let $=2;$<r;$++)H(e,t,i,s[$])}return s.__init&&s.__init.apply(s.__this,[i,...s.__args]),i}if(_(s)){const $=[];for(let o of s)$.push(H(e,t,r,o));return $}return null==s?r:t.createTextElement(r,s)};const I=(e,t,r,s,$=0)=>{if(F(s)){const o=t.getChild(r,$);"function"==typeof s[0]&&I(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),$);const n=s[1];if(n.__impl)return n.__impl.hydrateTree(e,r,s,$);s.__init&&s.__init.apply(s.__this,[o,...s.__args]);for(let e in n)0===e.indexOf("on")&&t.setAttrib(o,e,n[e]);for(let r=s.length,$=2;$<r;$++)I(e,t,o,s[$],$-2)}else if(_(s))for(let o of s)I(e,t,r,o,$),$++};const Qb=(e,t,r,s)=>{const $=yb[t]?document.createElementNS(sb,t):document.createElement(t);return e&&(null==s?e.appendChild($):e.insertBefore($,e.children[s])),r&&Yb($,r),$};const Rb=(e,t,r)=>{const s=document.createTextNode(t);return e&&(void 0===r?e.appendChild(s):e.insertBefore(s,e.children[r])),s};const Sb=(e,t)=>e.children[t];const Vb=(e,t,r,s,$)=>(t.removeChild(r,s),t.createTree(e,r,$,s));const Wb=(e,t)=>e.textContent=t;const Yb=(e,t)=>{for(let r in t)ha(e,r,t[r],t);return e};const ha=(e,t,r,s)=>{if(t.startsWith("__"))return;const $=0===t.indexOf("on");if($||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":Fc(e,r);break;case"value":Bc(e,r);break;case"id":case"checked":case"scrollTop":case"scrollLeft":e[t]=r;break;default:$?Gc(e,t.substr(2),r):e.setAttribute(t,r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const Bc=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-e.selectionStart);e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t;}};const Dc=(e,t,r)=>{for(let s=t.length;--s>=0;){const $=t[s];0===$.indexOf("on")?Ic(e,$.substr(2),r[$]):e.hasAttribute($)?e.removeAttribute($):e[$]=null}};const Fc=(e,t)=>(e.setAttribute("style",Ib(t)),e);const Gc=(e,t,r)=>{F(r)?e.addEventListener(t,...r):e.addEventListener(t,r)};const Ic=(e,t,r)=>{F(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r)};const Mc=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const K=h,ad=xa,bd=nb,fd=(e,r)=>{let $,i,t,n,p=e[0],a=bd(e[1]);return"string"==typeof p&&($=xb.exec(p))||W(`${p} is not a valid tag name`),p!==$[1]||!a||r&&!e[1].key?(n=a?Object.assign({},e[1]):{},i=$[2],t=$[3],i&&(n.id=i),t&&(t=t.replace(/\./g," "),n.class?n.class+=" "+t:n.class=t),n.__skip&&e.length<3?[$[1],n,""]:[$[1],n,...e.slice(a?2:1)]):e};const md=(e,r)=>f(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const f=(e,r,$,i,t,n)=>{if(null!=e){if(K(e)){if(0===e.length)return;let p,a,o=e[1];if(o&&(a=o.__impl)&&(a=a.normalizeTree))return a(r,e);const l=e[0];if("function"==typeof l)return f(l.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof l.render){const a=[$,...e.slice(1)];return p=f(l.render.apply(l,a),r,$,i,t,n),K(p)&&(p.__this=l,p.__init=l.init,p.__release=l.release,p.__args=a),p}if(!1===(o=(p=fd(e,t))[1]).__normalize)return p;if(t&&void 0===o.key&&(o.key=i.join("-")),p.length>2){const e=p[0],a=[e,o];n=n&&!Fb[e];for(let o=2,l=2,s=0,c=p.length;o<c;o++){let e=p[o];if(null!=e){const p=K(e);if(p&&K(e[0])||!p&&ad(e))for(let o of e)void 0!==(o=f(o,r,$,i.concat(s),t,n))&&(a[l++]=o),s++;else void 0!==(e=f(e,r,$,i.concat(s),t,n))&&(a[l++]=e),s++}}return a}return p}return"function"==typeof e?f(e($),r,$,i,t,n):"function"==typeof e.toHiccup?f(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?f(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const Ia={createTree(e,t,r,$){return H(e,this,t,r,$)},hydrateTree(e,t,r,$){return I(e,this,t,r,$)},diffTree(e,t,r,$,a){Ea(e,this,t,r,$,a)},normalizeTree:md,getElementById:e=>document.getElementById(e),getChild:Sb,createElement:Qb,createTextElement:Rb,replaceChild(e,t,r,$){Vb(e,this,t,r,$)},removeChild:Mc,setContent:Wb,removeAttribs:Dc,setAttrib:ha};const Ja=(e,o)=>k(e)?o.getElementById(e):e;const Ka=(r,e={},t=Ia)=>{const $=Object.assign({root:"app"},e);let o=[],a=!0;const m=Ja($.root,t),i=()=>{if(a){$.ctx=Jb(e.ctx,$.autoDerefKeys);const s=t.normalizeTree($,r);null!=s&&($.hydrate?(t.hydrateTree($,m,s),$.hydrate=!1):t.diffTree($,m,o,s),o=s),a&&requestAnimationFrame(i)}};return requestAnimationFrame(i),()=>a=!1};const L="--set-value";const Ma="--update-value";const oa="--toggle-value";const Oa="--cancel";const sa="--dispatch";const Qa="--dispatch-async";const Aa="--dispatch-now";const Sa="--delay";const Ta="--fetch";const G="--state";const Va="--redo";const Wa="--undo";var r={};const ia=Array.isArray,Za=k,c=t=>ia(t)?t.slice():Object.assign({},t),_a=(t,$)=>(e,r)=>(e=c(e),e[t]=$?$(e[t],r):r,e),O=t=>ia(t)?t:Za(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];const B=t=>{const $=O(t);let[e,r,a,n]=$;switch($.length){case 0:return t=>t;case 1:return t=>null!=t?t[e]:void 0;case 2:return t=>null!=t&&null!=(t=t[e])?t[r]:void 0;case 3:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[r])?t[a]:void 0;case 4:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[r])&&null!=(t=t[a])?t[n]:void 0;default:return t=>{const e=$.length-1;let r=t;for(let a=0;null!=r&&a<=e;a++)r=r[$[a]];return r};}};const A=t=>{const $=O(t);let[e,r,a,n]=$;switch($.length){case 0:return(t,$)=>$;case 1:return(t,$)=>(t=c(t),t[e]=$,t);case 2:return(t,$)=>{let a;return(t=c(t))[e]=a=c(t[e]),a[r]=$,t};case 3:return(t,$)=>{let n,o;return(t=c(t))[e]=n=c(t[e]),n[r]=o=c(n[r]),o[a]=$,t};case 4:return(t,$)=>{let o,s,f;return(t=c(t))[e]=o=c(t[e]),o[r]=s=c(o[r]),s[a]=f=c(s[a]),f[n]=$,t};default:let t;for(let e=$.length;--e>=0;)t=_a($[e],t);return t;}};const db=(t,$)=>B($)(t);const v=(t,$,e)=>A($)(t,e);const fb=(t,$)=>{const e=B(t),r=A(t);return(t,...a)=>r(t,$.apply(null,(a.unshift(e(t)),a)))};const P=(t,$,e,...r)=>A($)(t,e.apply(null,(r.unshift(B($)(t)),r)));let hb=0;const nd=()=>hb++;class jb{constructor(t,i,s,e=!0,r=j){this.parent=t,this.id=`view-${nd()}`,this.tx=s||(t=>t),this.path=O(i),this.isDirty=!0,this.isLazy=e;const h=B(this.path),$=this.parent.deref();this.unprocessed=$?h($):void 0,e||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(t,i,s)=>{const $=i?h(i):i,a=s?h(s):s;r(a,$)||(e?this.unprocessed=a:this.state=this.tx(a),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}var kb=r&&r.__decorate||function(e,t,r,i){var $,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)($=e[o])&&(s=(a<3?$(s):a>3?$(t,r,s):$(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s};let q=class{constructor(e,t){t&&!t(e)&&wa("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(v(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(P(this._value,e,t,...r))}addWatch(e,t){return!1}removeWatch(e){return!1}notifyWatches(e,t){}addView(e,t,r=!0){return new jb(this,e,t,r)}release(){return delete this._watches,delete this._value,!0}};q=kb([Ha],q),r.Atom=q,r.Atom=q;const Q=Oa,aa=Aa,d=G;class pb{constructor(e,t){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),e&&this.addHandlers(e),t&&this.addEffects(t)}addBuiltIns(){this.addEffects({[sa]:[e=>this.dispatch(e),-999],[Qa]:[([e,t,r,s])=>{const i=this.effects[e];if(i){const e=i(t,this);ob(e)?e.then(e=>this.dispatch([r,e])).catch(e=>this.dispatch([s,e])):console.warn("async effect did not return Promise")}else console.warn(`skipping invalid async effect: ${e}`)},-999],[Sa]:[([e,t])=>new Promise(r=>setTimeout(()=>r(t),e)),1e3],[Ta]:[e=>fetch(e).then(e=>{if(!e.ok)throw new Error(e.statusText);return e}),1e3]})}addHandler(e,t){const r=h(t)?t.map(ba):o(t)?[{pre:t}]:[t];r.length>0?(this.handlers[e]&&(this.removeHandler(e),console.warn(`overriding handler for ID: ${e}`)),this.handlers[e]=r):W(`no handlers in spec for ID: ${e}`)}addHandlers(e){for(let t in e)this.addHandler(t,e[t])}addEffect(e,t,r=1){this.effects[e]&&(this.removeEffect(e),console.warn(`overriding effect for ID: ${e}`)),this.effects[e]=t;const s=[e,r],i=this.priorities;for(let $=0;$<i.length;$++)if(s[1]<i[$][1])return void i.splice($,0,s);i.push(s)}addEffects(e){for(let t in e){const r=e[t];h(r)?this.addEffect(t,r[0],r[1]):this.addEffect(t,r)}}instrumentWith(e,t){const r=e.map(ba),s=this.handlers;for(let i of t||Object.keys(s)){const e=s[i];e&&(s[i]=r.concat(e))}}removeHandler(e){delete this.handlers[e]}removeHandlers(e){for(let t of e)this.removeHandler(t)}removeEffect(e){delete this.effects[e];const t=this.priorities;for(let r=t.length-1;r>=0;r--)if(e===t[r][0])return void t.splice(r,1)}removeEffects(e){for(let t of e)this.removeEffect(t)}context(){return this.currCtx}dispatch(...e){this.eventQueue.push(...e)}dispatchNow(...e){(this.currQueue||this.eventQueue).push(...e)}dispatchLater(e,t=17){setTimeout(()=>this.dispatch(e),t)}processQueue(e){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=e||{};for(let t of this.currQueue)this.processEvent(e,t);return this.currQueue=this.currCtx=void 0,this.processEffects(e),!0}return!1}processEvent(e,t){const r=this.handlers[t[0]];if(!r)return void console.warn(`missing handler for event type: ${t[0].toString()}`);const s=r.length-1;let i=!1;for(let $=0;$<=s&&!e[Q];$++){const s=r[$];s.pre&&this.mergeEffects(e,s.pre(e[d],t,this,e)),i=i||!!s.post}if(i)for(let $=s;$>=0&&!e[Q];$--){const s=r[$];s.post&&this.mergeEffects(e,s.post(e[d],t,this,e))}}processEffects(e){const t=this.effects;for(let r of this.priorities){const s=r[0],i=e[s];if(void 0!==i){const r=t[s];if(s!==d)for(let t of i)r(t,this,e);else r(i,this,e)}}}mergeEffects(e,t){if(t)for(let r in t){const s=t[r];if(null!=s)if(r===d||r===Q)e[r]=s;else if(r===aa){if(h(s[0]))for(let e of s)e&&this.dispatchNow(e);else this.dispatchNow(s);}else if(e[r]||(e[r]=[]),h(s[0]))for(let t of s)void 0!==t&&e[r].push(t);else e[r].push(s)}}}class qb extends pb{constructor(e,t,r){super(t,r),this.state=e||new q({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[L]:(e,[t,[r,s]])=>({[d]:v(e,r,s)}),[Ma]:(e,[t,[r,s,...i]])=>({[d]:P(e,r,s,...i)}),[oa]:(e,[t,r])=>({[d]:P(e,r,e=>!e)}),[Wa]:ca("undo"),[Va]:ca("redo")}),this.addEffects({[d]:[e=>this.state.reset(e),-1e3]})}processQueue(e){if(this.eventQueue.length>0){const t=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=Object.assign({},e,{[d]:t});for(let r of this.currQueue)this.processEvent(e,r);return this.currQueue=this.currCtx=void 0,this.processEffects(e),this.state.deref()!==t}return!1}}const ba=e=>o(e)?{pre:e}:e,ca=e=>(t,[r,s],i,$)=>{let h=s?s[0]:"history";if(y($[h],e)){const t=$[h][e]();return{[d]:i.state.deref(),[aa]:s?void 0!==t?s[1]:s[2]:void 0}}console.warn("no history in context")};const tb=e=>()=>({[sa]:e});const ub=e=>()=>({[Aa]:e});const vb=(e,$)=>{const t=A(e);return(e,[r,o])=>({[G]:t(e,$?$(o):o)})};const wb=(e,$)=>{const t=fb(e,$);return(e,[$,...r])=>({[G]:t(e,...r)})};const n="route-changed";var C={};var zb=C&&C.__decorate||function(t,e,r,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(s=(a<3?o(s):a>3?o(e,r,s):o(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s};let t=class{constructor(t){t.authenticator=t.authenticator||((t,e,r)=>({id:t.id,title:t.title,params:r})),t.prefix=void 0===t.prefix?"/":t.prefix,t.separator=t.separator||"/",this.config=t}addListener(t,e,r){return!1}removeListener(t,e,r){return!1}notify(t){}start(){if(this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.current={id:t.id,title:t.title,params:{}},this.notify({id:n,value:this.current})}}route(t){"#"===t.charAt(0)&&(t=t.substr(1)),t=t.substr(this.config.prefix.length);const e=this.config.routes,r=t.split(this.config.separator);let i;for(let o=0,a=e.length;o<a;o++){const t=e[o],a=this.matchRoute(r,t);if(a){i=a;break}}if(!i){if(!this.handleRouteFailure())return;const t=this.routeForID(this.config.defaultRouteID);i={id:t.id,title:t.title,params:{}}}return j(i,this.current)||(this.current=i,this.notify({id:n,value:i})),i}format(...t){let e,[r,i,o]=t;switch(t.length){case 3:e={id:r,params:i};break;case 2:k(r)?e={id:r,params:i}:(o=i,e=r);break;case 1:e=k(r)?{id:r}:r;break;default:l(t.length);}const a=this.routeForID(e.id);if(a){const t=e.params||{};return(o?"#":"")+this.config.prefix+a.match.map(e=>"?"===e.charAt(0)?null!=(e=t[e.substr(1)])?e:"NULL":e).join(this.config.separator)}W(`invalid route ID: ${e.id.toString()}`)}routeForID(t){return this.config.routes.find(e=>e.id===t)}matchRoute(t,e){const r=e.match,i=r.length;if(t.length===i){const o={};for(let e=0;e<i;e++){const i=r[e];if("?"===i.charAt(0))o[i.substr(1)]=t[e];else if(t[e]!==i)return}if(e.validate&&!this.validateRouteParams(o,e.validate))return;return e.auth?this.config.authenticator(e,t,o):{id:e.id,title:e.title,params:o}}}validateRouteParams(t,e){for(let r in e)if(void 0!==t[r]){const i=e[r];if(i.coerce&&(t[r]=i.coerce(t[r])),i.check&&!i.check(t[r]))return!1}return!0}handleRouteFailure(){return!0}};t=zb([Hb],t),C.BasicRouter=t,C.BasicRouter=t;class Bb extends t{constructor(t){super(t),this.useFragment=!1!==t.useFragment}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.route(this.format({id:t.id,title:t.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(t,e=!0){const r=this.current,i=super.route(t);return j(i,r)||(this.currentPath=this.format(i),e&&history.pushState(this.currentPath,i.title||window.document.title||"",this.currentPath)),i}routeTo(t){this.useFragment&&(location.hash=t),this.route(t)}format(...t){let e;switch(t.length){case 2:e={id:t[0],params:t[1]};break;case 1:e=k(t[0])?{id:t[0]}:t[0];break;default:l(t.length);}return super.format(e,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(t=>{this.route(t.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(t=>{if(!this.ignoreHashChange){const e=t.newURL.substr(t.newURL.indexOf("#"));e!==this.currentPath&&this.route(e,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}}var Cb,Db,i,R;(function($){$.INIT="init",$.ROUTE_TO="route-to",$.GESTURE="gesture"})(i||(Cb=i={},Cb)),function($){$[$.ROUTE_TO=0]="ROUTE_TO"}(R||(Db=R={},Db));function*Gb($,e){const r=$([null,null,($,e)=>e])[2];for(let f of e){let $=r(g,f);if(x($))return void(($=u($.deref()))!==g&&(yield $));$!==g&&(yield $)}}class Z{constructor(e){this.value=e}deref(){return this.value}}const x=e=>e instanceof Z;const u=e=>e instanceof Z?e.deref():e;function Kb($){return $?[...$]:ma(()=>[],($,r)=>($.push(r),$))}function la(...e){let r,$;switch(e.length){case 3:$=e[2],r=e[1];break;case 2:$=e[1];break;default:l(e.length);}const t=e[0],c=t[0],o=t[1],i=t[2];if(r=null==r?c():r,y($,"$reduce"))r=$.$reduce(i,r);else if(gb($)){for(let u=0,d=$.length;u<d;u++)if(r=i(r,$[u]),x(r)){r=r.deref();break}}else for(let u of $)if(r=i(r,u),x(r)){r=r.deref();break}return u(o(r))}const ma=(e,r)=>[e,e=>e,r];function na(...e){let r,a;switch(e.length){case 4:a=e[3],r=e[2];break;case 3:a=e[2];break;case 2:return m(r=>na(e[0],e[1],r));default:l(e.length);}return la(e[0](e[1]),r,a)}function m(t,r){return r?Gb(m(t),r):r=>{const $=r[2];return Pb(r,(r,e)=>$(r,t(e)))}}const Pb=($,c)=>[$[0],$[1],c];function pa($){return $?la(pa(),$):ma(()=>new Object,($,[e,r])=>($[e]=r,$))}function qa(...e){let[r,$,t,o,c,p,i,n,s,a]=e;switch(e.length){case 0:l(0);case 1:return r;case 2:return(...e)=>r($(...e));case 3:return(...e)=>r($(t(...e)));case 4:return(...e)=>r($(t(o(...e))));case 5:return(...e)=>r($(t(o(c(...e)))));case 6:return(...e)=>r($(t(o(c(p(...e))))));case 7:return(...e)=>r($(t(o(c(p(i(...e)))))));case 8:return(...e)=>r($(t(o(c(p(i(n(...e))))))));case 9:return(...e)=>r($(t(o(c(p(i(n(s(...e)))))))));case 10:default:const u=(...e)=>r($(t(o(c(p(i(n(s(a(...e))))))))));return 10===e.length?u:qa(u,...e.slice(10));}}function ra(...$){return qa.apply(null,$)}function*Tb(r){for(let $ in r)r.hasOwnProperty($)&&(yield[$,r[$]])}var Ub,U;let e=eb;let Xb=0;const ua=()=>Xb++;const Zb=(t,s,i,e)=>new $b(t,s,i,e);class $b{constructor(t,s,i,e){this.state=0,this.parent=i,this.id=e||`sub-${ua()}`,this.last=g,this.subs=[],t&&this.subs.push(t),s&&(this.xform=s(Kb()))}deref(){return this.last!==g?this.last:void 0}getState(){return this.state}subscribe(...t){let s,i,e;switch(this.ensureState(),t.length){case 1:case 2:o(t[0])?(i=t[0],e=t[1]||`xform-${ua()}`):(s=t[0],o(t[1])?i=t[1]:e=t[1]);break;case 3:[s,i,e]=t;break;default:l(t.length);}return y(s,"subscribe")?s.parent=this:s=Zb(s,i,this,e),this.last!==g&&s.next(this.last),this.addWrapped(s)}subscribeAll(...t){const s=[];for(let i of t)s.push(this.subscribe(i));return s}transform(...t){const s=t.length-1;return k(t[s])?this.subscribe(ra(...t.slice(0,s)),t[s]):this.subscribe(ra(...t))}unsubscribe(t){if(e.debug(this.id,"unsub start",t?t.id:"self"),!t){let t=!0;return this.parent&&(t=this.parent.unsubscribe(this)),this.state=2,this.cleanup(),t}if(this.subs){e.debug(this.id,"unsub child",t.id);const s=this.subs.indexOf(t);if(s>=0)return this.subs.splice(s,1),this.subs.length||this.unsubscribe(),!0}return!1}next(t){if(this.state<2)if(this.xform){const s=this.xform[2]([],t),i=u(s),e=i.length;for(let t=0;t<e;t++)this.dispatch(i[t]);x(s)&&this.done()}else this.dispatch(t)}done(){if(e.debug(this.id,"done start"),this.state<2){if(this.xform){const t=this.xform[1]([]),s=u(t),i=s.length;for(let e=0;e<i;e++)this.dispatch(s[e])}this.state=2;for(let t of[...this.subs])t.done&&t.done();this.unsubscribe(),e.debug(this.id,"done")}}error(t){this.state=3;let s=!1;if(this.subs&&this.subs.length)for(let i of this.subs.slice())i.error&&(i.error(t),s=!0);s||(e.warn(this.id,"unhandled error:",t),this.parent&&(e.debug(this.id,"unsubscribing..."),this.unsubscribe(),this.state=3))}addWrapped(t){return this.subs.push(t),this.state=1,t}dispatch(t){this.last=t;const s=this.subs;let i;if(1==s.length){i=s[0];try{i.next&&i.next(t)}catch(e){i.error?i.error(e):this.error(e)}}else for(let r=s.length-1;r>=0;r--){i=s[r];try{i.next&&i.next(t)}catch(e){i.error?i.error(e):this.error(e)}}}ensureState(){this.state>=2&&wa(`operation not allowed in state ${this.state}`)}cleanup(){e.debug(this.id,"cleanup"),this.subs.length=0,delete this.parent,delete this.xform,delete this.last}}(function(e){e[e.START=0]="START",e[e.MOVE=1]="MOVE",e[e.DRAG=2]="DRAG",e[e.END=3]="END",e[e.ZOOM=4]="ZOOM"})(U||(Ub=U={},Ub));var s={};var ac={};ac="how-raymarching-works.0dfecf54.png";var bc={};bc="crowd-sim.57c42d64.png";var cc={};cc="mapbox-gl.8aec6e9f.png";var dc={};dc="noisy-drawing.f6e6554a.png";var ec={};ec="realtime-cppn.402960c1.png";var fc={};fc="replayable-drawing.59230de0.png";var gc={};gc="tensorflow-curve-fitting.0fa59f8e.png";var hc={};hc="simple-graph-editing.b6c94cfc.png";var ic={};ic="sortvis.c08a0b7d.png";var jc={};jc="webgl.5619148b.png";var kc={};kc="minimum-edit-distance.3a39ef8e.png";var lc={};lc="github-files-graph.6d2c5c25.png";var mc=a(lc);var nc=a(ic);var oc=a(kc);var pc=a(jc);var qc=a(hc);var rc=a(gc);var sc=a(ac);var tc=a(fc);var uc=a(ec);var vc=a(bc);var wc=a(cc);var xc=a(dc);const yc=[{id:"github-files-graph",cover:mc.d,title:"github files graph",desc:"view github files structure as forced directed graph",url:"https://observablehq.com/@stwind/github-files-graph"},{id:"sortvis",cover:nc.d,title:"sorting algorithms",desc:"static visualization of sorting algorithms",url:"https://observablehq.com/@stwind/sorting-algorithms"},{id:"minimum-edit-distance",cover:oc.d,title:"minimum edit distance",desc:"minimum edit distance calculator",url:"https://observablehq.com/@stwind/minimum-edit-distance"},{id:"deformed-sphere",cover:pc.d,title:"deformed sphere",desc:"deforming an icosphere with a generated height map, with SSAO post-processing.",url:"https://observablehq.com/@stwind/hello-thi-ng-webgl"},{id:"simple-graph-editing",cover:qc.d,title:"simple graph editing",desc:"proof of concept of a graph editing interaction",url:"https://observablehq.com/@stwind/simple-graph-editing"},{id:"tensorflow-js-curve-fitting",cover:rc.d,title:"tensorflow.js curve fitting",desc:"a tiny curve fitting dashboard prototype for Tensorflow.js.",url:"https://observablehq.com/@stwind/tensorflow-js-interactive-curve-fitting"},{id:"how-raymarching-works",cover:sc.d,title:"how raymarching works?",desc:"a visualization demonstrating how raymarching works.",url:"https://observablehq.com/@stwind/how-raymarching-works"},{id:"replayable-drawing",cover:tc.d,title:"replayable drawing",desc:"circle drawing with time travelling.",url:"https://observablehq.com/@stwind/replayable-drawing"},{id:"realtime-cppn",cover:uc.d,title:"realtime CPPN",desc:"an implementation of realtime Compositional pattern-producing networks (CPPNs) using WebGL.",url:"https://observablehq.com/@stwind/realtime-cppn"},{id:"crowd-simulation",cover:vc.d,title:"simple crowd simulation",desc:"some path following rabbits simulated with simple steering behaviors.",url:"https://observablehq.com/@stwind/crowd-simulation"},{id:"mapbox-gl-with-ufo",cover:wc.d,title:"mapbox gl with ufo",desc:"playing around with Mapbox GL custom layers, to explore the dark world with an UFO.",url:"https://observablehq.com/@stwind/mapbox-gl-with-ufo"},{id:"noisy-drawing",cover:xc.d,title:"noisy drawing",desc:"drawing with perlin noise.",url:"https://observablehq.com/@stwind/noisy-drawing"}];s.sketches=yc;const zc=[{id:"terraform-docker-mac-kubernetes",title:"terraform\u3067docker for mac\u3068kubernetes\u3092\u52D5\u304B\u3057\u3066\u307F\u308B",url:"https://qiita.com/stwind/items/f48260cbf74f1ae5113a"},{id:"tsne-grid-mnist",title:"tsne grid \u3067 mnist \u3092\u8ABF\u3079\u3066\u307F\u305F",url:"https://qiita.com/stwind/items/1c1025799b8e7a274c0f"},{id:"erlang-hot-reloading",title:"erlang \u3067\u306E\u30DB\u30C3\u30C8\u30B3\u30FC\u30C9\u30ED\u30FC\u30C7\u30A3\u30F3\u30B0",url:"https://qiita.com/stwind/items/f13072f1c23af06d1bd6"}];s.posts=zc;const Ac=[{id:"airflow-kubernetes",title:"bare minimal airflow on kubernetes",url:"https://github.com/stwind/airflow-on-kubernetes"},{id:"sketchrnn-tf2",title:"sketch-rnn tf2",url:"https://github.com/stwind/SketchRNN_tf2/"}];s.projects=Ac;const p=(s,t)=>{if(!t)return s;const e=Object.assign({},s,t);return s.class&&t.class&&(e.class=s.class+" "+t.class),s.style&&t.style&&(e.style=Object.assign({},s.style,t.style)),e};const Cc=t=>(!(t=Object.assign({tag:"a",tagDisabled:"span",preventDefault:!0,attribs:{}},t)).attribs.role&&(t.attribs.role="button"),(e,r,...a)=>r.disabled?[t.tagDisabled,Object.assign({},p(t.attribsDisabled,r.attribs),{disabled:!0}),...a]:[t.tag,Object.assign({},p(t.attribs,r.attribs),{onclick:t.preventDefault?t=>(t.preventDefault(),r.onclick(t)):r.onclick}),...a]);const D=($,v)=>["a",k($)?{href:$}:$,v];const Ec=($,v,e,p)=>["a",Object.assign({href:"#",onclick:$=>{$.preventDefault(),e($)}},v),p];const X=({bus:$},r,e,o)=>[Ec,r,()=>$.dispatch([i.ROUTE_TO,e]),o];const za={init(A,e,r,i){const a=new Image;a.src=i,a.onload=()=>A.src=i},render:({ui:A},e)=>["img",Object.assign({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="},p(A.image.loading,e))],release(){}};const Hc=({ui:e,views:{sketches:r}})=>["div",e.home.main,"a stuff making programmer.",["ul",e.home.list,m(r=>["li",e.home.item,[X,{},[b.SKETCH.id,{id:r.id}],[za,e.home.thumb,r.cover]]],r.deref())]];const Y=({ui:$},e,i)=>D(Object.assign({href:e},$.link.default),i);const Jc=({ui:e,views:{sketch:i}})=>{const{title:t,desc:$,url:r,cover:c,id:s}=i.deref();return["div",e.sketch.main,["div",e.sketch.title,t],["div",[za,Object.assign({key:s},e.sketch.cover),c]],["div",$],["div",[Y,r,"[link]"]]]};const Kc=({ui:a})=>["div",a.about.main,["p","as a programmer I am always interested in tools. Tools that solve problems, and tools that create problems."],["p","a tool creates a parameter space, for the users to find ways through it. I am always fascinated with the landscape along these paths, and wondering what it looks like on the others."],["p","after spending some years building infrastructure software and messaging systems, I am deviating a little bit to explore a greater parameter space, by creating tools along the way. And this site will be a record of the exploration."]];const Lc={app:{class:"font-sans font-light text-sm text-gray-900 leading-normal no-debug-grid"},link:{default:{class:"text-red sm:hover:text-white sm:hover:bg-red"},active:{class:"bg-red text-white"}},image:{default:{class:""},loading:{class:"bg-gray-200"}},icon:{class:"svg-icon"},icons:{mail:{class:"icon icon-mail"},twitter:{class:"icon icon-twitter"},github:{class:"icon icon-github"}},utils:{hidden:{class:"hidden"}},canvas:{class:"fixed inset-0 pointer-events-none touch-action-none"},contacts:{class:"fixed bottom-3 right-4"},main:{class:"grid main"},logo:{class:"text-xl text-red sm:hover:text-white sm:hover:bg-red"},header:{class:"mx-6 pt-4 sm:pt-6 col-span-2 sm:col-span-1"},nav:{trigger:{class:"fixed top-7 right-6 w-3 h-3 sm:hidden"},container:{class:"sm:block col-span-2 sm:col-span-1 sm:col-start-1"},main:{class:"mx-6 stack"},item:{class:"truncate text-red hover:overflow-visible"},sectionName:{class:"text-green"}},content:{class:"stack mx-6 sm:block col-span-2 sm:col-span-1 sm:col-start-2 sm:row-start-1 sm:row-end-3 sm:pt-6 max-w-xl"},home:{main:{class:"stack sm:pt-2"},list:{class:"grid grid-columns-2 grid-gap-4 sm:grid-automin-16"},item:{class:""},thumb:{class:"h-16 w-full object-cover sm:w-16"}},sketch:{main:{class:"stack"},title:{class:"text-2xl text-red font-normal"},cover:{class:"h-40 w-full object-cover"}},about:{main:{class:"sm:pt-2 stack"}}};const b={HOME:{id:"home",match:["home"]},SKETCH:{id:"sketch",match:["sketch","?id"]},ABOUT:{id:"about",match:["about"]}};const Nc={useFragment:!0,defaultRouteID:b.HOME.id,routes:Object.values(b)};const Oc={[b.HOME.id]:Hc,[b.SKETCH.id]:Jc,[b.ABOUT.id]:Kc},Pc={route:"route",nav:"nav",posts:"posts",projects:"projects",sketches:"sketches",sketch:"sketch",content:["route.id",t=>Oc[t]],gestures:"gestures"},Qc=Object.assign({initialized:!1,nav:{visible:!1},gestures:{move:[],down:[]}},s);const Rc=t=>na(m(([o,e])=>[o,h(e)?t.addView(e[0],e[1]):t.addView(e)]),pa(),Tb(Pc));const Sc={[b.SKETCH.id]:(t,{params:o})=>{const e=db(t,"sketches").find(({id:t})=>t==o.id);return e?v(t,"sketch",e):t},[b.HOME.id]:(t,o)=>v(t,"sketch",void 0)},Tc=(t,[o,e])=>{const s=Sc[e.id];return{[G]:s?s(t,e):t}},Uc={[n]:[vb("route"),ub([L,["nav.visible",!1]]),Tc],[i.ROUTE_TO]:(t,[o,e])=>({[R.ROUTE_TO]:e}),[i.INIT]:tb([L,["initialized",!0]]),[i.GESTURE]:wb("gestures",(t,o)=>(o[0]==U.MOVE?t.move.push(o[1].pos):o[0]==U.START&&t.down.push(o[1].pos),t))};const Vc=t=>({[R.ROUTE_TO]:([o,e])=>t.routeTo(t.format(o,e))});const Wc=["svg",{viewBox:"0 0 20 20"},["path",{"fill-rule":"nonzero",d:"M10 9.293l4.146-4.147.708.708L10.707 10l4.147 4.146-.708.708L10 10.707l-4.146 4.147-.708-.708L9.293 10 5.146 5.854l.708-.708L10 9.293z"}]];const Xc=["svg",{viewBox:"0 0 20 20"},["g",{"fill-rule":"evenodd"},["path",{d:"M3 4h14v1H3zM3 10h14v1H3zM3 16h14v1H3z"}]]];const Yc=({ui:$})=>["span",$.icon,Xc];const Zc=({ui:$})=>["span",$.icon,Wc];const $c=({ui:t})=>["div",t.contacts,D({href:"https://github.com/stwind"},["span",t.icons.github]),D({href:"https://twitter.com/st_ind"},["span",t.icons.twitter]),D({href:"mailto:stwind@gmail.com"},["span",t.icons.mail])];const Ca=({ui:$},e,a,r)=>[X,e?$.link.active:$.link.default,a,r],Da=({ui:$},e)=>["li",$.nav.item,e],M=($,e)=>["ul",m($=>[Da,[e,$]],$)],cd=({views:$},{id:e,title:a})=>{const r=$.route.deref(),s=r.id==b.SKETCH.id&&r.params.id==e;return[Ca,s,[b.SKETCH.id,{id:e}],a]},dd=($,e)=>[Y,e.url,e.title],ed=($,e)=>[Y,e.url,e.title],J=({ui:$},e,...a)=>["section",["div",$.nav.sectionName,`[${e}]`],...a],gd=({ui:$,views:{nav:e,sketches:a,posts:r,projects:s,route:t}})=>["div",p($.nav.container,e.deref().visible?{}:$.utils.hidden),["nav",$.nav.main,[J,"sketches",M(a.deref(),cd)],[J,"projects",M(s.deref(),ed)],[J,"posts",M(r.deref(),dd)],[J,"misc",["ul",[Da,[Ca,t.deref().id==b.ABOUT.id,[b.ABOUT.id,{}],"about"]]]]],[$c]];const hd=Cc(),id=({ui:$,bus:e,views:a})=>[hd,{attribs:$.nav.trigger,onclick:()=>e.dispatch([oa,"nav.visible"])},[a.nav.deref().visible?Zc:Yc]];const jd=({ui:$})=>["header",$.header,[X,$.logo,[b.HOME.id,{}],"pngupngu"],[id]],kd=({ui:$,views:{nav:r,content:e}})=>["div",p($.content,r.deref().visible?$.utils.hidden:{}),e],ld=({ui:$})=>["div",$.app,["main",$.main,[jd],[gd],[kd]]];const Ga=new q(Qc),S=new Bb(Nc),N=new qb(Ga,Uc,Vc(S));S.addListener(n,$=>N.dispatch([n,$.value]));const Xa={ui:Lc,views:Rc(Ga),bus:N};S.start(),N.dispatch([i.INIT]),Ka(({bus:$})=>$.processQueue()?[ld]:null,{ctx:Xa});return{"9B6d":{}};});