parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function i(a){return a&&a.__esModule?{d:a.default}:{d:a}}var Fc,jd;const Ud="*";const u=Symbol();const ha=()=>{};var Pd;(function($){$[$.U8=0]="U8",$[$.U8C=1]="U8C",$[$.I8=2]="I8",$[$.U16=3]="U16",$[$.I16=4]="I16",$[$.U32=5]="U32",$[$.I32=6]="I32",$[$.F32=7]="F32",$[$.F64=8]="F64"})(Pd||(Fc=Pd={},Fc));var Jb;(function($){$[$.FINE=0]="FINE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.SEVERE=4]="SEVERE",$[$.NONE=5]="NONE"})(Jb||(jd=Jb={},jd));const Yd=Object.freeze({level:Jb.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});const Gb=(e,t={})=>{const r=Reflect.ownKeys(e),o=Reflect.ownKeys(t),n=Symbol("isa");function p(t){for(let o of r){const r=Object.getOwnPropertyDescriptor(t.prototype,o);!r||r.configurable?Object.defineProperty(t.prototype,o,{value:e[o],writable:!0}):console.log(`not patching: ${t.name}.${o.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let i of o)Object.defineProperty(p,i,{value:t[i],enumerable:t.propertyIsEnumerable(i)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};class Xc extends Error{constructor(r){super("illegal argument(s)"+(void 0!==r?": "+r:""))}}const s=r=>{throw new Xc(r)};class Ad extends Error{constructor(r){super(`illegal arity: ${r}`)}}const v=r=>{throw new Ad(r)};class Qd extends Error{constructor(t){super("illegal state"+(void 0!==t?": "+t:""))}}const $a=t=>{throw new Qd(t)};class Wd extends Error{constructor(r){super("unsupported operation"+(void 0!==r?": "+r:""))}}const jb=r=>{throw new Wd(r)};const xb=(t,i)=>{if(t)for(let e,r=0,s=t.length;r<s;r++)if((e=t[r])[0].call(e[1],i),i.canceled)return};const bf=Gb({addListener(t,i,e){let r=(this._listeners=this._listeners||{})[t];return r||(r=this._listeners[t]=[]),-1===this.__listener(r,i,e)&&(r.push([i,e]),!0)},removeListener(t,i,e){if(!this._listeners)return!1;const r=this._listeners[t];if(r){const t=this.__listener(r,i,e);if(-1!==t)return r.splice(t,1),!0}return!1},notify(t){this._listeners&&(void 0===t.target&&(t.target=this),xb(this._listeners[t.id],t),xb(this._listeners[Ud],t))},__listener(t,i,e){let r=t.length;for(;--r>=0;){const s=t[r];if(s[0]===i&&s[1]===e)break}return r}});const dc=Gb({addWatch(t,h){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=h,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,h){if(!this._watches)return;const e=this._watches;for(let i in e)e[i](i,t,h)}});let pa,Ha;const Ib=Object.getPrototypeOf({}),j=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==Ib||null!=($=Object.getPrototypeOf(t))&&$!==Ib?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Kb(e,t):e instanceof Set&&t instanceof Set?Qb(e,t):e instanceof Map&&t instanceof Map?Tb(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:Ta(e,t)))};const Kb=(e,t,$=j)=>{let o=e.length;if(o===t.length)for(;--o>=0&&$(e[o],t[o]););return o<0};const Qb=(e,t,$=j)=>e.size===t.size&&$([...e.keys()].sort(),[...t.keys()].sort());const Tb=(e,t,$=j)=>e.size===t.size&&$([...e].sort(),[...t].sort());const Ta=(e,t,$=j)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!t.hasOwnProperty(o)||!$(e[o],t[o]))return!1;return!0};let fe=[],ke=[];const te=$=>pa&&pa.length>=$?pa:pa=new Int32Array($),ue=$=>Ha&&Ha.length>=$?Ha:Ha=new Int32Array($),Wa=($,e,s,a,r)=>{const t=e.length,c=$.linear;if($.distance=t,0!==r){for(let $=0,s=0;$<t;$++,s+=3)c[s]=a,c[s+1]=$,c[s+2]=e[$];if(3===r){const a=$[s];for(let $=0;$<t;$++)a[$]=e[$]}}return $},Ya=($,e,s=3,a=j)=>{const r={distance:0,adds:{},dels:{},const:{},linear:[]};if($===e||null==$&&null==e)return r;if(null==$||0===$.length)return Wa(r,e,"adds",1,s);if(null==e||0===e.length)return Wa(r,$,"dels",-1,s);const t=$.length>=e.length;let c,l,n,h;t?(c=e,l=$):(c=$,l=e),n=c.length,h=l.length;const d=n+1,o=h-n,i=o+d,q=n+h+3,O=ue(q).fill(-1,0,q),f=te(q).fill(-1,0,q),v=fe,u=ke;v.length=0,u.length=0;const P=($,e,s)=>{const r=$+d;let t,o;e>s?(t=O[r-1],o=e):(t=O[r+1],o=s);let i=o-$;for(;i<n&&o<h&&a(c[i],l[o]);)i++,o++;return O[r]=u.length/3,u.push(i,o,t),o};let g,p,_=-1;do{for(p=(g=-++_)+d;g<o;g++,p++)f[p]=P(g,f[p-1]+1,f[p+1]);for(p=(g=o+_)+d;g>o;g--,p--)f[p]=P(g,f[p-1]+1,f[p+1]);f[i]=P(o,f[i-1]+1,f[i+1])}while(f[i]!==h);if(r.distance=o+2*_,0!==s){for(_=3*O[i];_>=0;)v.push(_),_=3*u[_+2];3===s?kf(v,u,r,c,l,t):tf(v,u,r,c,l,t,1===s)}return r};const kf=($,e,s,a,r,t)=>{const c=s.linear,l=s.const;let n,h,d,o,i=$.length,q=0,O=0;for(t?(n=s.dels,h=s.adds,d=-1,o=1):(n=s.adds,h=s.dels,d=1,o=-1);--i>=0;){const s=$[i],t=e[s],f=e[s+1],v=f-t;for(;q<t||O<f;){const $=O-q;v>$?(c.push(d,O,n[O]=r[O]),O++):v<$?(c.push(o,q,h[q]=a[q]),q++):(c.push(0,q,l[q]=a[q]),q++,O++)}}},tf=($,e,s,a,r,t,c)=>{const l=s.linear,n=t?-1:1,h=t?1:-1;let d=$.length,o=0,i=0;for(;--d>=0;){const s=$[d],t=e[s],q=e[s+1],O=q-t;for(;o<t||i<q;){const $=i-o;O>$?(l.push(n,i,r[i]),i++):O<$?(l.push(h,o,a[o]),o++):(c&&l.push(0,o,a[o]),o++,i++)}}};const uf=(t,e,n=3,$=j)=>t===e?{distance:0}:0===n?wf(t,e,$):zf(t,e,$);const wf=(t,e,n)=>{let $=0;for(let i in t){const r=e[i];(void 0===r||!n(t[i],r))&&$++}for(let i in e)!(i in t)&&$++;return{distance:$}},zf=(t,e,n)=>{let $=0;const i=[],r=[],a=[];for(let f in t){const i=e[f];void 0===i?(r.push(f),$++):n(t[f],i)||(a.push(f,i),$++)}for(let f in e)f in t||(i.push(f),$++);return{distance:$,adds:i,dels:r,edits:a}};const S=Array.isArray,oc=Math.max,fb=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),dd=e=>{if(e<=fb.length)return fb.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},ib=(e,t,r,$,i,p=0)=>{const o=i[1];if(o.__skip)return;if(!1===o.__diff)return B($),void t.replaceChild(e,r,p,i);let n=o.__impl;if(n&&n!==t)return n.diffTree(e,n,r,$,i,p);const a=Ya($,i,1,z);if(0===a.distance)return;const f=a.linear,s=t.getChild(r,p);let l,H,v,u,c,d,x,_;if(0!==f[0]||$[1].key!==o.key)return B($),void t.replaceChild(e,r,p,i);if((_=$.__release)&&_!==i.__release&&B($),0!==f[3]&&(ud(t,s,$[1],i[1]),2===a.distance))return;const g=f.length,y=$.length-1,q=Hd(f),A=dd(y+1);for(l=2,H=6;H<g;l++,H+=3)if(x=f[H])if(-1===x){if(_=f[H+2],S(_)){if(void 0!==(c=_[1].key)&&void 0!==q[c][2])c=(d=q[c])[0],ib(e,t,s,$[c],i[d[2]],A[c]);else for(u=f[H+1],B(_),t.removeChild(s,A[u]),v=y;v>u;v--)A[v]=oc(A[v]-1,0);}else"string"==typeof _&&t.setContent(s,"");}else if("string"==typeof(_=f[H+2]))t.setContent(s,_);else if(S(_)&&(void 0===(c=_[1].key)||void 0===q[c][0]))for(u=f[H+1],t.createTree(e,s,_,A[u]),v=y;v>=u;v--)A[v]++;(_=i.__init)&&_!=$.__init&&_.apply(i,[s,...i.__args])};const ud=(e,t,r,$)=>{const i=uf(r,$,3,j);e.removeAttribs(t,i.dels,r);let p,o,n,a=u;for(p=(n=i.edits).length;(p-=2)>=0;){const i=n[p];0===i.indexOf("on")&&e.removeAttribs(t,[i],r),"value"!==i?e.setAttrib(t,i,n[p+1],$):a=n[p+1]}for(p=(n=i.adds).length;--p>=0;)"value"!==(o=n[p])?e.setAttrib(t,o,$[o],$):a=$[o];a!==u&&e.setAttrib(t,"value",a,$)};const B=e=>{if(S(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)B(e[t])}};const Hd=e=>{let t,r,$;const i={};for(let p=e.length;(p-=3)>=0;)r=e[p+2],S(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[p]+1]=e[p+1]);return i},rb=Object.getPrototypeOf({}),z=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==rb||null!=(r=Object.getPrototypeOf(t))&&r!==rb?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Kb(e,t,z):e instanceof Set&&t instanceof Set?Qb(e,t,z):e instanceof Map&&t instanceof Map?Tb(e,t,z):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&Ta(e,t,z)))};const L=o=>"function"==typeof o;const da=(n,t)=>null!=n&&"function"==typeof n[t];const l=Array.isArray;const va=r=>null!=r&&"function"!=typeof r&&void 0!==r.length;const ie=e=>null!=e&&"function"==typeof e[Symbol.iterator];const Ja=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const Lb=t=>"number"==typeof t;const Nb=Object.getPrototypeOf,we=e=>{let $;return null!=e&&"object"==typeof e&&(null===($=Nb(e))||null===Nb($))};const xe=e=>e instanceof Promise;const m=s=>"string"==typeof s;const Ge="http://www.w3.org/2000/svg";const Xe=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const Ye="animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view".split(" ").reduce((e,o)=>(e[o]=1,e),{});const ig="area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml".split(" ").reduce((e,o)=>(e[o]=1,e),{});const ff={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const gf={button:1,option:1,text:1,textarea:1};const hg=new RegExp(`[${Object.keys(ff)}]`,"g");const mf=$=>{let n,r="";for(let e in $)n=$[e],L(n)&&(n=n($)),null!=n&&(r+=`${e}:${n};`);return r};const pf=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];da(e,"deref")&&(r[n]=e.deref())}return r};const O=l,Xa=Ja,R=(e,t,r,s,$)=>{if(O(s)){const o=s[0];if("function"==typeof o)return R(e,t,r,o.apply(null,[e.ctx,...s.slice(1)]),$);const n=s[1];if(n.__impl)return n.__impl.createTree(e,r,s,$);const i=t.createElement(r,o,n,$);if(s.length>2){const r=s.length;for(let $=2;$<r;$++)R(e,t,i,s[$])}return s.__init&&s.__init.apply(s.__this,[i,...s.__args]),i}if(Xa(s)){const $=[];for(let o of s)$.push(R(e,t,r,o));return $}return null==s?r:t.createTextElement(r,s)};const U=(e,t,r,s,$=0)=>{if(O(s)){const o=t.getChild(r,$);"function"==typeof s[0]&&U(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),$);const n=s[1];if(n.__impl)return n.__impl.hydrateTree(e,r,s,$);s.__init&&s.__init.apply(s.__this,[o,...s.__args]);for(let e in n)0===e.indexOf("on")&&t.setAttrib(o,e,n[e]);for(let r=s.length,$=2;$<r;$++)U(e,t,o,s[$],$-2)}else if(Xa(s))for(let o of s)U(e,t,r,o,$),$++};const Df=(e,t,r,s)=>{const $=Ye[t]?document.createElementNS(Ge,t):document.createElement(t);return e&&(null==s?e.appendChild($):e.insertBefore($,e.children[s])),r&&ac($,r),$};const Lf=(e,t,r)=>{const s=document.createTextNode(t);return e&&(void 0===r?e.appendChild(s):e.insertBefore(s,e.children[r])),s};const Nf=(e,t)=>e.children[t];const Zb=(e,t,r,s,$)=>(t.removeChild(r,s),t.createTree(e,r,$,s));const $b=(e,t)=>e.textContent=t;const ac=(e,t)=>{for(let r in t)db(e,r,t[r],t);return e};const db=(e,t,r,s)=>{if(t.startsWith("__"))return;const $=0===t.indexOf("on");if($||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":gc(e,r);break;case"value":ec(e,r);break;case"id":case"checked":case"scrollTop":case"scrollLeft":e[t]=r;break;default:$?jc(e,t.substr(2),r):e.setAttribute(t,r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const ec=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-e.selectionStart);e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t;}};const fc=(e,t,r)=>{for(let s=t.length;--s>=0;){const $=t[s];0===$.indexOf("on")?kc(e,$.substr(2),r[$]):e.hasAttribute($)?e.removeAttribute($):e[$]=null}};const gc=(e,t)=>(e.setAttribute("style",mf(t)),e);const jc=(e,t,r)=>{O(r)?e.addEventListener(t,...r):e.addEventListener(t,r)};const kc=(e,t,r)=>{O(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r)};const mc=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const Z=l,uc=Ja,Nc=we,Sc=(e,r)=>{let $,i,t,n,p=e[0],a=Nc(e[1]);return"string"==typeof p&&($=Xe.exec(p))||s(`${p} is not a valid tag name`),p!==$[1]||!a||r&&!e[1].key?(n=a?Object.assign({},e[1]):{},i=$[2],t=$[3],i&&(n.id=i),t&&(t=t.replace(/\./g," "),n.class?n.class+=" "+t:n.class=t),n.__skip&&e.length<3?[$[1],n,""]:[$[1],n,...e.slice(a?2:1)]):e};const Tc=(e,r)=>q(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const q=(e,r,$,i,t,n)=>{if(null!=e){if(Z(e)){if(0===e.length)return;let p,a,o=e[1];if(o&&(a=o.__impl)&&(a=a.normalizeTree))return a(r,e);const l=e[0];if("function"==typeof l)return q(l.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof l.render){const a=[$,...e.slice(1)];return p=q(l.render.apply(l,a),r,$,i,t,n),Z(p)&&(p.__this=l,p.__init=l.init,p.__release=l.release,p.__args=a),p}if(!1===(o=(p=Sc(e,t))[1]).__normalize)return p;if(t&&void 0===o.key&&(o.key=i.join("-")),p.length>2){const e=p[0],a=[e,o];n=n&&!gf[e];for(let o=2,l=2,s=0,c=p.length;o<c;o++){let e=p[o];if(null!=e){const p=Z(e);if(p&&Z(e[0])||!p&&uc(e))for(let o of e)void 0!==(o=q(o,r,$,i.concat(s),t,n))&&(a[l++]=o),s++;else void 0!==(e=q(e,r,$,i.concat(s),t,n))&&(a[l++]=e),s++}}return a}return p}return"function"==typeof e?q(e($),r,$,i,t,n):"function"==typeof e.toHiccup?q(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?q(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const _c={createTree(e,t,r,$){return R(e,this,t,r,$)},hydrateTree(e,t,r,$){return U(e,this,t,r,$)},diffTree(e,t,r,$,a){ib(e,this,t,r,$,a)},normalizeTree:Tc,getElementById:e=>document.getElementById(e),getChild:Nf,createElement:Df,createTextElement:Lf,replaceChild(e,t,r,$){Zb(e,this,t,r,$)},removeChild:mc,setContent:$b,removeAttribs:fc,setAttrib:db};const ad=(e,o)=>m(e)?o.getElementById(e):e;const cd=(r,e={},t=_c)=>{const $=Object.assign({root:"app"},e);let o=[],a=!0;const m=ad($.root,t),i=()=>{if(a){$.ctx=pf(e.ctx,$.autoDerefKeys);const s=t.normalizeTree($,r);null!=s&&($.hydrate?(t.hydrateTree($,m,s),$.hydrate=!1):t.diffTree($,m,o,s),o=s),a&&requestAnimationFrame(i)}};return requestAnimationFrame(i),()=>a=!1};const Ia="--set-value";const fd="--update-value";const ob="--toggle-value";const td="--cancel";const pb="--dispatch";const zd="--dispatch-async";const qb="--dispatch-now";const Bd="--delay";const Dd="--fetch";const _="--state";const Ld="--redo";const Od="--undo";var $={};const Bb=Array.isArray,Rd=m,g=t=>Bb(t)?t.slice():Object.assign({},t),Vd=(t,$)=>(e,r)=>(e=g(e),e[t]=$?$(e[t],r):r,e),Ca=t=>Bb(t)?t:Rd(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];const fa=t=>{const $=Ca(t);let[e,r,a,n]=$;switch($.length){case 0:return t=>t;case 1:return t=>null!=t?t[e]:void 0;case 2:return t=>null!=t&&null!=(t=t[e])?t[r]:void 0;case 3:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[r])?t[a]:void 0;case 4:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[r])&&null!=(t=t[a])?t[n]:void 0;default:return t=>{const e=$.length-1;let r=t;for(let a=0;null!=r&&a<=e;a++)r=r[$[a]];return r};}};const ia=t=>{const $=Ca(t);let[e,r,a,n]=$;switch($.length){case 0:return(t,$)=>$;case 1:return(t,$)=>(t=g(t),t[e]=$,t);case 2:return(t,$)=>{let a;return(t=g(t))[e]=a=g(t[e]),a[r]=$,t};case 3:return(t,$)=>{let n,o;return(t=g(t))[e]=n=g(t[e]),n[r]=o=g(n[r]),o[a]=$,t};case 4:return(t,$)=>{let o,s,f;return(t=g(t))[e]=o=g(t[e]),o[r]=s=g(o[r]),s[a]=f=g(s[a]),f[n]=$,t};default:let t;for(let e=$.length;--e>=0;)t=Vd($[e],t);return t;}};const he=(t,$)=>fa($)(t);const ka=(t,$,e)=>ia($)(t,e);const je=(t,$)=>{const e=fa(t),r=ia(t);return(t,...a)=>r(t,$.apply(null,(a.unshift(e(t)),a)))};const na=(t,$,e,...r)=>ia($)(t,e.apply(null,(r.unshift(fa($)(t)),r)));let me=0;const oe=()=>me++;class qe{constructor(t,i,s,e=!0,r=j){this.parent=t,this.id=`view-${oe()}`,this.tx=s||(t=>t),this.path=Ca(i),this.isDirty=!0,this.isLazy=e;const h=fa(this.path),$=this.parent.deref();this.unprocessed=$?h($):void 0,e||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(t,i,s)=>{const $=i?h(i):i,a=s?h(s):s;r(a,$)||(e?this.unprocessed=a:this.state=this.tx(a),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}var se=$&&$.__decorate||function(e,t,r,i){var $,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)($=e[o])&&(s=(a<3?$(s):a>3?$(t,r,s):$(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s};let C=class{constructor(e,t){t&&!t(e)&&$a("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(ka(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(na(this._value,e,t,...r))}addWatch(e,t){return!1}removeWatch(e){return!1}notifyWatches(e,t){}addView(e,t,r=!0){return new qe(this,e,t,r)}release(){return delete this._watches,delete this._value,!0}};C=se([dc],C),$.Atom=C,$.Atom=C;const xa=td,Sb=qb,k=_;class ze{constructor(e,t){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),e&&this.addHandlers(e),t&&this.addEffects(t)}addBuiltIns(){this.addEffects({[pb]:[e=>this.dispatch(e),-999],[zd]:[([e,t,r,s])=>{const i=this.effects[e];if(i){const e=i(t,this);xe(e)?e.then(e=>this.dispatch([r,e])).catch(e=>this.dispatch([s,e])):console.warn("async effect did not return Promise")}else console.warn(`skipping invalid async effect: ${e}`)},-999],[Bd]:[([e,t])=>new Promise(r=>setTimeout(()=>r(t),e)),1e3],[Dd]:[e=>fetch(e).then(e=>{if(!e.ok)throw new Error(e.statusText);return e}),1e3]})}addHandler(e,t){const r=l(t)?t.map(Ub):L(t)?[{pre:t}]:[t];r.length>0?(this.handlers[e]&&(this.removeHandler(e),console.warn(`overriding handler for ID: ${e}`)),this.handlers[e]=r):s(`no handlers in spec for ID: ${e}`)}addHandlers(e){for(let t in e)this.addHandler(t,e[t])}addEffect(e,t,r=1){this.effects[e]&&(this.removeEffect(e),console.warn(`overriding effect for ID: ${e}`)),this.effects[e]=t;const s=[e,r],i=this.priorities;for(let $=0;$<i.length;$++)if(s[1]<i[$][1])return void i.splice($,0,s);i.push(s)}addEffects(e){for(let t in e){const r=e[t];l(r)?this.addEffect(t,r[0],r[1]):this.addEffect(t,r)}}instrumentWith(e,t){const r=e.map(Ub),s=this.handlers;for(let i of t||Object.keys(s)){const e=s[i];e&&(s[i]=r.concat(e))}}removeHandler(e){delete this.handlers[e]}removeHandlers(e){for(let t of e)this.removeHandler(t)}removeEffect(e){delete this.effects[e];const t=this.priorities;for(let r=t.length-1;r>=0;r--)if(e===t[r][0])return void t.splice(r,1)}removeEffects(e){for(let t of e)this.removeEffect(t)}context(){return this.currCtx}dispatch(...e){this.eventQueue.push(...e)}dispatchNow(...e){(this.currQueue||this.eventQueue).push(...e)}dispatchLater(e,t=17){setTimeout(()=>this.dispatch(e),t)}processQueue(e){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=e||{};for(let t of this.currQueue)this.processEvent(e,t);return this.currQueue=this.currCtx=void 0,this.processEffects(e),!0}return!1}processEvent(e,t){const r=this.handlers[t[0]];if(!r)return void console.warn(`missing handler for event type: ${t[0].toString()}`);const s=r.length-1;let i=!1;for(let $=0;$<=s&&!e[xa];$++){const s=r[$];s.pre&&this.mergeEffects(e,s.pre(e[k],t,this,e)),i=i||!!s.post}if(i)for(let $=s;$>=0&&!e[xa];$--){const s=r[$];s.post&&this.mergeEffects(e,s.post(e[k],t,this,e))}}processEffects(e){const t=this.effects;for(let r of this.priorities){const s=r[0],i=e[s];if(void 0!==i){const r=t[s];if(s!==k)for(let t of i)r(t,this,e);else r(i,this,e)}}}mergeEffects(e,t){if(t)for(let r in t){const s=t[r];if(null!=s)if(r===k||r===xa)e[r]=s;else if(r===Sb){if(l(s[0]))for(let e of s)e&&this.dispatchNow(e);else this.dispatchNow(s);}else if(e[r]||(e[r]=[]),l(s[0]))for(let t of s)void 0!==t&&e[r].push(t);else e[r].push(s)}}}class Be extends ze{constructor(e,t,r){super(t,r),this.state=e||new C({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[Ia]:(e,[t,[r,s]])=>({[k]:ka(e,r,s)}),[fd]:(e,[t,[r,s,...i]])=>({[k]:na(e,r,s,...i)}),[ob]:(e,[t,r])=>({[k]:na(e,r,e=>!e)}),[Od]:Sa("undo"),[Ld]:Sa("redo")}),this.addEffects({[k]:[e=>this.state.reset(e),-1e3]})}processQueue(e){if(this.eventQueue.length>0){const t=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=Object.assign({},e,{[k]:t});for(let r of this.currQueue)this.processEvent(e,r);return this.currQueue=this.currCtx=void 0,this.processEffects(e),this.state.deref()!==t}return!1}}const Ub=e=>L(e)?{pre:e}:e,Sa=e=>(t,[r,s],i,$)=>{let h=s?s[0]:"history";if(da($[h],e)){const t=$[h][e]();return{[k]:i.state.deref(),[Sb]:s?void 0!==t?s[1]:s[2]:void 0}}console.warn("no history in context")};const Ie=e=>()=>({[pb]:e});const Je=e=>()=>({[qb]:e});const Qe=(e,$)=>{const t=ia(e);return(e,[r,o])=>({[_]:t(e,$?$(o):o)})};const Ve=(e,$)=>{const t=je(e,$);return(e,[$,...r])=>({[_]:t(e,...r)})};const F="route-changed";var W={};var af=W&&W.__decorate||function(t,e,r,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(s=(a<3?o(s):a>3?o(e,r,s):o(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s};let X=class{constructor(t){t.authenticator=t.authenticator||((t,e,r)=>({id:t.id,title:t.title,params:r})),t.prefix=void 0===t.prefix?"/":t.prefix,t.separator=t.separator||"/",this.config=t}addListener(t,e,r){return!1}removeListener(t,e,r){return!1}notify(t){}start(){if(this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.current={id:t.id,title:t.title,params:{}},this.notify({id:F,value:this.current})}}route(t){"#"===t.charAt(0)&&(t=t.substr(1)),t=t.substr(this.config.prefix.length);const e=this.config.routes,r=t.split(this.config.separator);let i;for(let o=0,a=e.length;o<a;o++){const t=e[o],a=this.matchRoute(r,t);if(a){i=a;break}}if(!i){if(!this.handleRouteFailure())return;const t=this.routeForID(this.config.defaultRouteID);i={id:t.id,title:t.title,params:{}}}return j(i,this.current)||(this.current=i,this.notify({id:F,value:i})),i}format(...t){let e,[r,i,o]=t;switch(t.length){case 3:e={id:r,params:i};break;case 2:m(r)?e={id:r,params:i}:(o=i,e=r);break;case 1:e=m(r)?{id:r}:r;break;default:v(t.length);}const a=this.routeForID(e.id);if(a){const t=e.params||{};return(o?"#":"")+this.config.prefix+a.match.map(e=>"?"===e.charAt(0)?null!=(e=t[e.substr(1)])?e:"NULL":e).join(this.config.separator)}s(`invalid route ID: ${e.id.toString()}`)}routeForID(t){return this.config.routes.find(e=>e.id===t)}matchRoute(t,e){const r=e.match,i=r.length;if(t.length===i){const o={};for(let e=0;e<i;e++){const i=r[e];if("?"===i.charAt(0))o[i.substr(1)]=t[e];else if(t[e]!==i)return}if(e.validate&&!this.validateRouteParams(o,e.validate))return;return e.auth?this.config.authenticator(e,t,o):{id:e.id,title:e.title,params:o}}}validateRouteParams(t,e){for(let r in e)if(void 0!==t[r]){const i=e[r];if(i.coerce&&(t[r]=i.coerce(t[r])),i.check&&!i.check(t[r]))return!1}return!0}handleRouteFailure(){return!0}};X=af([bf],X),W.BasicRouter=X,W.BasicRouter=X;class cf extends X{constructor(t){super(t),this.useFragment=!1!==t.useFragment}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.route(this.format({id:t.id,title:t.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(t,e=!0){const r=this.current,i=super.route(t);return j(i,r)||(this.currentPath=this.format(i),e&&history.pushState(this.currentPath,i.title||window.document.title||"",this.currentPath)),i}routeTo(t){this.useFragment&&(location.hash=t),this.route(t)}format(...t){let e;switch(t.length){case 2:e={id:t[0],params:t[1]};break;case 1:e=m(t[0])?{id:t[0]}:t[0];break;default:v(t.length);}return super.format(e,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(t=>{this.route(t.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(t=>{if(!this.ignoreHashChange){const e=t.newURL.substr(t.newURL.indexOf("#"));e!==this.currentPath&&this.route(e,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}}var df,ef,t,oa;(function($){$.INIT="init",$.ROUTE_TO="route-to",$.GESTURE="gesture"})(t||(df=t={},df)),function($){$[$.ROUTE_TO=0]="ROUTE_TO"}(oa||(ef=oa={},ef));function*hf($,e){const r=$(kb()),f=r[1],t=r[2];for(let d of e){const $=t([],d);if(p($))return void(yield*A(f($.deref())));$.length&&(yield*$)}yield*A(f([]))}function*qa($,e){const r=$([null,null,($,e)=>e])[2];for(let f of e){let $=r(u,f);if(p($))return void(($=A($.deref()))!==u&&(yield $));$!==u&&(yield $)}}class H{constructor(e){this.value=e}deref(){return this.value}}const nf=e=>new H(e);const p=e=>e instanceof H;const qf=e=>e instanceof H?e:new H(e);const A=e=>e instanceof H?e.deref():e;function kb($){return $?[...$]:Da(()=>[],($,r)=>($.push(r),$))}function nb(...e){let r,$;switch(e.length){case 3:$=e[2],r=e[1];break;case 2:$=e[1];break;default:v(e.length);}const t=e[0],c=t[0],o=t[1],i=t[2];if(r=null==r?c():r,da($,"$reduce"))r=$.$reduce(i,r);else if(va($)){for(let u=0,d=$.length;u<d;u++)if(r=i(r,$[u]),p(r)){r=r.deref();break}}else for(let u of $)if(r=i(r,u),p(r)){r=r.deref();break}return A(o(r))}const Da=(e,r)=>[e,e=>e,r];const Cf=($,e,r=qa)=>{const f=e.length-1;return ie(e[f])?e.length>1?r($.apply(null,e.slice(0,f)),e[f]):r($(),e[0]):void 0};function Ea(...e){let r,a;switch(e.length){case 4:a=e[3],r=e[2];break;case 3:a=e[2];break;case 2:return h(r=>Ea(e[0],e[1],r));default:v(e.length);}return nb(e[0](e[1]),r,a)}function h(t,r){return r?qa(h(t),r):r=>{const $=r[2];return ga(r,(r,e)=>$(r,t(e)))}}const ga=($,c)=>[$[0],$[1],c];function sb($){return $?nb(sb(),$):Da(()=>new Object,($,[e,r])=>($[e]=r,$))}function tb(...e){let[r,$,t,o,c,p,i,n,s,a]=e;switch(e.length){case 0:v(0);case 1:return r;case 2:return(...e)=>r($(...e));case 3:return(...e)=>r($(t(...e)));case 4:return(...e)=>r($(t(o(...e))));case 5:return(...e)=>r($(t(o(c(...e)))));case 6:return(...e)=>r($(t(o(c(p(...e))))));case 7:return(...e)=>r($(t(o(c(p(i(...e)))))));case 8:return(...e)=>r($(t(o(c(p(i(n(...e))))))));case 9:return(...e)=>r($(t(o(c(p(i(n(s(...e)))))))));case 10:default:const u=(...e)=>r($(t(o(c(p(i(n(s(a(...e))))))))));return 10===e.length?u:tb(u,...e.slice(10));}}function _b(r,$){r=r||"";let e=!0;return $?[...$].join(r):Da(()=>"",($,s)=>($=e?$+s:$+r+s,e=!1,$))}function Yb(e,t,r){return new bc(e,t,r)}class bc{constructor(e,t,r){void 0===e?(e=0,t=1/0):void 0===t&&(t=e,e=0),r=void 0===r?e<t?1:-1:r,this.from=e,this.to=t,this.step=r}*[Symbol.iterator](){const e=this.step,t=this.to;let r=this.from;if(e>0)for(;r<t;)yield r,r+=e;else if(e<0)for(;r>t;)yield r,r+=e}$reduce(e,t){const r=this.step;if(r>0)for(let o=this.from,$=this.to;o<$&&!p(t);o+=r)t=e(t,o);else for(let o=this.from,$=this.to;o>$&&!p(t);o+=r)t=e(t,o);return t}}function*cc(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=[];for(let $ of t){let t=$.next();if(t.done)return;e.push(t.value)}yield e}}function yb(r,$){return $?qa(yb(r),$):$=>{const o=$[2];let e=r;return ga($,(r,$)=>e>0?(e--,r):o(r,$))}}function zb(...e){return Cf(zb,e)||($=>{const r=$[2],n=e[0];let p=e[1]||0;return ga($,(e,$)=>r(e,n(p++,$)))})}function Oa(...$){return tb.apply(null,$)}function Cb(e,r){return r?hf(Cb(e),r):r=>{const $=r[2];let o=e;return ga(r,(e,r)=>--o>0?$(e,r):0===o?qf($(e,r)):nf(e))}}function*hc(r){for(let $ in r)r.hasOwnProperty($)&&(yield[$,r[$]])}var ic,w;let n=Yd;let lc=0;const G=()=>lc++;const nc=(t,s,i,e)=>new P(t,s,i,e);class P{constructor(t,s,i,e){this.state=0,this.parent=i,this.id=e||`sub-${G()}`,this.last=u,this.subs=[],t&&this.subs.push(t),s&&(this.xform=s(kb()))}deref(){return this.last!==u?this.last:void 0}getState(){return this.state}subscribe(...t){let s,i,e;switch(this.ensureState(),t.length){case 1:case 2:L(t[0])?(i=t[0],e=t[1]||`xform-${G()}`):(s=t[0],L(t[1])?i=t[1]:e=t[1]);break;case 3:[s,i,e]=t;break;default:v(t.length);}return da(s,"subscribe")?s.parent=this:s=nc(s,i,this,e),this.last!==u&&s.next(this.last),this.addWrapped(s)}subscribeAll(...t){const s=[];for(let i of t)s.push(this.subscribe(i));return s}transform(...t){const s=t.length-1;return m(t[s])?this.subscribe(Oa(...t.slice(0,s)),t[s]):this.subscribe(Oa(...t))}unsubscribe(t){if(n.debug(this.id,"unsub start",t?t.id:"self"),!t){let t=!0;return this.parent&&(t=this.parent.unsubscribe(this)),this.state=2,this.cleanup(),t}if(this.subs){n.debug(this.id,"unsub child",t.id);const s=this.subs.indexOf(t);if(s>=0)return this.subs.splice(s,1),this.subs.length||this.unsubscribe(),!0}return!1}next(t){if(this.state<2)if(this.xform){const s=this.xform[2]([],t),i=A(s),e=i.length;for(let t=0;t<e;t++)this.dispatch(i[t]);p(s)&&this.done()}else this.dispatch(t)}done(){if(n.debug(this.id,"done start"),this.state<2){if(this.xform){const t=this.xform[1]([]),s=A(t),i=s.length;for(let e=0;e<i;e++)this.dispatch(s[e])}this.state=2;for(let t of[...this.subs])t.done&&t.done();this.unsubscribe(),n.debug(this.id,"done")}}error(t){this.state=3;let s=!1;if(this.subs&&this.subs.length)for(let i of this.subs.slice())i.error&&(i.error(t),s=!0);s||(n.warn(this.id,"unhandled error:",t),this.parent&&(n.debug(this.id,"unsubscribing..."),this.unsubscribe(),this.state=3))}addWrapped(t){return this.subs.push(t),this.state=1,t}dispatch(t){this.last=t;const s=this.subs;let i;if(1==s.length){i=s[0];try{i.next&&i.next(t)}catch(e){i.error?i.error(e):this.error(e)}}else for(let r=s.length-1;r>=0;r--){i=s[r];try{i.next&&i.next(t)}catch(e){i.error?i.error(e):this.error(e)}}}ensureState(){this.state>=2&&$a(`operation not allowed in state ${this.state}`)}cleanup(){n.debug(this.id,"cleanup"),this.subs.length=0,delete this.parent,delete this.xform,delete this.last}}class pc extends P{constructor(...e){let r,t;switch(e.length){case 0:break;case 1:m(e[0])?t=e[0]:r=e[0];break;case 2:[r,t]=e;break;default:v(e.length);}super(null,null,null,t||`stream-${G()}`),this.src=r}subscribe(...e){const r=super.subscribe.apply(this,e);return 1===this.subs.length&&(this._cancel=this.src&&this.src(this)||(()=>void 0)),r}unsubscribe(e){const r=super.unsubscribe(e);return!r||e&&this.subs&&this.subs.length||this.cancel(),r}done(){this.cancel(),super.done(),delete this.src,delete this._cancel}error(e){super.error(e),this.cancel()}cancel(){if(this._cancel){n.debug(this.id,"cancel");const e=this._cancel;delete this._cancel,e()}}}const qc=o=>!0===o||void 0===o?2:!1===o?0:o;const rc=e=>new sc(e);class sc extends P{constructor(e){super(null,(e=e||{}).xform,null,e.id||`streammerge-${G()}`),this.sources=new Map,this.closeMode=qc(e.close),e.src&&this.addAll(e.src)}add(e){this.ensureState(),this.sources.set(e,e.subscribe({next:e=>{e instanceof P?this.add(e):this.next(e)},done:()=>this.markDone(e),__owner:this},`in-${e.id}`))}addAll(e){for(let r of e)this.add(r)}remove(e){const r=this.sources.get(e);return!!r&&(this.sources.delete(e),r.unsubscribe(),!0)}removeID(e){for(let r of this.sources)if(r[0].id===e)return this.remove(r[0]);return!1}removeAll(e){let r=!0;for(let s of e)r=this.remove(s)&&r;return r}removeAllIDs(e){let r=!0;for(let s of e)r=this.removeID(s)&&r;return r}unsubscribe(e){if(!e){for(let e of this.sources.values())e.unsubscribe();this.state=2,this.sources.clear()}return super.unsubscribe(e)}markDone(e){this.remove(e),(1===this.closeMode||2===this.closeMode&&!this.sources.size)&&this.done()}}const tc=(e,r,t=!1)=>new pc($=>{let n=e=>$.next(e);return e.addEventListener(r,n,t),()=>e.removeEventListener(r,n,t)},`event-${r}-${G()}`);(function(e){e[e.START=0]="START",e[e.MOVE=1]="MOVE",e[e.DRAG=2]="DRAG",e[e.END=3]="END",e[e.ZOOM=4]="ZOOM"})(w||(ic=w={},ic));var wa={};var vc={};vc="how-raymarching-works.0dfecf54.png";var wc={};wc="crowd-sim.57c42d64.png";var xc={};xc="mapbox-gl.8aec6e9f.png";var yc={};yc="noisy-drawing.f6e6554a.png";var zc={};zc="realtime-cppn.402960c1.png";var Ac={};Ac="replayable-drawing.59230de0.png";var Bc={};Bc="tensorflow-curve-fitting.0fa59f8e.png";var Cc={};Cc="simple-graph-editing.b6c94cfc.png";var Dc=i(Cc);var Ec=i(Bc);var Qf=i(vc);var Gc=i(Ac);var Hc=i(zc);var Ic=i(wc);var Jc=i(xc);var Kc=i(yc);const Lc=[{id:"simple-graph-editing",cover:Dc.d,title:"simple graph editing",desc:"proof of concept of a graph editing interaction",url:"https://observablehq.com/@stwind/simple-graph-editing"},{id:"tensorflow-js-curve-fitting",cover:Ec.d,title:"tensorflow.js curve fitting",desc:"a tiny curve fitting dashboard prototype for Tensorflow.js.",url:"https://observablehq.com/@stwind/tensorflow-js-interactive-curve-fitting"},{id:"how-raymarching-works",cover:Qf.d,title:"how raymarching works?",desc:"a visualization demonstrating how raymarching works.",url:"https://observablehq.com/@stwind/how-raymarching-works"},{id:"replayable-drawing",cover:Gc.d,title:"replayable drawing",desc:"circle drawing with time travelling.",url:"https://observablehq.com/@stwind/replayable-drawing"},{id:"realtime-cppn",cover:Hc.d,title:"realtime CPPN",desc:"an implementation of realtime Compositional pattern-producing networks (CPPNs) using WebGL.",url:"https://observablehq.com/@stwind/realtime-cppn"},{id:"crowd-simulation",cover:Ic.d,title:"simple crowd simulation",desc:"some path following rabbits simulated with simple steering behaviors.",url:"https://observablehq.com/@stwind/crowd-simulation"},{id:"mapbox-gl-with-ufo",cover:Jc.d,title:"mapbox gl with ufo",desc:"playing around with Mapbox GL custom layers, to explore the dark world with an UFO.",url:"https://observablehq.com/@stwind/mapbox-gl-with-ufo"},{id:"noisy-drawing",cover:Kc.d,title:"noisy drawing",desc:"drawing with perlin noise.",url:"https://observablehq.com/@stwind/noisy-drawing"}];wa.sketches=Lc;const Mc=[{id:"tsne-grid-mnist",title:"tsne grid \u3067 mnist \u3092\u8ABF\u3079\u3066\u307F\u305F",url:"https://qiita.com/stwind/items/1c1025799b8e7a274c0f"},{id:"erlang-hot-reloading",title:"erlang \u3067\u306E\u30DB\u30C3\u30C8\u30B3\u30FC\u30C9\u30ED\u30FC\u30C7\u30A3\u30F3\u30B0",url:"https://qiita.com/stwind/items/f13072f1c23af06d1bd6"}];wa.posts=Mc;const M=(s,t)=>{if(!t)return s;const e=Object.assign({},s,t);return s.class&&t.class&&(e.class=s.class+" "+t.class),s.style&&t.style&&(e.style=Object.assign({},s.style,t.style)),e};const Oc=t=>(!(t=Object.assign({tag:"a",tagDisabled:"span",preventDefault:!0,attribs:{}},t)).attribs.role&&(t.attribs.role="button"),(e,r,...a)=>r.disabled?[t.tagDisabled,Object.assign({},M(t.attribsDisabled,r.attribs),{disabled:!0}),...a]:[t.tag,Object.assign({},M(t.attribs,r.attribs),{onclick:t.preventDefault?t=>(t.preventDefault(),r.onclick(t)):r.onclick}),...a]);const Pc=(e,a,$)=>{const s=window.devicePixelRatio||1;return 1!=s&&(e.style.width=`${a}px`,e.style.height=`${$}px`),e.width=a*s,e.height=$*s,s};var Qc;const Rc=Math.PI;const Qa=2*Rc;const gg=(1+Math.sqrt(5))/2;const fg=Math.SQRT2;const Vc=Math.sqrt(3);const Wc=1/3;let N=1e-6;var Yc;(function($){$[$.EQUAL=0]="EQUAL",$[$.FLAT=1]="FLAT",$[$.UNDER=2]="UNDER",$[$.OVER=3]="OVER",$[$.OTHER=4]="OTHER"})(Yc||(Qc=Yc={},Qc));const Zc=$=>($%=Qa,$<0?Qa+$:$);const $c=($,t)=>Zc(Math.atan2($,t));const b=$=>$<0?0:$>1?1:$;const T=($,v)=>["a",m($)?{href:$}:$,v];const bd=($,v,e,p)=>["a",Object.assign({href:"#",onclick:$=>{$.preventDefault(),e($)}},v),p];const Fa=({bus:$},r,e,o)=>[bd,r,()=>$.dispatch([t.ROUTE_TO,e]),o];const Xb={init(A,e,r,i){const a=new Image;a.src=i,a.onload=()=>A.src=i},render:({ui:A},e)=>["img",Object.assign({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="},M(A.image.loading,e))],release(){}};const ed=({ui:e,views:{sketches:r}})=>["div",e.home.main,"a stuff making programmer.",["ul",e.home.list,h(r=>["li",e.home.item,[Fa,{},[c.SKETCH.id,{id:r.id}],[Xb,e.home.thumb,r.cover]]],r.deref())]];const Ra=({ui:$},e,i)=>T(Object.assign({href:e},$.link.default),i);const gd=({ui:e,views:{sketch:i}})=>{const{title:t,desc:$,url:r,cover:c,id:s}=i.deref();return["div",e.sketch.main,["div",e.sketch.title,t],["div",[Xb,Object.assign({key:s},e.sketch.cover),c]],["div",$],["div",[Ra,r,"[link]"]]]};const hd=({ui:t})=>["div",t.about.main,"wait a moment."];const id={app:{class:"font-sans font-light text-sm text-gray-900 leading-normal no-debug-grid"},link:{default:{class:"text-red sm:hover:text-white sm:hover:bg-red"},active:{class:"bg-red text-white"}},image:{default:{class:""},loading:{class:"bg-gray-200"}},icon:{class:"svg-icon"},icons:{mail:{class:"icon icon-mail"},twitter:{class:"icon icon-twitter"},github:{class:"icon icon-github"}},utils:{hidden:{class:"hidden"}},canvas:{class:"fixed inset-0 pointer-events-none touch-action-none"},contacts:{class:"fixed bottom-3 right-4"},main:{class:"grid main"},logo:{class:"text-xl text-red sm:hover:text-white sm:hover:bg-red"},header:{class:"mx-6 pt-4 sm:pt-6 col-span-2 sm:col-span-1"},nav:{trigger:{class:"fixed top-7 right-6 w-3 h-3 sm:hidden"},container:{class:"sm:block col-span-2 sm:col-span-1 sm:col-start-1"},main:{class:"mx-6 stack"},item:{class:"truncate text-red hover:overflow-visible"},sectionName:{class:"text-green"}},content:{class:"stack mx-6 sm:block col-span-2 sm:col-span-1 sm:col-start-2 sm:row-start-1 sm:row-end-3 sm:pt-6 max-w-xl"},home:{main:{class:"stack sm:pt-2"},list:{class:"grid grid-columns-2 grid-gap-4 sm:grid-automin-16"},item:{class:""},thumb:{class:"h-16 w-full object-cover sm:w-16"}},sketch:{main:{class:"stack"},title:{class:"text-2xl text-red font-normal"},cover:{class:"h-40 w-full object-cover"}},about:{main:{class:"sm:pt-2"}}};const c={HOME:{id:"home",match:["home"]},SKETCH:{id:"sketch",match:["sketch","?id"]},ABOUT:{id:"about",match:["about"]}};const kd={useFragment:!0,defaultRouteID:c.HOME.id,routes:Object.values(c)};const ld={[c.HOME.id]:ed,[c.SKETCH.id]:gd,[c.ABOUT.id]:hd},md={route:"route",nav:"nav",posts:"posts",sketches:"sketches",sketch:"sketch",content:["route.id",t=>ld[t]],gestures:"gestures"},nd=Object.assign({initialized:!1,nav:{visible:!1},gestures:{move:[],down:[]}},wa);const od=t=>Ea(h(([o,e])=>[o,l(e)?t.addView(e[0],e[1]):t.addView(e)]),sb(),hc(md));const pd={[c.SKETCH.id]:(t,{params:o})=>{const e=he(t,"sketches").find(({id:t})=>t==o.id);return e?ka(t,"sketch",e):t},[c.HOME.id]:(t,o)=>ka(t,"sketch",void 0)},qd=(t,[o,e])=>{const s=pd[e.id];return{[_]:s?s(t,e):t}},rd={[F]:[Qe("route"),Je([Ia,["nav.visible",!1]]),qd],[t.ROUTE_TO]:(t,[o,e])=>({[oa.ROUTE_TO]:e}),[t.INIT]:Ie([Ia,["initialized",!0]]),[t.GESTURE]:Ve("gestures",(t,o)=>(o[0]==w.MOVE?t.move.push(o[1].pos):o[0]==w.START&&t.down.push(o[1].pos),t))};const sd=t=>({[oa.ROUTE_TO]:([o,e])=>t.routeTo(t.format(o,e))});function r(e,o){return!o&&(o={}),(...r)=>{const $=JSON.stringify(r);return void 0!==$?$ in o?o[$]:o[$]=e.apply(null,r):e.apply(null,r)}}const Ua=r((e,$)=>e.repeat($));const vd=r((e,t=" ")=>{const $=Ua(t,e);return t=>null!=t?(t=t.toString(),t.length<e?$.substr(t.length)+t:t):$});const wd=r($=>t=>Va(t)||t.toFixed($));const eg=r(($,t=3)=>{const V=$-t-1,a=Math.pow(10,V),o=-Math.pow(10,V-1),e=Math.pow(10,-(t-1)),r=vd($);return V=>{const i=Math.abs(V);return r(Va(V)||(0===V?"0":i<e||i>=a?yd(V,$):V.toFixed(t-(V<o?1:0))))}});const yd=($,t)=>$.toExponential(Math.max(t-4-(Math.log(Math.abs($))/Math.LN10>=10?2:1)-($<0?1:0),0)),Va=$=>isNaN($)?"NaN":$===1/0?"+\u221E":$===-1/0?"-\u221E":void 0;const V=(e,a=0,t=10)=>{const r=parseInt(e,t);return isNaN(r)?a:r};const D=(e,a=0)=>{const t=parseFloat(e);return isNaN(t)?a:t};const Cd=(e=0)=>$=>(100*$).toFixed(e)+"%";const E=r(($,r,t="")=>{const e=Ua("0",r);return o=>(o=(o>>>0).toString($),t+(o.length<r?e.substr(o.length)+o:o))});const dg=E(2,8);const cg=E(16,2);const bg=E(16,4);const Za=E(16,6);const ag=E(16,8);const jg=Object.freeze([0,0,0,1]);const $f=Object.freeze([1,1,1,1]);const Zf=Object.freeze([1,0,0,1]);const Yf=Object.freeze([0,1,0,1]);const Xf=Object.freeze([0,0,1,1]);const Wf=Object.freeze([0,1,1,1]);const Vf=Object.freeze([1,0,1,1]);const Uf=Object.freeze([1,1,0,1]);const cb=[.299,.587,.114];const Sd=[.4124564,.3575761,.1804375,.2126729,.7151522,.072175,.0193339,.119192,.9503041];const Td=[3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252];const Y=wd(2);const eb=Cd(2);const y=1/255;const Xd={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};const gb=([$,o])=>`${$}*${o}`;const Zd=([$,o])=>`s+=${$}*${o};`;const $d=(e=0)=>{const r=new Array(5);let p;const t=(...t)=>{const o=r[t[e].length]||p;return o?o(...t):jb(`no impl for vec size ${t[e].length}`)};return t.add=(e,p)=>r[e]=p,t.default=e=>p=e,t};const _d="io=0,ia=0,so=1,sa=1";const ae=$=>o=>o>1?`${$}[i${$}+${o}*s${$}]`:1==o?`${$}[i${$}+s${$}]`:`${$}[i${$}]`,be=$=>h(ae($),Yb()),ce=$=>h(o=>`${$}[${o}]`,Yb()),de=($,o,e,t="a",p="",S="",r="",W=!1)=>[S,Ea(Oa(Cb($),zb(($,e)=>o(e,$))),_b(p),cc.apply(null,e.split(",").map(W?be:ce))),r,null!==t?`return ${t};`:""],ee=($,o,e="a",t,p,S=!1)=>[t,"for(let i=a.length;--i>=0;) {",$(o.split(",").map(S?$=>`${$}[i${$}+i*s${$}]`:$=>`${$}[i]`)),"}",p,null!==e?`return ${e};`:""];const hb=($,o,e,t=e,p="a",S,r,W,a=!1)=>new Function(e,de($,o,t,p,S,r,W,a).join(""));const ge=($,o,e=o,t="a",p,S,r=!1)=>new Function(o,ee($,e,t,p,S,r).join(""));const d=($,t,e,p)=>(!$&&($=[]),$[0]=t,$[1]=e,$[2]=p,$);const x=($,t,e,p,s)=>(!$&&($=[]),$[0]=t,$[1]=e,$[2]=p,$[3]=s,$);const ra=$=>lb.add($,hb($,gb,"a,b",void 0,null,"+","return ",";")),lb=$d();lb.default(ge(Zd,"a,b",void 0,"s","let s=0;"));const Tf=ra(2);const mb=ra(3);const Sf=ra(4);const sa=$=>hb($,gb,`o,a,${_d}`,"o,a",null,"+","return ",";",!0),_f=sa(2);const ta=sa(3);const Rf=sa(4);const ua=e=>(e%=1,e<0?e+1:e);const aa=(e,$,p=1)=>($=6*ua($),x(e,b(Math.abs($-3)-1),b(2-Math.abs($-2)),b(2-Math.abs($-4)),p));const f=($,e=1)=>null!=$?b($):e;const ve=($,a)=>{const r=a[0];let e=a[1];const t=a[2],p=aa($||a,r,f(a[3])),v=mb(p,cb);return t<v?e*=t/v:v<1&&(e*=(1-t)/(1-v)),d(p,b((p[0]-v)*e+t),b((p[1]-v)*e+t),b((p[2]-v)*e+t))};const ba=($,m,r=1)=>x($||m,b(m[0]),b(m[1]),b(m[2]),f(m[3],r));const ca=($,m,r=1)=>x($||m,ua(m[0]),b(m[1]),b(m[2]),f(m[3],r));const ye=(s,$)=>{const t=(s=ca(s||$,$))[1],r=s[2];if(t<1e-6)return d(s,r,r,r);const e=6*s[0]%6,o=r*(1-t),a=1-Math.abs(e%2-1);let i=3*r*t/(1+a);const p=i*a+o;switch(i+=o,0|e){case 0:return d(s,i,p,o);case 1:return d(s,p,i,o);case 2:return d(s,o,i,p);case 3:return d(s,o,p,i);case 4:return d(s,p,o,i);case 5:return d(s,i,o,p);default:return d(s,o,o,o);}};const ub=$=>{const r=Y(360*ua($[0])),e=eb(b($[1])),p=eb(b($[2])),s=f($[3]);return s<1?`hsla(${r},${e},${p},${Y(s)})`:`hsl(${r},${e},${p})`};const Ae=($,a)=>{const r=($=ca($||a,a))[1],s=$[2],t=2*s,e=.5*(t+r*(1-Math.abs(t-1)));return $[1]=2*(e-s)/e,$[2]=e,$};const vb=(r,a)=>{const $=b(a[1]),e=b(a[2]);r=aa(r||a,a[0],f(a[3]));const t=(1-Math.abs(2*e-1))*$;return d(r,(r[0]-.5)*t+e,(r[1]-.5)*t+e,(r[2]-.5)*t+e)};const wb=($,r)=>{const a=($=ca($||r,r))[1],s=$[2],h=(2-a)*s/2;return $[2]=h,$[1]=h&&h<1?a*s/(h<.5?2*h:2-2*h):a,$};const De=s=>ub(wb([],s));const Ee=($,r)=>{const e=($=ca($||r,r))[1],l=$[2];return aa($,r[0],$[3]),d($,(($[0]-1)*e+1)*l,(($[1]-1)*e+1)*l,(($[2]-1)*e+1)*l)};const Fe=$=>{const r=($="number"==typeof $?$:$.deref())>>>24;return r<255?`rgba(${$>>16&255},${$>>8&255},${255&$},${Y(r*y)})`:`#${Za(16777215&$)}`};const za=($,t)=>(t="number"==typeof t?t:t.deref(),x($||[],(t>>>16&255)*y,(t>>>8&255)*y,(255&t)*y,(t>>>24&255)*y));const He=$=>{const r=255*b($[0])+.5|0,a=255*b($[1])+.5|0,n=255*b($[2])+.5|0,e=f($[3]);return e<1?`rgba(${r},${a},${n},${Y(e)})`:`#${Za(r<<16|a<<8|n)}`};const Aa=($,o)=>{const r=($=ba($||o,o))[1]<$[2]?[$[2],$[1],-1,2/3]:[$[1],$[2],0,-1/3],t=$[0]<r[0]?[r[0],r[1],r[3],$[0]]:[$[0],r[1],r[2],r[0]],a=t[0]-Math.min(t[1],t[3]);return d($,b(Math.abs((t[3]-t[1])/(6*a+N)+t[2])),b(a),b(t[0]))};const Ba=($,e=cb)=>mb($,e);const Ke=($,r)=>{const e=Ba(r);$=Aa($,r);const a=Ba(aa([],$[0]));return $[1]*=e<a?a/(e+N):(1-a)/(1+N-e),$[2]=e,$};const Le=Vc/2,Me=($,r)=>{const c=($=ba($||r,r))[0],t=$[1],R=$[2],a=Wc*(c+t+R);return a<1e-6||c===t&&c===R?d($,0,0,a):d($,$c(Le*(t-R),.5*(2*c-t-R))/Qa,1-Math.min(c,t,R)/a,a)};const Ne=(a,$)=>((a=Aa(a,$))[2]-=.5*a[1],a[1]/=1+N-Math.abs(2*a[2]-1),a);const Oe=($,r)=>(($=Aa($,r))[1]/=$[2]+N,$);const Pe=$=>(255*f($[3])<<24|255*b($[0])<<16|255*b($[1])<<8|255*b($[2]))>>>0;const Ab=($,t,o,r=!0)=>{const u=ta(t,o,0,0,3),p=ta(t,o,1,0,3),m=ta(t,o,2,0,3),E=f(o[3]);return r?x($||o,b(u),b(p),b(m),E):x($||o,u,p,m,E)};const Re=($,r)=>(($=Ab(null,Sd,ba($||r,r),!1))[3]=f(r[3]),$);const Se=(r,$)=>{r=ba(r||$,$);const e=Ba($);return d(r,e,.565*($[2]-e),.713*($[0]-e))};const Te=($,o)=>Ab($||o,Td,o);const Ue=($,t)=>{const r=t[0],i=t[1],e=t[2];return x($,b(r+1.403*e),b(r-.344*i-.714*e),b(r+1.77*i),f(t[3]))};const I=Symbol();function We(p,e){const t={},$=e?Ze(e):{},r=(...e)=>{const r=p(...e),f=t[r]||ea(t,$,r)||t[I];return f?f(...e):jb(`missing implementation for: "${r.toString()}"`)};return r.add=(p,e)=>!t[p]&&(t[p]=e,!0),r.addAll=p=>{let e=!0;for(let t in p)e=r.add(t,p[t])&&e;return e},r.remove=p=>!!t[p]&&(delete t[p],!0),r.callable=(...e)=>{const r=p(...e);return!!(t[r]||ea(t,$,r)||t[I])},r.isa=(p,e)=>{let t=$[p];!t&&($[p]=t=new Set),t.add(e)},r.impls=()=>{const p=new Set(Object.keys(t));for(let e in $)ea(t,$,e)&&p.add(e);return t[I]&&p.add(I),p},r.rels=()=>$,r.parents=p=>$[p],r.ancestors=p=>new Set(Db([],$,p)),r}const ea=(p,e,t)=>{const $=e[t];if($)for(let r of $){let t=p[r]||ea(p,e,r);if(t)return t}},Db=(p,e,t)=>{const $=e[t];if($)for(let r of $)p.push(r),Db(p,e,r);return p},Ze=p=>{const e={};for(let t in p){const $=p[t];e[t]=$ instanceof Set?$:new Set($)}return e};const $e=/^#?([0-9a-f]{3,8})$/i,_e=/^(rgb|hsl)a?\(\s*([0-9.]+?),\s*([0-9.]+%?),\s*([0-9.]+%?),?\s*([0-9.]+)?\s*\)$/,Eb=$=>{if("#"===($="string"==typeof $?$:$.deref()).charAt(0))return za([],Fb($));{const a=_e.exec($);if(a)return"rgb"===a[1]||"rgba"===a[1]?[J(a[2]),J(a[3]),J(a[4]),D(a[5],1)]:vb(null,[D(a[2])/360,J(a[3]),J(a[4]),D(a[5],1)]);{const a=Xd[$];return!a&&s(`invalid color: "${$}"`),za([],Fb(a))}}};const Fb=$=>{const a=$e.exec($);if(a){const $=a[1];switch($.length){case 3:{const[a,r,e]=$;return(4278190080|V(`${a}${a}${r}${r}${e}${e}`,0,16))>>>0}case 4:{const[a,r,e,o]=$;return V(`${a}${a}${r}${r}${e}${e}${o}${o}`,0,16)>>>0}case 6:return(4278190080|V($,0,16))>>>0;case 8:return V($,0,16)>>>0;}}s(`invalid hex color: "${$}"`)};const J=$=>b($.indexOf("%")>0?.01*D($):D($)*y);const K=We(($,r,e)=>void 0!==$.mode?`${r}-${$.mode}`:void 0!==e?`${r}-${e}`:s("missing src color mode"));function Ga($,r){return K($,6,r)}K.add(I,($,r,e)=>void 0!==$.mode&&$.mode===r||r===e?$:s(`missing conversion for mode ${e} -> ${r}`));const a=($,r,e)=>K.add(`${$}-${r}`,e),e=($,r,...e)=>{a(0,$,$=>r([],$)),e.forEach(e=>a(e,$,$=>K(r([],$),e,0)))};a(0,6,$=>Eb($)),[1,4,3,2,5,7,8].forEach($=>a($,6,r=>K(Eb(r),$,0))),e(5,za,1,4,3,2,7,8),a(6,5,$=>Fe($)),e(1,ve,6,5,3,2,7,8),e(4,ye,6,5,1,3,2,7,8),e(3,vb,1,4,5,7,8),a(6,3,$=>ub($)),a(2,3,$=>Ae([],$)),e(2,Ee,1,4,5,7,8),a(6,2,$=>De($)),a(3,2,$=>wb([],$)),[[1,Ke],[4,Me],[3,Ne],[2,Oe],[7,Re],[8,Se]].forEach(([$,r])=>a($,0,$=>r([],$))),a(6,0,$=>He($)),a(5,0,$=>Pe($)),e(7,Te,6,1,4,3,2,5,8),e(8,Ue,6,1,4,3,2,5,7);const ja=2*Math.PI,jf={align:"left",alpha:1,baseline:"alphabetic",comp:"source-over",dash:[],dashOffset:0,direction:"inherit",fill:"#000",filter:"none",font:"10px sans-serif",lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowBlur:0,shadowColor:"rgba(0,0,0,0)",shadowX:0,shadowY:0,smooth:!0,stroke:"#000"},Mb={align:"textAlign",alpha:"globalAlpha",baseline:"textBaseline",clip:"clip",compose:"globalCompositeOperation",dash:"setLineDash",dashOffset:"lineDashOffset",direction:"direction",fill:"fillStyle",filter:"filter",font:"font",lineCap:"lineCap",lineJoin:"lineJoin",miterLimit:"miterLimit",shadowBlur:"shadowBlur",shadowColor:"shadowColor",shadowX:"shadowOffsetX",shadowY:"shadowOffsetY",smooth:"imageSmoothingEnabled",stroke:"strokeStyle",weight:"lineWidth"},lf={render(e,r,...t){const a=Object.assign({},r);delete a.__diff,delete a.__normalize;const $=window.devicePixelRatio||1;return 1!==$&&(!a.style&&(a.style={}),a.style.width=`${a.width}px`,a.style.height=`${a.height}px`,a.width*=$,a.height*=$),["canvas",a,["g",{__impl:Pb,__diff:!1!==r.__diff,__normalize:!1!==r.__normalize,__release:!0===r.__release,__serialize:!1,__clear:r.__clear,scale:1!==$?$:null},...t]]}};const Ka=(e,r,t)=>{const a=r.getContext("2d"),$=t[1];if($){if($.__skip)return;!1!==$.__clear&&a.clearRect(0,0,r.width,r.height)}Ma(a,t,{attribs:{}})};const o=(e,r)=>{if(null==r)return r;if(l(r)){const t=r[0];if("function"==typeof t)return o(e,t.apply(null,[e.ctx,...r.slice(1)]));if("string"==typeof t){const t=r[1];if(t&&!1===t.__normalize)return r;const a=[r[0],t];for(let $=2,i=r.length;$<i;$++){const t=o(e,r[$]);null!=t&&a.push(t)}return a}}else{if("function"==typeof r)return o(e,r(e.ctx));if("function"==typeof r.toHiccup)return o(e,r.toHiccup(e.ctx));if("function"==typeof r.deref)return o(e,r.deref());if(Ja(r)){const t=[];for(let a of r){const r=o(e,a);null!=r&&t.push(r)}return t}}return r};const of=(e,r,t,a,$)=>{const i=a[1];if(i.__skip)return;if(!1===i.__diff)return B(t),Ka(0,r,a);let c=i.__impl;if(c&&c!==Pb)return c.diffTree(e,r,t,a,$);return Ya(t,a,0,z).distance>0?Ka(0,r,a):void 0};const Pb={createTree:Ka,normalizeTree:o,diffTree:of,hydrateTree:ha,getElementById:ha,createElement:ha,createTextElement:ha};const Ma=(e,r,t)=>{if(!r)return;if(l(r[0])){for(let a of r)Ma(e,a,t);return}const a=rf(e,t,r[1]),$=a?a.attribs:t.attribs;if(!$.__skip){switch(r[0]){case"g":case"defs":for(let $=2,i=r.length,c="g"===r[0]&&a||t;$<i;$++)Ma(e,r[$],c);break;case"linearGradient":xf(e,t,r[1],r[2]);break;case"radialGradient":yf(e,t,r[1],r[2]);break;case"points":Gf(e,$,r[1],r[2]);break;case"line":Pa(e,$,r[2],r[3]);break;case"hline":Pa(e,$,[-1e6,r[2]],[1e6,r[2]]);break;case"vline":Pa(e,$,[r[2],-1e6],[r[2],1e6]);break;case"polyline":Af(e,$,r[2]);break;case"polygon":Bf(e,$,r[2]);break;case"path":Vb(e,$,r[2]);break;case"rect":Ff(e,$,r[2],r[3],r[4],r[5]);break;case"circle":Wb(e,$,r[2],r[3]);break;case"ellipse":Ef(e,$,r[2],r[3],r[4],r[5],r[6]);break;case"arc":Wb(e,$,r[2],r[3],r[4],r[5]);break;case"text":Hf(e,$,r[2],r[3],r[4]);break;case"img":If(e,$,r[1],r[2],r[3],r[4],r[5]);}a&&sf(e,t,a)}},rf=(e,r,t)=>{let a;if(t){vf(e,t)&&(a={attribs:Object.assign({},r.attribs),grads:Object.assign({},r.grads),edits:[],restore:!0});for(let $ in t){const i=Mb[$];if(i){const c=t[$];null!=c&&r.attribs[$]!==c&&(a||(a={attribs:Object.assign({},r.attribs),grads:Object.assign({},r.grads),edits:[]}),a.attribs[$]=c,a.edits.push($),Rb(e,r,$,i,c))}}return a}},sf=(e,r,t)=>{if(t.restore)return void e.restore();const a=t.edits;if(a)for(let $=r.attribs,i=a.length-1;i>=0;i--){const t=a[i],c=$[t];Rb(e,r,t,Mb[t],null!=c?c:jf[t])}},Rb=(e,r,t,a,$)=>{switch(t){case"fill":case"stroke":case"shadowColor":e[a]=Na(r,$);break;case"dash":e[a].call(e,$);break;case"clip":break;default:e[a]=$;}},Na=(e,r)=>m(r)?"$"===r[0]?e.grads[r.substr(1)]:r:va(r)?Lb(r.mode)?Ga(r):Ga(r,0):Lb(r)?Ga(r,5):r,vf=(e,r)=>{let t;return!!((t=r.transform)||r.translate||r.scale||r.rotate)&&(e.save(),t?e.transform(t[0],t[1],t[2],t[3],t[4],t[5]):((t=r.translate)&&e.translate(t[0],t[1]),(t=r.rotate)&&e.rotate(t),(t=r.scale)&&(va(t)?e.scale(t[0],t[1]):e.scale(t,t))),!0)},la=(e,r)=>{let t;(t=r.fill)&&"none"!==t&&e.fill(),(t=r.stroke)&&"none"!==t&&e.stroke()},xf=(e,r,{id:t,from:a,to:$},i)=>{const c=e.createLinearGradient(a[0],a[1],$[0],$[1]);for(let o of i)c.addColorStop(o[0],Na(r,o[1]));!r.grads&&(r.grads={}),r.grads[t]=c},yf=(e,r,{id:t,from:a,to:$,r1:i,r2:c},o)=>{const s=e.createRadialGradient(a[0],a[1],i,$[0],$[1],c);for(let l of o)s.addColorStop(l[0],Na(r,l[1]));!r.grads&&(r.grads={}),r.grads[t]=s},Pa=(e,r,t,a)=>{"none"!==r.stroke&&(e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(a[0],a[1]),e.stroke())},Af=(e,r,t)=>{if(t.length<2||"none"==r.stroke)return;let a=t[0];e.beginPath(),e.moveTo(a[0],a[1]);for(let $=1,i=t.length;$<i;$++)a=t[$],e.lineTo(a[0],a[1]);e.stroke()},Bf=(e,r,t)=>{if(t.length<2)return;let a=t[0];e.beginPath(),e.moveTo(a[0],a[1]);for(let $=1,i=t.length;$<i;$++)a=t[$],e.lineTo(a[0],a[1]);e.closePath(),la(e,r)},Vb=(e,r,t)=>{e.beginPath();let a=[0,0];for(let $=0,i=t.length;$<i;$++){const r=t[$];let i,c,o=r[1];switch(r[0]){case"m":o=[a[0]+o[0],a[1]+o[1]];case"M":e.moveTo(o[0],o[1]),a=o;break;case"l":o=[a[0]+o[0],a[1]+o[1]];case"L":e.lineTo(o[0],o[1]),a=o;break;case"h":o=[a[0]+o,a[1]],e.lineTo(o[0],o[1]),a=o;break;case"H":o=[o,a[1]],e.lineTo(o[0],o[1]),a=o;break;case"v":o=[a[0],a[1]+o],e.lineTo(o[0],o[1]),a=o;break;case"V":o=[a[0],o],e.lineTo(o[0],o[1]),a=o;break;case"c":i=r[2],c=r[3],c=[a[0]+c[0],a[1]+c[1]],e.bezierCurveTo(a[0]+o[0],a[1]+o[1],a[0]+i[0],a[1]+i[1],c[0],c[1]),a=c;break;case"C":i=r[2],c=r[3],e.bezierCurveTo(o[0],o[1],i[0],i[1],c[0],c[1]),a=c;break;case"q":i=r[2],i=[a[0]+i[0],a[1]+i[1]],e.quadraticCurveTo(a[0]+o[0],a[1]+o[1],i[0],i[1]),a=i;break;case"Q":i=r[2],e.quadraticCurveTo(o[0],o[1],i[0],i[1]),a=i;break;case"a":i=r[2],i=[a[0]+i[0],a[1]+i[1]],e.arcTo(a[0]+o[0],a[1]+o[1],i[0],i[1],r[3]),a=i;break;case"A":i=r[2],e.arcTo(o[0],o[1],i[0],i[1],r[3]),a=i;break;case"z":case"Z":e.closePath();}}la(e,r)},Wb=(e,r,t,a,$=0,i=ja,c=!1)=>{e.beginPath(),e.arc(t[0],t[1],a,$,i,c),la(e,r)},Ef=(e,r,t,a,$=0,i=0,c=ja,o=!1)=>{e.beginPath(),e.ellipse(t[0],t[1],a[0],a[1],$,i,c,o),la(e,r)},Ff=(e,r,t,a,$,i=0)=>{let c;if(i>0)return a-=2*(i=Math.min(Math.min(a,$)/2,i)),$-=2*i,Vb(e,r,[["M",[t[0]+i,t[1]]],["h",a],["a",[i,0],[i,i],i],["v",$],["a",[0,i],[-i,i],i],["h",-a],["a",[-i,0],[-i,-i],i],["v",-$],["a",[0,-i],[i,-i],i]]);(c=r.fill)&&"none"!==c&&e.fillRect(t[0],t[1],a,$),(c=r.stroke)&&"none"!==c&&e.strokeRect(t[0],t[1],a,$)},Gf=(e,r,t,a)=>{const $=t&&t.size||1;let i;if((i=r.fill)&&"none"!==i)if("circle"===t.shape)for(let c of a)e.beginPath(),e.arc(c[0],c[1],$,0,ja),e.fill();else for(let c of a)e.fillRect(c[0],c[1],$,$);if((i=r.stroke)&&"none"!==i)if("circle"===t.shape)for(let c of a)e.beginPath(),e.arc(c[0],c[1],$,0,ja),e.stroke();else for(let c of a)e.strokeRect(c[0],c[1],$,$)},Hf=(e,r,t,a,$)=>{let i;(i=r.fill)&&"none"!==i&&e.fillText(a.toString(),t[0],t[1],$),(i=r.stroke)&&"none"!==i&&e.strokeText(a.toString(),t[0],t[1],$)},If=(e,r,{width:t,height:a},$,i,c,o)=>{t=t||$.width,a=a||$.height,c?e.drawImage($,c[0],c[1],o[0]||t,o[1]||a,i[0],i[1],t,a):e.drawImage($,i[0],i[1],t,a)};var Jf={};function Kf(e){if(e===window||e===document.body)return[window.innerWidth,window.innerHeight];if(!e.parentNode){var r=!0;document.body.appendChild(e)}var t=e.getBoundingClientRect(),a=getComputedStyle(e),n=(0|t.height)+Q(a.getPropertyValue("margin-top"))+Q(a.getPropertyValue("margin-bottom")),o=(0|t.width)+Q(a.getPropertyValue("margin-left"))+Q(a.getPropertyValue("margin-right"));return r&&document.body.removeChild(e),[o,n]}function Q(e){return parseFloat(e)||0}Jf=Kf;var Mf={};Mf=Of;var Hb=new Float32Array(2);function Of(t,e,r){var i="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,a.scale=parseFloat(r||1),a.parent=e,a();function a(){var e=a.parent||t.parentNode;if("function"==typeof e)var r=e(Hb)||Hb,s=r[0],$=r[1];else if(e&&e!==document.body){var n=Jf(e);s=0|n[0],$=0|n[1]}else s=window.innerWidth,$=window.innerHeight;return i?(t.setAttribute("width",s*a.scale+"px"),t.setAttribute("height",$*a.scale+"px")):(t.width=s*a.scale,t.height=$*a.scale),t.style.width=s+"px",t.style.height=$+"px",a}}const Pf=["svg",{viewBox:"0 0 20 20"},["path",{"fill-rule":"nonzero",d:"M10 9.293l4.146-4.147.708.708L10.707 10l4.147 4.146-.708.708L10 10.707l-4.146 4.147-.708-.708L9.293 10 5.146 5.854l.708-.708L10 9.293z"}]];const re=["svg",{viewBox:"0 0 20 20"},["g",{"fill-rule":"evenodd"},["path",{d:"M3 4h14v1H3zM3 10h14v1H3zM3 16h14v1H3z"}]]];const pe=({ui:$})=>["span",$.icon,re];const ne=({ui:$})=>["span",$.icon,Pf];const le=({ui:t})=>["div",t.contacts,T({href:"https://github.com/stwind"},["span",t.icons.github]),T({href:"https://twitter.com/st_ind"},["span",t.icons.twitter]),T({href:"mailto:stwind@gmail.com"},["span",t.icons.mail])];const bb=({ui:$},e,a,s)=>[Fa,e?$.link.active:$.link.default,a,s],ab=({ui:$},e)=>["li",$.nav.item,e],_a=($,e)=>["ul",h($=>[ab,[e,$]],$)],Nd=({views:$},{id:e,title:a})=>{const s=$.route.deref(),r=s.id==c.SKETCH.id&&s.params.id==e;return[bb,r,[c.SKETCH.id,{id:e}],a]},Md=($,e)=>[Ra,e.url,e.title],ma=({ui:$},e,...a)=>["section",["div",$.nav.sectionName,`[${e}]`],...a],Kd=({ui:$,views:{nav:e,sketches:a,posts:s,route:r}})=>["div",M($.nav.container,e.deref().visible?{}:$.utils.hidden),["nav",$.nav.main,[ma,"sketches",_a(a.deref(),Nd)],[ma,"posts",_a(s.deref(),Md)],[ma,"misc",["ul",[ab,[bb,r.deref().id==c.ABOUT.id,[c.ABOUT.id,{}],"about"]]]]],[le]];const Jd=Oc(),Id=({ui:$,bus:e,views:a})=>[Jd,{attribs:$.nav.trigger,onclick:()=>e.dispatch([ob,"nav.visible"])},[a.nav.deref().visible?ne:pe]];const Gd=()=>"undefined"!=typeof navigator&&/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent)&&/crios/i.test(navigator.userAgent),Fd=({ui:e})=>["header",e.header,[Fa,e.logo,[c.HOME.id,{}],"pngupngu"],[Id]],Ed=({ui:e,views:{nav:r,content:$}})=>["div",M(e.content,r.deref().visible?e.utils.hidden:{}),$],xd={init(e,{bus:r}){var $Atir$$interop$default=i(Mf);$Atir$$interop$default.d(e)(),Pc(e,e.width,e.height);const $=Gd()?["touchstart","touchmove"]:["mousedown","mousemove"];this.sub=rc({src:$.map(e=>tc(document.body,e,{passive:!0})),xform:h(e=>{let r,$;return e.touches?($=e.changedTouches[0],r={touchstart:w.START,touchmove:w.MOVE}[e.type]):($=e,r={mousedown:w.START,mousemove:w.MOVE}[e.type]),[r,{pos:[0|$.clientX,0|$.clientY]}]})}).subscribe({next(e){r.dispatch([t.GESTURE,e])}})},render({views:e}){const{move:r,down:$}=e.gestures.deref();return[lf,{},r.length>0?["path",{stroke:"rgb(202,38,38)"},[["M",r[0]],...h(e=>["L",e],yb(1,r))]]:null,$.length>0?["g",{stroke:"rgb(202,38,38)"},h(e=>["circle",{},e,5],$)]:null]},release(){this.sub.done()}},Uc=({ui:e})=>["div",e.app,["div",e.canvas,[xd]],["main",e.main,[Fd],[Kd],[Ed]]];const Ob=new C(nd),La=new cf(kd),ya=new Be(Ob,rd,sd(La));La.addListener(F,$=>ya.dispatch([F,$.value]));const Ce={ui:id,views:od(Ob),bus:ya};La.start(),ya.dispatch([t.INIT]),cd(({bus:$})=>$.processQueue()?[Uc]:null,{ctx:Ce});return{"9B6d":{}};});