parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"jIkc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NO_OP=exports.SEMAPHORE=exports.EVENT_DISABLE=exports.EVENT_ENABLE=exports.EVENT_ALL=exports.DEFAULT_EPS=void 0;const e=1e-6;exports.DEFAULT_EPS=1e-6;const E="*";exports.EVENT_ALL="*";const s="enable";exports.EVENT_ENABLE="enable";const o="disable";exports.EVENT_DISABLE="disable";const t=Symbol();exports.SEMAPHORE=t;const r=()=>{};exports.NO_OP=r;
},{}],"7Zcg":[function(require,module,exports) {

},{}],"omI/":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=void 0;var r=require("./api");const o=void 0===e?(e,r="assertion failed")=>{if("function"==typeof e&&!e()||!e)throw new Error(r)}:r.NO_OP;exports.assert=o;
},{"./api":"jIkc","process":"7Zcg"}],"r7mt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixin=void 0;const e=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function p(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let c of r)Object.defineProperty(p,c,{value:t[c],enumerable:t.propertyIsEnumerable(c)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};exports.mixin=e;
},{}],"1+Jb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.configurable=void 0;const e=e=>(function(o,r,t){t.configurable=e});exports.configurable=e;
},{}],"uRQP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalArgs=exports.IllegalArgumentError=void 0;class r extends Error{constructor(r){super("illegal argument(s)"+(void 0!==r?": "+r:""))}}exports.IllegalArgumentError=r;const e=e=>{throw new r(e)};exports.illegalArgs=e;
},{}],"r3zx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalArity=exports.IllegalArityError=void 0;class r extends Error{constructor(r){super(`illegal arity: ${r}`)}}exports.IllegalArityError=r;const e=e=>{throw new r(e)};exports.illegalArity=e;
},{}],"htig":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalState=exports.IllegalStateError=void 0;class e extends Error{constructor(e){super("illegal state"+(void 0!==e?": "+e:""))}}exports.IllegalStateError=e;const t=t=>{throw new e(t)};exports.illegalState=t;
},{}],"EzWe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unsupported=exports.UnsupportedOperationError=void 0;class r extends Error{constructor(r){super("unsupported operation"+(void 0!==r?": "+r:""))}}exports.UnsupportedOperationError=r;const e=e=>{throw new r(e)};exports.unsupported=e;
},{}],"j3Rf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./illegal-arguments");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./illegal-arity");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./illegal-state");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./unsupported");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});
},{"./illegal-arguments":"uRQP","./illegal-arity":"r3zx","./illegal-state":"htig","./unsupported":"EzWe"}],"RA/o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deprecated=void 0;var e=require("@thi.ng/errors");const t=(t,o=console.log)=>(function(r,n,s){const i=`${r.constructor.name}#${n.toString()}`,c=s.value;return"function"!=typeof c&&(0,e.illegalArgs)(`${i} is not a function`),s.value=function(){return o(`DEPRECATED ${i}: ${t||"will be removed soon"}`),c.apply(this,arguments)},s});exports.deprecated=t;
},{"@thi.ng/errors":"j3Rf"}],"VFtB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nomixin=void 0;const e=(e,o,i)=>{i.configurable=!1};exports.nomixin=e;
},{}],"bcf/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sealed=void 0;const e=e=>{Object.seal(e),Object.seal(e.prototype)};exports.sealed=e;
},{}],"EQ47":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IEnableMixin=void 0;var e=require("../api"),i=require("../mixin");const t=(0,i.mixin)({_enabled:!0,isEnabled(){return this._enabled},enable(){this._enabled=!0,this.notify&&this.notify({id:e.EVENT_ENABLE,target:this})},disable(){this._enabled=!1,this.notify&&this.notify({id:e.EVENT_DISABLE,target:this})},toggle(){return this._enabled?this.disable():this.enable(),this._enabled}});exports.IEnableMixin=t;
},{"../api":"jIkc","../mixin":"r7mt"}],"uu6d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INotifyMixin=exports.inotify_dispatch=void 0;var e=require("../api"),t=require("../mixin");const i=(e,t)=>{if(e)for(let i,s=0,r=e.length;s<r;s++)if((i=e[s])[0].call(i[1],t),t.canceled)return};exports.inotify_dispatch=i;const s=(0,t.mixin)({addListener(e,t,i){let s=(this._listeners=this._listeners||{})[e];return s||(s=this._listeners[e]=[]),-1===this.__listener(s,t,i)&&(s.push([t,i]),!0)},removeListener(e,t,i){if(!this._listeners)return!1;const s=this._listeners[e];if(s){const e=this.__listener(s,t,i);if(-1!==e)return s.splice(e,1),!0}return!1},notify(t){this._listeners&&(void 0===t.target&&(t.target=this),i(this._listeners[t.id],t),i(this._listeners[e.EVENT_ALL],t))},__listener(e,t,i){let s=e.length;for(;--s>=0;){const r=e[s];if(r[0]===t&&r[1]===i)break}return s}});exports.INotifyMixin=s;
},{"../api":"jIkc","../mixin":"r7mt"}],"IAX8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterable=void 0;var e=require("../mixin");const i=i=>(0,e.mixin)({*[Symbol.iterator](){yield*this[i]}});exports.iterable=i;
},{"../mixin":"r7mt"}],"15ha":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IWatchMixin=void 0;var t=require("../mixin");const e=(0,t.mixin)({addWatch(t,e){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=e,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,e){if(!this._watches)return;const s=this._watches;for(let i in s)s[i](i,t,e)}});exports.IWatchMixin=e;
},{"../mixin":"r7mt"}],"MOSf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./assert");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./mixin");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./decorators/configurable");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./decorators/deprecated");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./decorators/nomixin");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var i=require("./decorators/sealed");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var c=require("./mixins/ienable");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./mixins/inotify");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./mixins/iterable");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./mixins/iwatch");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});
},{"./api":"jIkc","./assert":"omI/","./mixin":"r7mt","./decorators/configurable":"1+Jb","./decorators/deprecated":"RA/o","./decorators/nomixin":"VFtB","./decorators/sealed":"bcf/","./mixins/ienable":"EQ47","./mixins/inotify":"uu6d","./mixins/iterable":"IAX8","./mixins/iwatch":"15ha"}],"JkV6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.existsAndNotNull=void 0;const e=e=>null!=e;exports.existsAndNotNull=e;
},{}],"gHcL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exists=void 0;const e=e=>void 0!==e;exports.exists=e;
},{}],"tHdQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasCrypto=void 0;const e=()=>"undefined"!=typeof window&&void 0!==window.crypto;exports.hasCrypto=e;
},{}],"1Guy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasMaxLength=void 0;const e=(e,t)=>null!=t&&t.length<=e;exports.hasMaxLength=e;
},{}],"IZ1J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasMinLength=void 0;const e=(e,t)=>null!=t&&t.length>=e;exports.hasMinLength=e;
},{}],"Bufo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=void 0;const e=e=>"function"==typeof e;exports.isFunction=e;
},{}],"whl6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasPerformance=void 0;var e=require("./is-function");const r=()=>"undefined"!=typeof performance&&(0,e.isFunction)(performance.now);exports.hasPerformance=r;
},{"./is-function":"Bufo"}],"+Pls":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWASM=void 0;const o=()=>"undefined"!=typeof window&&void 0!==window.WebAssembly||void 0!==e&&void 0!==e.WebAssembly;exports.hasWASM=o;
},{}],"hLmy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWebGL=void 0;const e=()=>{try{return document.createElement("canvas").getContext("webgl"),!0}catch(e){return!1}};exports.hasWebGL=e;
},{}],"gjyQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWebSocket=void 0;const e=()=>"undefined"!=typeof WebSocket;exports.hasWebSocket=e;
},{}],"1ayp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.implementsFunction=void 0;const e=(e,t)=>null!=e&&"function"==typeof e[t];exports.implementsFunction=e;
},{}],"EzY8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=void 0;const r=Array.isArray;exports.isArray=r;
},{}],"aMkR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrayLike=void 0;const e=e=>null!=e&&"function"!=typeof e&&void 0!==e.length;exports.isArrayLike=e;
},{}],"7cj/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBlob=void 0;const e=e=>e instanceof Blob;exports.isBlob=e;
},{}],"wIBj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBoolean=void 0;const e=e=>"boolean"==typeof e;exports.isBoolean=e;
},{}],"99Q2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isChrome=void 0;const e=()=>"undefined"!=typeof window&&!!window.chrome;exports.isChrome=e;
},{}],"iWZh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDate=void 0;const e=e=>e instanceof Date;exports.isDate=e;
},{}],"DVMc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEven=void 0;const e=e=>e%2==0;exports.isEven=e;
},{}],"8itL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFalse=void 0;const e=e=>!1===e;exports.isFalse=e;
},{}],"nIhw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFile=void 0;const e=e=>e instanceof File;exports.isFile=e;
},{}],"kN94":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFirefox=void 0;const e=()=>"undefined"!=typeof window&&!!window.InstallTrigger;exports.isFirefox=e;
},{}],"uzxQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIE=void 0;const e=()=>"undefined"!=typeof document&&(void 0!==document.documentMode||navigator.userAgent.indexOf("MSIE")>0);exports.isIE=e;
},{}],"/chR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInRange=void 0;const e=(e,s,t)=>t>=e&&t<=s;exports.isInRange=e;
},{}],"t+ST":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInt32=void 0;const e=e=>"number"==typeof e&&(0|e)===e;exports.isInt32=e;
},{}],"1n4M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIterable=void 0;const e=e=>null!=e&&"function"==typeof e[Symbol.iterator];exports.isIterable=e;
},{}],"f4lF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMap=void 0;const e=e=>e instanceof Map;exports.isMap=e;
},{}],"D1Vz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMobile=void 0;const e=()=>"undefined"!=typeof navigator&&/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent)&&!/crios/i.test(navigator.userAgent);exports.isMobile=e;
},{}],"PQYg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNaN=void 0;const e=e=>e!=e;exports.isNaN=e;
},{}],"/ujx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNegative=void 0;const e=e=>"number"==typeof e&&e<0;exports.isNegative=e;
},{}],"av77":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNode=void 0;const o=()=>"object"==typeof e&&"object"==typeof e.versions&&void 0!==e.versions.node;exports.isNode=o;
},{"process":"7Zcg"}],"h7C1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNotStringAndIterable=void 0;const t=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];exports.isNotStringAndIterable=t;
},{}],"n9f+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNull=void 0;const e=e=>null===e;exports.isNull=e;
},{}],"tVEK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumber=void 0;const e=e=>"number"==typeof e;exports.isNumber=e;
},{}],"czvy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=void 0;const e=e=>null!==e&&"object"==typeof e;exports.isObject=e;
},{}],"FdDG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isOdd=void 0;const e=e=>e%2!=0;exports.isOdd=e;
},{}],"Pfe1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPlainObject=void 0;const e=Object.getPrototypeOf,t=t=>{let l;return null!=t&&"object"==typeof t&&(null===(l=e(t))||null===e(l))};exports.isPlainObject=t;
},{}],"LOdY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPosititve=void 0;const e=e=>"number"==typeof e&&e>0;exports.isPosititve=e;
},{}],"woDp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPrimitive=void 0;const e=e=>{const t=typeof e;return"string"===t||"number"===t};exports.isPrimitive=e;
},{}],"dJae":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=void 0;const e=e=>e instanceof Promise;exports.isPromise=e;
},{}],"qg0p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromiseLike=void 0;var e=require("./implements-function");const i=i=>i instanceof Promise||(0,e.implementsFunction)(i,"then")&&(0,e.implementsFunction)(i,"catch");exports.isPromiseLike=i;
},{"./implements-function":"1ayp"}],"+8ec":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isRegExp=void 0;const e=e=>e instanceof RegExp;exports.isRegExp=e;
},{}],"UBhm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSafari=void 0;var e=require("./is-chrome");const r=()=>"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!(0,e.isChrome)();exports.isSafari=r;
},{"./is-chrome":"99Q2"}],"FYtk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSet=void 0;const e=e=>e instanceof Set;exports.isSet=e;
},{}],"YRs3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isString=void 0;const e=e=>"string"==typeof e;exports.isString=e;
},{}],"yWj9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSymbol=void 0;const e=e=>"symbol"==typeof e;exports.isSymbol=e;
},{}],"DsUC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTransferable=void 0;const e=e=>e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer||"undefined"!=typeof MessagePort&&e instanceof MessagePort;exports.isTransferable=e;
},{}],"cptQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTrue=void 0;const e=e=>!0===e;exports.isTrue=e;
},{}],"KTQJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTypedArray=void 0;const r=r=>r&&(r.constructor===Float32Array||r.constructor===Uint32Array||r.constructor===Uint8Array||r.constructor===Uint8ClampedArray||r.constructor===Int8Array||r.constructor===Uint16Array||r.constructor===Int16Array||r.constructor===Int32Array||r.constructor===Float64Array);exports.isTypedArray=r;
},{}],"oPfe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUint32=void 0;const e=e=>"number"==typeof e&&e>>>0===e;exports.isUint32=e;
},{}],"Nuc0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUndefined=void 0;const e=e=>void 0===e;exports.isUndefined=e;
},{}],"y4fY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUUID=void 0;const e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,s=s=>e.test(s);exports.isUUID=s;
},{}],"/SOq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUUIDv4=void 0;const e=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,s=s=>e.test(s);exports.isUUIDv4=s;
},{}],"xfMy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isZero=void 0;const e=e=>0===e;exports.isZero=e;
},{}],"XYpc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./exists-not-null");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./exists");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./has-crypto");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./has-max-length");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./has-min-length");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./has-performance");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var i=require("./has-wasm");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var f=require("./has-webgl");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var c=require("./has-websocket");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var a=require("./implements-function");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./is-array");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./is-arraylike");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var b=require("./is-blob");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var d=require("./is-boolean");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var p=require("./is-chrome");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./is-date");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var j=require("./is-even");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var _=require("./is-false");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./is-file");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./is-firefox");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var h=require("./is-function");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var g=require("./is-ie");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var x=require("./is-in-range");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var v=require("./is-int32");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var k=require("./is-iterable");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var M=require("./is-map");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./is-mobile");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var q=require("./is-nan");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var E=require("./is-negative");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./is-node");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./is-not-string-iterable");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var A=require("./is-null");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./is-number");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./is-object");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./is-odd");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./is-plain-object");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./is-positive");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./is-primitive");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./is-promise");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./is-promiselike");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./is-regexp");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./is-safari");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./is-set");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./is-string");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./is-symbol");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./is-transferable");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./is-true");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./is-typedarray");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});var V=require("./is-uint32");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}})});var W=require("./is-undefined");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}})});var X=require("./is-uuid");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}})});var Y=require("./is-uuid4");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}})});var Z=require("./is-zero");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}})});
},{"./exists-not-null":"JkV6","./exists":"gHcL","./has-crypto":"tHdQ","./has-max-length":"1Guy","./has-min-length":"IZ1J","./has-performance":"whl6","./has-wasm":"+Pls","./has-webgl":"hLmy","./has-websocket":"gjyQ","./implements-function":"1ayp","./is-array":"EzY8","./is-arraylike":"aMkR","./is-blob":"7cj/","./is-boolean":"wIBj","./is-chrome":"99Q2","./is-date":"iWZh","./is-even":"DVMc","./is-false":"8itL","./is-file":"nIhw","./is-firefox":"kN94","./is-function":"Bufo","./is-ie":"uzxQ","./is-in-range":"/chR","./is-int32":"t+ST","./is-iterable":"1n4M","./is-map":"f4lF","./is-mobile":"D1Vz","./is-nan":"PQYg","./is-negative":"/ujx","./is-node":"av77","./is-not-string-iterable":"h7C1","./is-null":"n9f+","./is-number":"tVEK","./is-object":"czvy","./is-odd":"FdDG","./is-plain-object":"Pfe1","./is-positive":"LOdY","./is-primitive":"woDp","./is-promise":"dJae","./is-promiselike":"qg0p","./is-regexp":"+8ec","./is-safari":"UBhm","./is-set":"FYtk","./is-string":"YRs3","./is-symbol":"yWj9","./is-transferable":"DsUC","./is-true":"cptQ","./is-typedarray":"KTQJ","./is-uint32":"oPfe","./is-undefined":"Nuc0","./is-uuid":"y4fY","./is-uuid4":"/SOq","./is-zero":"xfMy"}],"jkaf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mutInMany=exports.mutIn=exports.mutator=exports.deleteIn=exports.updateIn=exports.updater=exports.setInMany=exports.setIn=exports.getIn=exports.setter=exports.getter=exports.exists=exports.toPath=void 0;var t=require("@thi.ng/checks"),e=require("@thi.ng/errors");const r=Array.isArray,n=t.isString,s=t=>r(t)?t.slice():Object.assign({},t),o=(t,e)=>(r,n)=>(r=s(r),r[t]=e?e(r[t],n):n,r),u=(t,e)=>r=>r?e(r[t]):void 0,l=t=>r(t)?t:n(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];exports.toPath=l;const c=(t,e)=>{if(null==t)return!1;for(let r=(e=l(e)).length-1,n=0;n<=r;n++){const s=e[n];if(!t.hasOwnProperty(s))return!1;if(null==(t=t[s])&&n<r)return!1}return!0};exports.exists=c;const a=t=>{const e=l(t);let[r,n,s,o]=e;switch(e.length){case 0:return t=>t;case 1:return t=>t?t[r]:void 0;case 2:return t=>t&&(t=t[r])?t[n]:void 0;case 3:return t=>t&&(t=t[r])&&(t=t[n])?t[s]:void 0;case 4:return t=>t&&(t=t[r])&&(t=t[n])&&(t=t[s])?t[o]:void 0;default:const t=e[e.length-1];let l=e=>e?e[t]:void 0;for(let r=e.length-1;--r>=0;)l=u(e[r],l);return l}};exports.getter=a;const i=t=>{const e=l(t);let[r,n,u,c]=e;switch(e.length){case 0:return(t,e)=>e;case 1:return(t,e)=>(t=s(t),t[r]=e,t);case 2:return(t,e)=>{let o;return(t=s(t))[r]=o=s(t[r]),o[n]=e,t};case 3:return(t,e)=>{let o,l;return(t=s(t))[r]=o=s(t[r]),o[n]=l=s(o[n]),l[u]=e,t};case 4:return(t,e)=>{let o,l,a;return(t=s(t))[r]=o=s(t[r]),o[n]=l=s(o[n]),l[u]=a=s(l[u]),a[c]=e,t};default:let t;for(let r=e.length;--r>=0;)t=o(e[r],t);return t}};exports.setter=i;const p=(t,e)=>a(e)(t);exports.getIn=p;const g=(t,e,r)=>i(e)(t,r);exports.setIn=g;const x=(t,...r)=>{const n=r.length;1&n&&(0,e.illegalArgs)(`require even number of args (got ${r.length})`);for(let e=0;e<n;e+=2)t=g(t,r[e],r[e+1]);return t};exports.setInMany=x;const h=(t,e)=>{const r=a(t),n=i(t);return(t,...s)=>n(t,e.apply(null,(s.unshift(r(t)),s)))};exports.updater=h;const d=(t,e,r,...n)=>i(e)(t,r.apply(null,(n.unshift(a(e)(t)),n)));exports.updateIn=d;const f=(t,e)=>{const r=[...l(e)];if(r.length>0){const e=r.pop();return d(t,r,t=>(t=Object.assign({},t),delete t[e],t))}};exports.deleteIn=f;const v=t=>{const e=l(t);let[r,n,s,o]=e;switch(e.length){case 0:return(t,e)=>e;case 1:return(t,e)=>t?(t[r]=e,t):void 0;case 2:return(t,e)=>{let s;return t&&(s=t[r])?(s[n]=e,t):void 0};case 3:return(t,e)=>{let o;return t&&(o=t[r])&&(o=o[n])?(o[s]=e,t):void 0};case 4:return(t,e)=>{let u;return t&&(u=t[r])&&(u=u[n])&&(u=u[s])?(u[o]=e,t):void 0};default:return(t,r)=>{let n=t;const s=e.length-1;for(let o=0;o<s;o++)if(!(n=n[e[o]]))return;return n[e[s]]=r,t}}};exports.mutator=v;const I=(t,e,r)=>v(e)(t,r);exports.mutIn=I;const y=(t,...r)=>{const n=r.length;1&n&&(0,e.illegalArgs)(`require even number of args (got ${r.length})`);for(let e=0;e<n&&t;e+=2)t=I(t,r[e],r[e+1]);return t};exports.mutInMany=y;
},{"@thi.ng/checks":"XYpc","@thi.ng/errors":"j3Rf"}],"U8cl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equivObject=exports.equivMap=exports.equivSet=exports.equivArrayLike=exports.equiv=void 0;const e=Object.getPrototypeOf({}),t="function",o="string",n=(n,u)=>{let f;return n===u||(null==n?n==u:typeof n.equiv===t?n.equiv(u):null==u?n==u:typeof u.equiv===t?u.equiv(n):typeof n!==o&&typeof u!==o&&(null!=(f=Object.getPrototypeOf(n))&&f!==e||null!=(f=Object.getPrototypeOf(u))&&f!==e?typeof n!==t&&void 0!==n.length&&typeof u!==t&&void 0!==u.length?i(n,u):n instanceof Set&&u instanceof Set?r(n,u):n instanceof Map&&u instanceof Map?s(n,u):n instanceof Date&&u instanceof Date?n.getTime()===u.getTime():n instanceof RegExp&&u instanceof RegExp?n.toString()===u.toString():n!=n&&u!=u:p(n,u)))};exports.equiv=n;const i=(e,t,o=n)=>{let i=e.length;if(i===t.length)for(;--i>=0&&o(e[i],t[i]););return i<0};exports.equivArrayLike=i;const r=(e,t,o=n)=>e.size===t.size&&o([...e.keys()].sort(),[...t.keys()].sort());exports.equivSet=r;const s=(e,t,o=n)=>e.size===t.size&&o([...e].sort(),[...t].sort());exports.equivMap=s;const p=(e,t,o=n)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!t.hasOwnProperty(n)||!o(e[n],t[n]))return!1;return!0};exports.equivObject=p;
},{}],"EFLD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nextID=void 0;let e=0;const t=()=>e++;exports.nextID=t;
},{}],"LPQS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.View=void 0;var t=require("@thi.ng/equiv"),s=require("@thi.ng/paths"),i=require("./idgen");class e{constructor(e,h,r,a=!0,d=t.equiv){this.parent=e,this.id=`view-${(0,i.nextID)()}`,this.tx=r||(t=>t),this.path=(0,s.toPath)(h),this.isDirty=!0,this.isLazy=a;const n=(0,s.getter)(this.path),o=this.parent.deref();this.unprocessed=o?n(o):void 0,a||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),e.addWatch(this.id,(t,s,i)=>{const e=s?n(s):s,h=i?n(i):i;d(h,e)||(a?this.unprocessed=h:this.state=this.tx(h),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}exports.View=e;
},{"@thi.ng/equiv":"U8cl","@thi.ng/paths":"jkaf","./idgen":"EFLD"}],"2Mkk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Atom=void 0;var e=require("@thi.ng/api"),t=require("@thi.ng/errors"),r=require("@thi.ng/paths"),i=require("./view"),s=function(e,t,r,i){var s,a=arguments.length,l=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,i);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(l=(a<3?s(l):a>3?s(t,r,l):s(t,r))||l);return a>3&&l&&Object.defineProperty(t,r,l),l};let a=class{constructor(e,r){r&&!r(e)&&(0,t.illegalState)("initial state value did not validate"),this._value=e,this.valid=r}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset((0,r.setIn)(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...i){return this.reset((0,r.updateIn)(this._value,e,t,...i))}addWatch(e,t){return!1}removeWatch(e){return!1}notifyWatches(e,t){}addView(e,t,r=!0){return new i.View(this,e,t,r)}release(){return delete this._watches,delete this._value,!0}};exports.Atom=a,exports.Atom=a=s([e.IWatchMixin],a);
},{"@thi.ng/api":"MOSf","@thi.ng/errors":"j3Rf","@thi.ng/paths":"jkaf","./view":"LPQS"}],"Xraa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cursor=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/errors"),r=require("@thi.ng/paths"),s=require("./atom"),a=require("./idgen"),i=require("./view");class l{constructor(...i){let l,h,c,n,o,d;switch(i.length){case 1:h=(d=i[0]).id,l=d.parent,o=d.validate,d.path?(0,e.isArray)(d.path)&&(0,e.isFunction)(d.path[0])?[c,n]=d.path:(c=(0,r.getter)(d.path),n=(0,r.setter)(d.path)):(0,t.illegalArgs)("missing path config");break;case 2:l=i[0],c=(0,r.getter)(i[1]),n=(0,r.setter)(i[1]);break;case 3:[l,c,n]=i;break;default:(0,t.illegalArity)(i.length)}this.parent=l,this.id=h||`cursor-${(0,a.nextID)()}`,this.selfUpdate=!1,c&&n||(0,t.illegalArgs)(),this.local=new s.Atom(c(l.deref()),o),this.local.addWatch(this.id,(e,t,r)=>{t!==r&&(this.selfUpdate=!0,l.swap(e=>n(e,r)),this.selfUpdate=!1)}),l.addWatch(this.id,(e,t,r)=>{if(!this.selfUpdate){const e=c(r);e!==c(t)&&this.local.reset(e)}})}get value(){return this.deref()}set value(e){this.reset(e)}deref(){return this.local.deref()}release(){return this.local.release(),this.parent.removeWatch(this.id),delete this.local,delete this.parent,!0}reset(e){return this.local.reset(e)}resetIn(e,t){return this.local.resetIn(e,t)}swap(e,...t){return this.local.swap(e,...t)}swapIn(e,t,...r){return this.local.swapIn(e,t,...r)}addWatch(e,t){return this.local.addWatch(e,t)}removeWatch(e){return this.local.removeWatch(e)}notifyWatches(e,t){return this.local.notifyWatches(e,t)}addView(e,t,r=!0){return new i.View(this,e,t,r)}}exports.Cursor=l;
},{"@thi.ng/checks":"XYpc","@thi.ng/errors":"j3Rf","@thi.ng/paths":"jkaf","./atom":"2Mkk","./idgen":"EFLD","./view":"LPQS"}],"Vh1i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.History=void 0;var t,e=require("@thi.ng/api"),s=require("@thi.ng/equiv"),r=require("@thi.ng/paths"),i=require("./view"),h=function(t,e,s,r){var i,h=arguments.length,n=h<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(n=(h<3?i(n):h>3?i(e,s,n):i(e,s))||n);return h>3&&n&&Object.defineProperty(e,s,n),n};let n=t=class{constructor(t,e=100,r){this.state=t,this.maxLen=e,this.changed=r||((t,e)=>!(0,s.equiv)(t,e)),this.clear()}get value(){return this.deref()}set value(t){this.reset(t)}canUndo(){return this.history.length>0}canRedo(){return this.future.length>0}clear(){this.history=[],this.future=[]}undo(){if(this.history.length){const e=this.state.deref();this.future.push(e);const s=this.state.reset(this.history.pop());return this.notify({id:t.EVENT_UNDO,value:{prev:e,curr:s}}),s}}redo(){if(this.future.length){const e=this.state.deref();this.history.push(e);const s=this.state.reset(this.future.pop());return this.notify({id:t.EVENT_REDO,value:{prev:e,curr:s}}),s}}reset(t){const e=this.state.deref();return this.state.reset(t),this.changed(e,this.state.deref())&&this.record(e),t}resetIn(t,e){const s=this.state.deref(),i=(0,r.getIn)(s,t),h=(0,r.setIn)(s,t,e);return this.state.reset(h),this.changed(i,(0,r.getIn)(h,t))&&this.record(s),h}swap(t,...e){return this.reset(t(this.state.deref(),...e))}swapIn(t,e,...s){const i=this.state.deref(),h=(0,r.getIn)(i,t),n=(0,r.updateIn)(this.state.deref(),t,e,...s);return this.state.reset(n),this.changed(h,(0,r.getIn)(n,t))&&this.record(i),n}record(e){const s=this.history,r=s.length;let i=!0;arguments.length||(e=this.state.deref(),i=!r||this.changed(s[r-1],e)),i&&(r>=this.maxLen&&s.shift(),s.push(e),this.notify({id:t.EVENT_RECORD,value:e}),this.future.length=0)}deref(){return this.state.deref()}addWatch(t,e){return this.state.addWatch(t,e)}removeWatch(t){return this.state.removeWatch(t)}notifyWatches(t,e){return this.state.notifyWatches(t,e)}addView(t,e,s=!0){return new i.View(this,t,e,s)}release(){return this.state.release(),delete this.state,!0}addListener(t,e,s){return!1}removeListener(t,e,s){return!1}notify(t){}};exports.History=n,n.EVENT_UNDO="undo",n.EVENT_REDO="redo",n.EVENT_RECORD="record",exports.History=n=t=h([e.INotifyMixin],n);
},{"@thi.ng/api":"MOSf","@thi.ng/equiv":"U8cl","@thi.ng/paths":"jkaf","./view":"LPQS"}],"GVpA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./atom");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./cursor");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./history");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./view");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});
},{"./atom":"2Mkk","./cursor":"Xraa","./history":"Vh1i","./view":"LPQS"}],"sx3Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEBUG=void 0;const e=!1;exports.DEBUG=!1;
},{}],"gimq":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiffMode=void 0,exports.DiffMode=e,function(e){e[e.ONLY_DISTANCE=0]="ONLY_DISTANCE",e[e.ONLY_DISTANCE_LINEAR=1]="ONLY_DISTANCE_LINEAR",e[e.FULL=2]="FULL"}(e||(exports.DiffMode=e={}));
},{}],"s5qO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.diffArray=void 0;var t=require("@thi.ng/equiv");let e,n,l=[],r=[];const s=t=>e&&e.length>=t?e:e=new Int32Array(t),o=t=>n&&n.length>=t?n:n=new Int32Array(t),i=(t,e,n,l,r)=>{const s=e.length,o=t.linear;if(t.distance=s,0!==r){for(let t=0,n=0;t<s;t++,n+=3)o[n]=l,o[n+1]=t,o[n+2]=e[t];if(2===r){const l=t[n];for(let t=0;t<s;t++)l[t]=e[t]}}return t},h=(e,n,h=2,c=t.equiv)=>{const d={distance:0,adds:{},dels:{},const:{},linear:[]};if(e===n||null==e&&null==n)return d;if(null==e||0===e.length)return i(d,n,"adds",1,h);if(null==n||0===n.length)return i(d,e,"dels",-1,h);const a=e.length>=n.length;let g,p,v,y;a?(g=n,p=e):(g=e,p=n),v=g.length,y=p.length;const A=v+1,q=y-v,w=q+A,x=v+y+3,I=o(x).fill(-1,0,x),_=s(x).fill(-1,0,x),b=l,j=r;b.length=0,j.length=0;const M=(t,e,n)=>{const l=t+A;let r,s;e>n?(r=I[l-1],s=e):(r=I[l+1],s=n);let o=s-t;for(;o<v&&s<y&&c(g[o],p[s]);)o++,s++;return I[l]=j.length/3,j.push(o,s,r),s};let O,P,k=-1;do{for(P=(O=-++k)+A;O<q;O++,P++)_[P]=M(O,_[P-1]+1,_[P+1]);for(P=(O=q+k)+A;O>q;O--,P--)_[P]=M(O,_[P-1]+1,_[P+1]);_[w]=M(q,_[w-1]+1,_[w+1])}while(_[w]!==y);if(d.distance=q+2*k,0!==h){for(k=3*I[w];k>=0;)b.push(k),k=3*j[k+2];2===h?u(b,j,d,g,p,a):f(b,j,d,g,p,a)}return d};exports.diffArray=h;const u=(t,e,n,l,r,s)=>{const o=n.linear,i=n.const;let h,u,f,c,d=t.length,a=0,g=0;for(s?(h=n.dels,u=n.adds,f=-1,c=1):(h=n.adds,u=n.dels,f=1,c=-1);--d>=0;){const n=t[d],s=e[n],p=e[n+1],v=p-s;for(;a<s||g<p;){const t=g-a;v>t?(o.push(f,g,h[g]=r[g]),g++):v<t?(o.push(c,a,u[a]=l[a]),a++):(o.push(0,a,i[a]=l[a]),a++,g++)}}},f=(t,e,n,l,r,s)=>{const o=n.linear,i=s?-1:1,h=s?1:-1;let u=t.length,f=0,c=0;for(;--u>=0;){const n=t[u],s=e[n],d=e[n+1],a=d-s;for(;f<s||c<d;){const t=c-f;a>t?(o.push(i,c,r[c]),c++):a<t?(o.push(h,f,l[f]),f++):(o.push(0,f,l[f]),f++,c++)}}};
},{"@thi.ng/equiv":"U8cl"}],"D8na":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.diffObject=void 0;var e=require("@thi.ng/equiv");const t=(t,n,o=2,r=e.equiv)=>t===n?{distance:0}:0===o?i(t,n,r):s(t,n,r);exports.diffObject=t;const i=(e,t,i)=>{let s=0;for(let n in e){const o=t[n];(void 0===o||!i(e[n],o))&&s++}for(let n in t)!(n in e)&&s++;return{distance:s}},s=(e,t,i)=>{let s=0;const n=[],o=[],r=[];for(let d in e){const n=t[d];void 0===n?(o.push(d),s++):i(e[d],n)||(r.push(d,n),s++)}for(let d in t)d in e||(n.push(d),s++);return{distance:s,adds:n,dels:o,edits:r}};
},{"@thi.ng/equiv":"U8cl"}],"xpOK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./array");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./object");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./api":"gimq","./array":"s5qO","./object":"D8na"}],"p4eH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equiv=exports.releaseTree=exports.diffAttributes=exports.diffTree=void 0;var n=require("@thi.ng/api"),t=require("@thi.ng/diff"),_=require("@thi.ng/equiv");const g=Array.isArray,b=Math.max,A=(()=>{const n=new Array(2048);for(let t=2,_=n.length;t<_;t++)n[t]=t-2;return n})(),O=n=>{if(n<=A.length)return A.slice(0,n);const t=new Array(n);for(;--n>=2;)t[n]=n-2;return t},h=(n,_,A,C,E,P=0)=>{const R=E[1];if(R.__skip)return;if(!1===R.__diff)return M(C),void _.replaceChild(n,A,P,E);let w=R.__impl;if(w&&w!==_)return w.diffTree(n,w,A,C,E,P);const D=(0,t.diffArray)(C,E,1,a);if(0===D.distance)return;const H=D.linear,z=_.getChild(A,P);let B,F,G,I,J,N,Q,U;if(0!==H[0]||C[1].key!==R.key)return M(C),void _.replaceChild(n,A,P,E);if((U=C.__release)&&U!==E.__release&&M(C),0!==H[3]&&(c(_,z,C[1],E[1]),2===D.distance))return;const V=H.length,W=C.length-1,X=S(H),Y=O(W+1);for(B=2,F=6;F<V;B++,F+=3)if(-1===(Q=H[F]))if(U=H[F+2],g(U))if(void 0!==(J=U[1].key)&&void 0!==X[J][2])J=(N=X[J])[0],h(n,_,z,C[J],E[N[2]],Y[J]);else for(I=H[F+1],M(U),_.removeChild(z,Y[I]),G=W;G>=I;G--)Y[G]=b(Y[G]-1,0);else"string"==typeof U&&_.setContent(z,"");else if(1===Q)if("string"==typeof(U=H[F+2]))_.setContent(z,U);else if(g(U)&&(void 0===(J=U[1].key)||void 0===X[J][0]))for(I=H[F+1],_.createTree(n,z,U,Y[I]),G=W;G>=I;G--)Y[G]++;(U=E.__init)&&U!=C.__init&&U.apply(E,[z,...E.__args])};exports.diffTree=h;const c=(g,b,A,O)=>{const h=(0,t.diffObject)(A,O,2,_.equiv);g.removeAttribs(b,h.dels,A);let c,M,S,C=n.SEMAPHORE;for(c=(S=h.edits).length;(c-=2)>=0;){const n=S[c];0===n.indexOf("on")&&g.removeAttribs(b,[n],A),"value"!==n?g.setAttrib(b,n,S[c+1],O):C=S[c+1]}for(c=(S=h.adds).length;--c>=0;)"value"!==(M=S[c])?g.setAttrib(b,M,O[M],O):C=O[M];C!==n.SEMAPHORE&&g.setAttrib(b,"value",C,O)};exports.diffAttributes=c;const M=n=>{if(g(n)){let t;if((t=n[1])&&!1===t.__release)return;for(n.__release&&(n.__release.apply(n.__this,n.__args),delete n.__release),t=n.length;--t>=2;)M(n[t])}};exports.releaseTree=M;const S=n=>{let t,_,b;const A={};for(let O=n.length;(O-=3)>=0;)_=n[O+2],g(_)&&void 0!==(t=_[1].key)&&(!(b=A[t])&&(A[t]=b=[,,]),b[n[O]+1]=n[O+1]);return A},C=Object.getPrototypeOf({}),E="function",P="string",a=(n,t)=>{let g;return n===t||(null==n?n==t:typeof n.equiv===E?n.equiv(t):null==t?n==t:typeof t.equiv===E?t.equiv(n):typeof n!==P&&typeof t!==P&&(null!=(g=Object.getPrototypeOf(n))&&g!==C||null!=(g=Object.getPrototypeOf(t))&&g!==C?typeof n!==E&&void 0!==n.length&&typeof t!==E&&void 0!==t.length?(0,_.equivArrayLike)(n,t,a):n instanceof Set&&t instanceof Set?(0,_.equivSet)(n,t,a):n instanceof Map&&t instanceof Map?(0,_.equivMap)(n,t,a):n instanceof Date&&t instanceof Date?n.getTime()===t.getTime():n instanceof RegExp&&t instanceof RegExp?n.toString()===t.toString():n!=n&&t!=t:!(!1===n.__diff||!1===t.__diff)&&(0,_.equivObject)(n,t,a)))};exports.equiv=a;
},{"@thi.ng/api":"MOSf","@thi.ng/diff":"xpOK","@thi.ng/equiv":"U8cl"}],"paoD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ENTITY_RE=exports.NO_SPANS=exports.COMMENT=exports.ENTITIES=exports.VOID_TAGS=exports.SVG_TAGS=exports.PROC_TAGS=exports.TAG_REGEXP=exports.XHTML_NS=exports.XLINK_NS=exports.SVG_NS=void 0;const e="http://www.w3.org/2000/svg";exports.SVG_NS=e;const t="http://www.w3.org/1999/xlink";exports.XLINK_NS=t;const o="http://www.w3.org/1999/xhtml";exports.XHTML_NS=o;const s=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;exports.TAG_REGEXP=s;const r={"?xml":"?>\n","!DOCTYPE":">\n","!ENTITY":">\n","!ELEMENT":">\n","!ATTLIST":">\n"};exports.PROC_TAGS=r;const n="animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view".split(" ").reduce((e,t)=>(e[t]=1,e),{});exports.SVG_TAGS=n;const p="area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml".split(" ").reduce((e,t)=>(e[t]=1,e),{});exports.VOID_TAGS=p;const a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};exports.ENTITIES=a;const i="__COMMENT__";exports.COMMENT=i;const l={button:1,option:1,text:1,textarea:1};exports.NO_SPANS=l;const c=new RegExp(`[${Object.keys(a)}]`,"g");exports.ENTITY_RE=c;
},{}],"MnEL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.css=void 0;var e=require("@thi.ng/checks");const s=s=>{let t,r="";for(let o in s)t=s[o],(0,e.isFunction)(t)&&(t=t(s)),null!=t&&(r+=`${o}:${t};`);return r};exports.css=s;
},{"@thi.ng/checks":"XYpc"}],"yqXH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.derefContext=void 0;var e=require("@thi.ng/checks");const t=(t,r)=>{if(null==t||!r||!r.length)return t;const n=Object.assign({},t);for(let o of r){const t=n[o];(0,e.implementsFunction)(t,"deref")&&(n[o]=t.deref())}return n};exports.derefContext=t;
},{"@thi.ng/checks":"XYpc"}],"kHIx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.escape=void 0;var e=require("./api");const r=r=>r.replace(e.ENTITY_RE,r=>e.ENTITIES[r]);exports.escape=r;
},{"./api":"paoD"}],"7+/3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalize=exports.serialize=void 0;var e=require("@thi.ng/checks"),n=require("@thi.ng/errors"),i=require("./api"),t=require("./css"),r=require("./escape");const l=(e,n,i=!1,t=!1,r=t,l=[0])=>s(e,n,i,t,r,l);exports.serialize=l;const s=(t,l,a,u,p,g)=>{if(null==t)return"";if(Array.isArray(t)){if(!t.length)return"";let f=t[0];if((0,e.isFunction)(f))return s(f.apply(null,[l,...t.slice(1)]),l,a,u,p,g);if((0,e.implementsFunction)(f,"render"))return s(f.render.apply(null,[l,...t.slice(1)]),l,a,u,p,g);if((0,e.isString)(f)){if(f===i.COMMENT)return t.length>2?`\n\x3c!--\n${t.slice(1).map(e=>"    "+e).join("\n")}\n--\x3e\n`:`\n\x3c!-- ${t[1]} --\x3e\n`;f=(t=c(t))[0];const o=t[1];if(o.__skip||!1===o.__serialize)return"";let d=t[2],_=`<${f}`;p&&void 0===o.key&&(o.key=g.join("-"));for(let n in o)if(!n.startsWith("__")&&o.hasOwnProperty(n)){let i=o[n];if(null!=i){if((0,e.isFunction)(i)&&(/^on\w+/.test(n)||null==(i=i(o))))continue;!0===i?_+=" "+n:!1!==i&&(i=i.toString()).length&&(_+=` ${n}="${a?(0,r.escape)(i):i}"`)}}if(d){i.VOID_TAGS[f]&&(0,n.illegalArgs)(`No body allowed in tag: ${f}`);const e=i.PROC_TAGS[f];_+=e?" ":">",u=u&&!e&&!i.NO_SPANS[f];for(let n=0,i=d.length;n<i;n++)_+=s(d[n],l,a,u,p,[...g,n]);return _+=e||`</${f}>`}return i.VOID_TAGS[f]?_+=i.PROC_TAGS[f]||"/>":_+=`></${f}>`}if((0,e.isNotStringAndIterable)(t))return o(t,l,a,u,p,g);(0,n.illegalArgs)(`invalid tree node: ${t}`)}return(0,e.isFunction)(t)?s(t(l),l,a,u,p,g):(0,e.implementsFunction)(t,"toHiccup")?s(t.toHiccup(l),l,a,u,p,g):(0,e.implementsFunction)(t,"deref")?s(t.deref(),l,a,u,p,g):(0,e.isNotStringAndIterable)(t)?o(t,l,a,u,p,g):(t=a?(0,r.escape)(t.toString()):t,u?`<span${p?` key="${g.join("-")}"`:""}>${t}</span>`:t)},o=(e,n,i,t,r,l)=>{const o=[],c=l.slice(0,l.length-1);let a=0;for(let u of e)o.push(s(u,n,i,t,r,[...c,a++]));return o.join("")},c=r=>{let l,s,o,c=r[0];const a=(0,e.isPlainObject)(r[1]),u=a?Object.assign({},r[1]):{};return(0,e.isString)(c)&&(l=i.TAG_REGEXP.exec(c))||(0,n.illegalArgs)(`"${c}" is not a valid tag name`),c=l[1],s=l[2],o=l[3],s&&(u.id=s),o&&(o=o.replace(/\./g," "),u.class?u.class+=" "+o:u.class=o),r.length>1&&((0,e.isPlainObject)(u.style)&&(u.style=(0,t.css)(u.style)),(r=r.slice(a?2:1).filter(e=>null!=e)).length>0)?[c,u,r]:[c,u]};exports.normalize=c;
},{"@thi.ng/checks":"XYpc","@thi.ng/errors":"j3Rf","./api":"paoD","./css":"MnEL","./escape":"kHIx"}],"t26P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./css");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./deref");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./escape");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./serialize");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});
},{"./api":"paoD","./css":"MnEL","./deref":"yqXH","./escape":"kHIx","./serialize":"7+/3"}],"1sRT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeChild=exports.clearDOM=exports.removeListener=exports.setListener=exports.setStyle=exports.removeAttribs=exports.updateValueAttrib=exports.setAttrib=exports.setAttribs=exports.setContent=exports.cloneWithNewAttribs=exports.replaceChild=exports.getChild=exports.createTextElement=exports.createElement=exports.hydrateTree=exports.createTree=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/hiccup");const s=e.isArray,o=e.isNotStringAndIterable,r=(e,t,n,c,l)=>{if(s(c)){const s=c[0];if("function"==typeof s)return r(e,t,n,s.apply(null,[e.ctx,...c.slice(1)]),l);const o=c[1];if(o.__impl)return o.__impl.createTree(e,n,c,l);const i=t.createElement(n,s,o,l);if(c.length>2){const s=c.length;for(let o=2;o<s;o++)r(e,t,i,c[o])}return c.__init&&c.__init.apply(c.__this,[i,...c.__args]),i}if(o(c)){const s=[];for(let o of c)s.push(r(e,t,n,o));return s}return null==c?n:t.createTextElement(n,c)};exports.createTree=r;const n=(e,t,r,c,l=0)=>{if(s(c)){const s=t.getChild(r,l);"function"==typeof c[0]&&n(e,t,r,c[0].apply(null,[e.ctx,...c.slice(1)]),l);const o=c[1];if(o.__impl)return o.__impl.hydrateTree(e,r,c,l);c.__init&&c.__init.apply(c.__this,[s,...c.__args]);for(let e in o)0===e.indexOf("on")&&t.setAttrib(s,e,o[e]);for(let r=c.length,l=2;l<r;l++)n(e,t,s,c[l],l-2)}else if(o(c))for(let s of c)n(e,t,r,s,l),l++};exports.hydrateTree=n;const c=(e,s,o,r)=>{const n=t.SVG_TAGS[s]?document.createElementNS(t.SVG_NS,s):document.createElement(s);return e&&(null==r?e.appendChild(n):e.insertBefore(n,e.children[r])),o&&a(n,o),n};exports.createElement=c;const l=(e,t,s)=>{const o=document.createTextNode(t);return e&&(void 0===s?e.appendChild(o):e.insertBefore(o,e.children[s])),o};exports.createTextElement=l;const i=(e,t)=>e.children[t];exports.getChild=i;const u=(e,t,s,o,r)=>(t.removeChild(s,o),t.createTree(e,s,r,o));exports.replaceChild=u;const p=(e,t)=>{const s=e.cloneNode(!0);return a(s,t),e.parentNode.replaceChild(s,e),s};exports.cloneWithNewAttribs=p;const x=(e,t)=>e.textContent=t;exports.setContent=x;const a=(e,t)=>{for(let s in t)f(e,s,t[s],t);return e};exports.setAttribs=a;const f=(e,t,s,o)=>{if(t.startsWith("__"))return;const r=0===t.indexOf("on");if(r||"function"!=typeof s||(s=s(o)),void 0!==s&&!1!==s)switch(t){case"style":_(e,s);break;case"value":h(e,s);break;case"id":case"checked":case"scrollTop":case"scrollLeft":e[t]=s;break;default:r?m(e,t.substr(2),s):e.setAttribute(t,s)}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};exports.setAttrib=f;const h=(e,t)=>{let s;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(s=e.value)&&"string"==typeof t){const o=t.length-(s.length-e.selectionStart);e.value=t,e.selectionStart=e.selectionEnd=o;break}default:e.value=t}};exports.updateValueAttrib=h;const d=(e,t,s)=>{for(let o=t.length;--o>=0;){const r=t[o];0===r.indexOf("on")?v(e,r.substr(2),s[r]):e[r]?e[r]=null:e.removeAttribute(r)}};exports.removeAttribs=d;const _=(e,s)=>(e.setAttribute("style",(0,t.css)(s)),e);exports.setStyle=_;const m=(e,t,o)=>{s(o)?e.addEventListener(t,...o):e.addEventListener(t,o)};exports.setListener=m;const v=(e,t,o)=>{s(o)?e.removeEventListener(t,...o):e.removeEventListener(t,o)};exports.removeListener=v;const A=e=>e.innerHTML="";exports.clearDOM=A;const g=(e,t)=>{const s=e.children[t];void 0!==s&&e.removeChild(s)};exports.removeChild=g;
},{"@thi.ng/checks":"XYpc","@thi.ng/hiccup":"t26P"}],"p6KX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeTree=exports.normalizeElement=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/errors"),n=require("@thi.ng/hiccup");const i=e.isArray,r=e.isNotStringAndIterable,o=e.isPlainObject,l=(e,i)=>{let r,l,s,c,f=e[0],u=o(e[1]);return"string"==typeof f&&(r=n.TAG_REGEXP.exec(f))||(0,t.illegalArgs)(`${f} is not a valid tag name`),f!==r[1]||!u||i&&!e[1].key?(c=u?Object.assign({},e[1]):{},l=r[2],s=r[3],l&&(c.id=l),s&&(s=s.replace(/\./g," "),c.class?c.class+=" "+s:c.class=s),c.__skip&&e.length<3?[r[1],c,""]:[r[1],c,...e.slice(u?2:1)]):e};exports.normalizeElement=l;const s=(e,t)=>c(t,e,e.ctx,[0],!1!==e.keys,!1!==e.span);exports.normalizeTree=s;const c=(e,t,o,s,f,u)=>{if(null!=e){if(i(e)){if(0===e.length)return;let a,p,g=e[1];if(g&&(p=g.__impl)&&(p=p.normalizeTree))return p(t,e);const _=e[0];if("function"==typeof _)return c(_.apply(null,[o,...e.slice(1)]),t,o,s,f,u);if("function"==typeof _.render){const n=[o,...e.slice(1)];return a=c(_.render.apply(_,n),t,o,s,f,u),i(a)&&(a.__this=_,a.__init=_.init,a.__release=_.release,a.__args=n),a}if(!1===(g=(a=l(e,f))[1]).__normalize)return a;if(f&&void 0===g.key&&(g.key=s.join("-")),a.length>2){const e=a[0],l=[e,g];u=u&&!n.NO_SPANS[e];for(let n=2,p=2,g=0,_=a.length;n<_;n++){let e=a[n];if(null!=e){const n=i(e);if(n&&i(e[0])||!n&&r(e))for(let i of e)void 0!==(i=c(i,t,o,s.concat(g),f,u))&&(l[p++]=i),g++;else void 0!==(e=c(e,t,o,s.concat(g),f,u))&&(l[p++]=e),g++}}return l}return a}return"function"==typeof e?c(e(o),t,o,s,f,u):"function"==typeof e.toHiccup?c(e.toHiccup(t.ctx),t,o,s,f,u):"function"==typeof e.deref?c(e.deref(),t,o,s,f,u):u?["span",f?{key:s.join("-")}:{},e.toString()]:e.toString()}};
},{"@thi.ng/checks":"XYpc","@thi.ng/errors":"j3Rf","@thi.ng/hiccup":"t26P"}],"NgEa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_IMPL=void 0;var e=require("./diff"),t=require("./dom"),r=require("./normalize");const i={createTree(e,r,i,l){return(0,t.createTree)(e,this,r,i,l)},hydrateTree(e,r,i,l){return(0,t.hydrateTree)(e,this,r,i,l)},diffTree(t,r,i,l,d){(0,e.diffTree)(t,this,r,i,l,d)},normalizeTree:r.normalizeTree,getElementById:e=>document.getElementById(e),getChild:t.getChild,createElement:t.createElement,createTextElement:t.createTextElement,replaceChild(e,r,i,l){(0,t.replaceChild)(e,this,r,i,l)},removeChild:t.removeChild,setContent:t.setContent,removeAttribs:t.removeAttribs,setAttrib:t.setAttrib};exports.DEFAULT_IMPL=i;
},{"./diff":"p4eH","./dom":"1sRT","./normalize":"p6KX"}],"Fj0P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveRoot=void 0;var e=require("@thi.ng/checks");const t=(t,o)=>(0,e.isString)(t)?o.getElementById(t):t;exports.resolveRoot=t;
},{"@thi.ng/checks":"XYpc"}],"NSDr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderOnce=void 0;var e=require("@thi.ng/hiccup"),r=require("./default"),t=require("./utils");const o=(o,s={},c=r.DEFAULT_IMPL)=>{(s=Object.assign({root:"app"},s)).ctx=(0,e.derefContext)(s.ctx,s.autoDerefKeys);const i=(0,t.resolveRoot)(s.root,c);(o=c.normalizeTree(s,o))&&(s.hydrate?c.hydrateTree(s,i,o):c.createTree(s,i,o))};exports.renderOnce=o;
},{"@thi.ng/hiccup":"t26P","./default":"NgEa","./utils":"Fj0P"}],"mPAr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.start=void 0;var e=require("@thi.ng/hiccup"),t=require("./default"),r=require("./utils");const o=(o,s={},i=t.DEFAULT_IMPL)=>{const a=Object.assign({root:"app"},s);let n=[],u=!0;const c=(0,r.resolveRoot)(a.root,i),d=()=>{if(u){a.ctx=(0,e.derefContext)(s.ctx,a.autoDerefKeys);const t=i.normalizeTree(a,o);null!=t&&(a.hydrate?(i.hydrateTree(a,c,t),a.hydrate=!1):i.diffTree(a,c,n,t),n=t),u&&requestAnimationFrame(d)}};return requestAnimationFrame(d),()=>u=!1};exports.start=o;
},{"@thi.ng/hiccup":"t26P","./default":"NgEa","./utils":"Fj0P"}],"Ra/P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./default");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./diff");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./dom");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./normalize");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./render-once");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var f=require("./start");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var c=require("./utils");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});
},{"./api":"sx3Q","./default":"NgEa","./diff":"p4eH","./dom":"1sRT","./normalize":"p6KX","./render-once":"NSDr","./start":"mPAr","./utils":"Fj0P"}],"c8WN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EV_UNDO=exports.EV_REDO=exports.FX_STATE=exports.FX_FETCH=exports.FX_DELAY=exports.FX_DISPATCH_NOW=exports.FX_DISPATCH_ASYNC=exports.FX_DISPATCH=exports.FX_CANCEL=exports.EV_TOGGLE_VALUE=exports.EV_UPDATE_VALUE=exports.EV_SET_VALUE=void 0;const t="--set-value";exports.EV_SET_VALUE=t;const s="--update-value";exports.EV_UPDATE_VALUE=s;const e="--toggle-value";exports.EV_TOGGLE_VALUE=e;const o="--cancel";exports.FX_CANCEL=o;const _="--dispatch";exports.FX_DISPATCH=_;const E="--dispatch-async";exports.FX_DISPATCH_ASYNC=E;const p="--dispatch-now";exports.FX_DISPATCH_NOW=p;const r="--delay";exports.FX_DELAY=r;const x="--fetch";exports.FX_FETCH=x;const A="--state";exports.FX_STATE=A;const c="--redo";exports.EV_REDO=c;const T="--undo";exports.EV_UNDO=T;
},{}],"hWIS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventBus=exports.StatelessEventBus=void 0;var t=require("@thi.ng/atom"),e=require("@thi.ng/checks"),s=require("@thi.ng/errors"),r=require("@thi.ng/paths"),i=n(require("./api"));function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,s):{};r.get||r.set?Object.defineProperty(e,s,r):e[s]=t[s]}return e.default=t,e}const o=i.FX_CANCEL,h=i.FX_DISPATCH_NOW,f=i.FX_STATE;class u{constructor(t,e){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),t&&this.addHandlers(t),e&&this.addEffects(e)}addBuiltIns(){this.addEffects({[i.FX_DISPATCH]:[t=>this.dispatch(t),-999],[i.FX_DISPATCH_ASYNC]:[([t,s,r,i])=>{const n=this.effects[t];if(n){const t=n(s,this);(0,e.isPromise)(t)?t.then(t=>this.dispatch([r,t])).catch(t=>this.dispatch([i,t])):console.warn("async effect did not return Promise")}else console.warn(`skipping invalid async effect: ${t}`)},-999],[i.FX_DELAY]:[([t,e])=>new Promise(s=>setTimeout(()=>s(e),t)),1e3],[i.FX_FETCH]:[t=>fetch(t).then(t=>{if(!t.ok)throw new Error(t.statusText);return t}),1e3]})}addHandler(t,r){const i=(0,e.isArray)(r)?r.map(d):(0,e.isFunction)(r)?[{pre:r}]:[r];i.length>0?(this.handlers[t]&&(this.removeHandler(t),console.warn(`overriding handler for ID: ${t}`)),this.handlers[t]=i):(0,s.illegalArgs)(`no handlers in spec for ID: ${t}`)}addHandlers(t){for(let e in t)this.addHandler(e,t[e])}addEffect(t,e,s=1){this.effects[t]&&(this.removeEffect(t),console.warn(`overriding effect for ID: ${t}`)),this.effects[t]=e;const r=[t,s],i=this.priorities;for(let n=0;n<i.length;n++)if(r[1]<i[n][1])return void i.splice(n,0,r);i.push(r)}addEffects(t){for(let s in t){const r=t[s];(0,e.isArray)(r)?this.addEffect(s,r[0],r[1]):this.addEffect(s,r)}}instrumentWith(t,e){const s=t.map(d),r=this.handlers;for(let i of e||Object.keys(r)){const t=r[i];t&&(r[i]=s.concat(t))}}removeHandler(t){delete this.handlers[t]}removeHandlers(t){for(let e of t)this.removeHandler(e)}removeEffect(t){delete this.effects[t];const e=this.priorities;for(let s=e.length-1;s>=0;s--)if(t===e[s][0])return void e.splice(s,1)}removeEffects(t){for(let e of t)this.removeEffect(e)}context(){return this.currCtx}dispatch(...t){this.eventQueue.push(...t)}dispatchNow(...t){(this.currQueue||this.eventQueue).push(...t)}dispatchLater(t,e=17){setTimeout(()=>this.dispatch(t),e)}processQueue(t){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=t||{};for(let e of this.currQueue)this.processEvent(t,e);return this.currQueue=this.currCtx=void 0,this.processEffects(t),!0}return!1}processEvent(t,e){const s=this.handlers[e[0]];if(!s)return void console.warn(`missing handler for event type: ${e[0].toString()}`);const r=s.length-1;let i=!1;for(let n=0;n<=r&&!t[o];n++){const r=s[n];r.pre&&this.mergeEffects(t,r.pre(t[f],e,this,t)),i=i||!!r.post}if(i)for(let n=r;n>=0&&!t[o];n--){const r=s[n];r.post&&this.mergeEffects(t,r.post(t[f],e,this,t))}}processEffects(t){const e=this.effects;for(let s of this.priorities){const r=s[0],i=t[r];if(void 0!==i){const s=e[r];if(r!==f)for(let e of i)s(e,this,t);else s(i,this,t)}}}mergeEffects(t,s){if(s)for(let r in s){const i=s[r];if(null!=i)if(r===f||r===o)t[r]=i;else if(r===h)if((0,e.isArray)(i[0]))for(let t of i)t&&this.dispatchNow(t);else this.dispatchNow(i);else if(t[r]||(t[r]=[]),(0,e.isArray)(i[0]))for(let e of i)void 0!==e&&t[r].push(e);else t[r].push(i)}}}exports.StatelessEventBus=u;class c extends u{constructor(e,s,r){super(s,r),this.state=e||new t.Atom({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[i.EV_SET_VALUE]:(t,[e,[s,i]])=>({[f]:(0,r.setIn)(t,s,i)}),[i.EV_UPDATE_VALUE]:(t,[e,[s,i,...n]])=>({[f]:(0,r.updateIn)(t,s,i,...n)}),[i.EV_TOGGLE_VALUE]:(t,[e,s])=>({[f]:(0,r.updateIn)(t,s,t=>!t)}),[i.EV_UNDO]:a("undo"),[i.EV_REDO]:a("redo")}),this.addEffects({[f]:[t=>this.state.reset(t),-1e3]})}processQueue(t){if(this.eventQueue.length>0){const e=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=Object.assign({},t,{[f]:e});for(let s of this.currQueue)this.processEvent(t,s);return this.currQueue=this.currCtx=void 0,this.processEffects(t),this.state.deref()!==e}return!1}}exports.EventBus=c;const d=t=>(0,e.isFunction)(t)?{pre:t}:t,a=t=>(s,[r,i],n,o)=>{let u=i?i[0]:"history";if((0,e.implementsFunction)(o[u],t)){const e=o[u][t]();return{[f]:n.state.deref(),[h]:i?void 0!==e?i[1]:i[2]:void 0}}console.warn("no history in context")};
},{"@thi.ng/atom":"GVpA","@thi.ng/checks":"XYpc","@thi.ng/errors":"j3Rf","@thi.ng/paths":"jkaf","./api":"c8WN"}],"ZeeL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.valueUpdater=exports.valueSetter=exports.ensureParamRange=exports.ensureStateRange=exports.ensureStateGreaterThan=exports.ensureStateLessThan=exports.ensurePred=exports.snapshot=exports.dispatchNow=exports.dispatch=exports.forwardSideFx=exports.trace=void 0;var e=require("@thi.ng/paths"),t=require("./api");const r=(e,t)=>console.log("event:",t);exports.trace=r;const s=e=>(t,[r,s])=>({[e]:void 0===s||s});exports.forwardSideFx=s;const o=e=>()=>({[t.FX_DISPATCH]:e});exports.dispatch=o;const n=e=>()=>({[t.FX_DISPATCH_NOW]:e});exports.dispatchNow=n;const a=(e="history")=>(t,r,s,o)=>o[e].record();exports.snapshot=a;const p=(e,r)=>(s,o,n)=>e(s,o,n)?void 0:Object.assign({[t.FX_CANCEL]:!0},r?r(s,o,n):null);exports.ensurePred=p;const c=(t,r,s)=>p((s,o)=>(0,e.getIn)(s,r?r(o):o[1])<t,s);exports.ensureStateLessThan=c;const x=(t,r,s)=>p((s,o)=>(0,e.getIn)(s,r?r(o):o[1])>t,s);exports.ensureStateGreaterThan=x;const u=(t,r,s,o)=>p((o,n)=>{const a=(0,e.getIn)(o,s?s(n):n[1]);return a>=t&&a<=r},o);exports.ensureStateRange=u;const d=(e,t,r,s)=>p((s,o)=>{const n=r?r(o):o[1];return n>=e&&n<=t},s);exports.ensureParamRange=d;const i=(r,s)=>{const o=(0,e.setter)(r);return(e,[r,n])=>({[t.FX_STATE]:o(e,s?s(n):n)})};exports.valueSetter=i;const S=(r,s)=>{const o=(0,e.updater)(r,s);return(e,[r,...s])=>({[t.FX_STATE]:o(e,...s)})};exports.valueUpdater=S;
},{"@thi.ng/paths":"jkaf","./api":"c8WN"}],"DKT1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./event-bus");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./interceptors");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./api":"c8WN","./event-bus":"hWIS","./interceptors":"ZeeL"}],"iZ8o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EVENT_ROUTE_FAILED=exports.EVENT_ROUTE_CHANGED=void 0;const e="route-changed";exports.EVENT_ROUTE_CHANGED="route-changed";const E="route-failed";exports.EVENT_ROUTE_FAILED="route-failed";
},{}],"3YJB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasicRouter=void 0;var t=require("@thi.ng/api"),e=require("@thi.ng/checks"),i=require("@thi.ng/equiv"),r=require("@thi.ng/errors"),o=require("./api"),n=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};let s=class{constructor(t){t.authenticator=t.authenticator||((t,e,i)=>({id:t.id,title:t.title,params:i})),t.prefix=void 0===t.prefix?"/":t.prefix,t.separator=t.separator||"/",this.config=t}addListener(t,e,i){return!1}removeListener(t,e,i){return!1}notify(t){}start(){if(this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.current={id:t.id,title:t.title,params:{}},this.notify({id:o.EVENT_ROUTE_CHANGED,value:this.current})}}route(t){"#"===t.charAt(0)&&(t=t.substr(1)),t=t.substr(this.config.prefix.length);const e=this.config.routes,r=t.split(this.config.separator);let n;for(let i=0,o=e.length;i<o;i++){const t=e[i],o=this.matchRoute(r,t);if(o){n=o;break}}if(!n){if(!this.handleRouteFailure())return;const t=this.routeForID(this.config.defaultRouteID);n={id:t.id,title:t.title,params:{}}}return(0,i.equiv)(n,this.current)||(this.current=n,this.notify({id:o.EVENT_ROUTE_CHANGED,value:n})),n}format(...t){let i,[o,n,s]=t;switch(t.length){case 3:i={id:o,params:n};break;case 2:(0,e.isString)(o)?i={id:o,params:n}:(s=n,i=o);break;case 1:i=(0,e.isString)(o)?{id:o}:o;break;default:(0,r.illegalArity)(t.length)}const a=this.routeForID(i.id);if(a){const t=i.params||{};return(s?"#":"")+this.config.prefix+a.match.map(e=>"?"===e.charAt(0)?null!=(e=t[e.substr(1)])?e:"NULL":e).join(this.config.separator)}(0,r.illegalArgs)(`invalid route ID: ${i.id.toString()}`)}routeForID(t){return this.config.routes.find(e=>e.id===t)}matchRoute(t,e){const i=e.match,r=i.length;if(t.length===r){const o={};for(let e=0;e<r;e++){const r=i[e];if("?"===r.charAt(0))o[r.substr(1)]=t[e];else if(t[e]!==r)return}if(e.validate&&!this.validateRouteParams(o,e.validate))return;return e.auth?this.config.authenticator(e,t,o):{id:e.id,title:e.title,params:o}}}validateRouteParams(t,e){for(let i in e)if(void 0!==t[i]){const r=e[i];if(r.coerce&&(t[i]=r.coerce(t[i])),r.check&&!r.check(t[i]))return!1}return!0}handleRouteFailure(){return!0}};exports.BasicRouter=s,exports.BasicRouter=s=n([t.INotifyMixin],s);
},{"@thi.ng/api":"MOSf","@thi.ng/checks":"XYpc","@thi.ng/equiv":"U8cl","@thi.ng/errors":"j3Rf","./api":"iZ8o"}],"U0Ak":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HTMLRouter=void 0;var t=require("@thi.ng/checks"),e=require("@thi.ng/equiv"),i=require("@thi.ng/errors"),s=require("./basic");class h extends s.BasicRouter{constructor(t){super(t),this.useFragment=!1!==t.useFragment}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.route(this.format({id:t.id,title:t.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(t,i=!0){const s=this.current,h=super.route(t);return(0,e.equiv)(h,s)||(this.currentPath=this.format(h),i&&history.pushState(this.currentPath,h.title||window.document.title||"",this.currentPath)),h}routeTo(t){this.useFragment&&(location.hash=t),this.route(t)}format(...e){let s;switch(e.length){case 2:s={id:e[0],params:e[1]};break;case 1:s=(0,t.isString)(e[0])?{id:e[0]}:e[0];break;default:(0,i.illegalArity)(e.length)}return super.format(s,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(t=>{this.route(t.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(t=>{if(!this.ignoreHashChange){const e=t.newURL.substr(t.newURL.indexOf("#"));e!==this.currentPath&&this.route(e,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}}exports.HTMLRouter=h;
},{"@thi.ng/checks":"XYpc","@thi.ng/equiv":"U8cl","@thi.ng/errors":"j3Rf","./basic":"3YJB"}],"yNON":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./basic");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./history");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./api":"iZ8o","./basic":"3YJB","./history":"U0Ak"}],"/GK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ROUTE_TO=exports.JSON=void 0;const e="load-json";exports.JSON=e;const o="route-to";exports.ROUTE_TO=o;
},{}],"4b/7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BG_ACTIVE=exports.ROUTE_TO=void 0;const e="route-to";exports.ROUTE_TO=e;const t="bg-active";exports.BG_ACTIVE=t;
},{}],"gU22":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{set params(e){}init(e){this.gl=e}render(e,s){}}exports.Application=e;
},{}],"ZvJB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.W4=exports.Z4=exports.Y4=exports.X4=exports.ZERO4=exports.ONE4=exports.MAX4=exports.MIN4=exports.Z3=exports.Y3=exports.X3=exports.ZERO3=exports.ONE3=exports.MAX3=exports.MIN3=exports.Y2=exports.X2=exports.ZERO2=exports.ONE2=exports.MAX2=exports.MIN2=void 0;const e=-1/0,t=1/0,o=Object.freeze([e,e]);exports.MIN2=o;const r=Object.freeze([t,t]);exports.MAX2=r;const s=Object.freeze([1,1]);exports.ONE2=s;const c=Object.freeze([0,0]);exports.ZERO2=c;const p=Object.freeze([1,0]);exports.X2=p;const x=Object.freeze([0,1]);exports.Y2=x;const O=Object.freeze([e,e,e]);exports.MIN3=O;const b=Object.freeze([t,t,t]);exports.MAX3=b;const f=Object.freeze([1,1,1]);exports.ONE3=f;const j=Object.freeze([0,0,0]);exports.ZERO3=j;const n=Object.freeze([1,0,0]);exports.X3=n;const z=Object.freeze([0,1,0]);exports.Y3=z;const M=Object.freeze([0,0,1]);exports.Z3=M;const E=Object.freeze([e,e,e,e]);exports.MIN4=E;const N=Object.freeze([t,t,t,t]);exports.MAX4=N;const X=Object.freeze([1,1,1,1]);exports.ONE4=X;const Z=Object.freeze([0,0,0,0]);exports.ZERO4=Z;const A=Object.freeze([1,0,0,0]);exports.X4=A;const I=Object.freeze([0,1,0,0]);exports.Y4=I;const R=Object.freeze([0,0,1,0]);exports.Z4=R;const Y=Object.freeze([0,0,0,1]);exports.W4=Y;
},{}],"1pGx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.declareIndices=exports.declareIndex=void 0;const e=(e,t,s,r=!0,i=!0)=>{const n=r?function(){return this.buf[this.offset+s*this.stride]}:function(){return this.buf[this.offset+s]},o=r?function(e){this.buf[this.offset+s*this.stride]=e}:function(e){this.buf[this.offset+s]=e};i&&Object.defineProperty(e,s,{get:n,set:o,enumerable:!0}),Object.defineProperty(e,t,{get:n,set:o,enumerable:!0})};exports.declareIndex=e;const t=(t,s,r,i)=>s.forEach((s,n)=>e(t,s,n,r,i));exports.declareIndices=t;
},{}],"xqhi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AVec=void 0;class e{constructor(e,s=0,t=1){this.buf=e,this.offset=s,this.stride=t}}exports.AVec=e;
},{}],"N1be":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unreduced=exports.ensureReduced=exports.isReduced=exports.reduced=exports.Reduced=void 0;class e{constructor(e){this.value=e}deref(){return this.value}}exports.Reduced=e;const s=s=>new e(s);exports.reduced=s;const t=s=>s instanceof e;exports.isReduced=t;const r=s=>s instanceof e?s:new e(s);exports.ensureReduced=r;const d=s=>s instanceof e?s.deref():s;exports.unreduced=d;
},{}],"UerL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reduce=l,exports.$$reduce=exports.reducer=void 0;var e=require("@thi.ng/checks"),r=require("@thi.ng/errors"),t=require("./reduced");function l(...l){let o,s;switch(l.length){case 3:s=l[2],o=l[1];break;case 2:s=l[1];break;default:(0,r.illegalArity)(l.length)}const u=l[0],n=u[0],i=u[1],d=u[2];if(o=null==o?n():o,(0,e.implementsFunction)(s,"$reduce"))o=s.$reduce(d,o);else if((0,e.isArrayLike)(s)){for(let e=0,r=s.length;e<r;e++)if(o=d(o,s[e]),(0,t.isReduced)(o)){o=o.deref();break}}else for(let e of s)if(o=d(o,e),(0,t.isReduced)(o)){o=o.deref();break}return(0,t.unreduced)(i(o))}const o=(e,r)=>[e,e=>e,r];exports.reducer=o;const s=(r,t)=>{const o=t.length-1;return(0,e.isIterable)(t[o])?t.length>1?l(r.apply(null,t.slice(0,o)),t[o]):l(r(),t[0]):void 0};exports.$$reduce=s;
},{"@thi.ng/checks":"XYpc","@thi.ng/errors":"j3Rf","./reduced":"N1be"}],"8/nZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.push=r;var e=require("../reduce");function r(r){return r?[...r]:(0,e.reducer)(()=>[],(e,r)=>(e.push(r),e))}
},{"../reduce":"UerL"}],"fhdf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterator=u,exports.iterator1=d,exports.$iter=void 0;var e=require("@thi.ng/api"),r=require("@thi.ng/checks"),t=require("./reduced"),i=require("./rfn/push");function*u(e,r){const u=e((0,i.push)()),d=u[1],n=u[2];for(let i of r){const e=n([],i);if((0,t.isReduced)(e))return void(yield*(0,t.unreduced)(d(e.deref())));e.length&&(yield*e)}yield*(0,t.unreduced)(d([]))}function*d(r,i){const u=r([null,null,(e,r)=>r])[2];for(let d of i){let r=u(e.SEMAPHORE,d);if((0,t.isReduced)(r))return void((r=(0,t.unreduced)(r.deref()))!==e.SEMAPHORE&&(yield r));r!==e.SEMAPHORE&&(yield r)}}const n=(e,t,i=d)=>{const u=t.length-1;return(0,r.isIterable)(t[u])?t.length>1?i(e.apply(null,t.slice(0,u)),t[u]):i(e(),t[0]):void 0};exports.$iter=n;
},{"@thi.ng/api":"MOSf","@thi.ng/checks":"XYpc","./reduced":"N1be","./rfn/push":"8/nZ"}],"IqcY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compR=void 0;const e=(e,o)=>[e[0],e[1],o];exports.compR=e;
},{}],"WUst":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map=t;var r=require("../func/compr"),e=require("../iterator");function t(o,u){return u?(0,e.iterator1)(t(o),u):e=>{const t=e[2];return(0,r.compR)(e,(r,e)=>t(r,o(e)))}}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"iqGa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transduce=u;var e=require("@thi.ng/errors"),r=require("./reduce"),t=require("./xform/map");function u(...a){let s,c;switch(a.length){case 4:c=a[3],s=a[2];break;case 3:c=a[2];break;case 2:return(0,t.map)(e=>u(a[0],a[1],e));default:(0,e.illegalArity)(a.length)}return(0,r.reduce)(a[0](a[1]),s,c)}
},{"@thi.ng/errors":"j3Rf","./reduce":"UerL","./xform/map":"WUst"}],"7FI+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=n;var e=require("@thi.ng/api"),r=require("./transduce");const t=[e.NO_OP,e.NO_OP,e.NO_OP];function n(n,...i){if(1===i.length)(0,r.transduce)(n,t,i[0]);else{const t=i[0];(0,r.transduce)(n,[e.NO_OP,e.NO_OP,(e,r)=>t(r)],i[1])}}
},{"@thi.ng/api":"MOSf","./transduce":"iqGa"}],"o6XN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.step=void 0;var e=require("./reduced"),r=require("./rfn/push");const t=t=>{const[s,u,d]=t((0,r.push)());let o=!1;return r=>{if(!o){let t=d([],r);return(o=(0,e.isReduced)(t))&&(t=u(t.deref())),1===t.length?t[0]:t.length>0?t:void 0}}};exports.step=t;
},{"./reduced":"N1be","./rfn/push":"8/nZ"}],"pthq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=r;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;const c=t[0]||0;return(0,e.reducer)(()=>c,(e,r)=>e+r)}
},{"../reduce":"UerL"}],"LIJg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assocMap=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>new Map,(e,[r,t])=>e.set(r,t))}
},{"../reduce":"UerL"}],"H8df":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assocObj=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>new Object,(e,[r,t])=>(e[r]=t,e))}
},{"../reduce":"UerL"}],"cBQk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conj=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>new Set,(e,r)=>e.add(r))}
},{"../reduce":"UerL"}],"g31l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.count=r;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;let c=t[0]||0,o=t[1]||1;return(0,e.reducer)(()=>c,(e,r)=>e+o)}
},{"../reduce":"UerL"}],"J30b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.div=r;var e=require("../reduce");function r(u,t){return t?(0,e.reduce)(r(u),t):(0,e.reducer)(()=>u,(e,r)=>e/r)}
},{"../reduce":"UerL"}],"yvO9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.every=u;var e=require("../reduce"),r=require("../reduced");function u(...d){const c=(0,e.$$reduce)(u,d);if(void 0!==c)return c;const t=d[0];return(0,e.reducer)(()=>!0,t?(e,u)=>t(u)?e:(0,r.reduced)(!1):(e,u)=>u?e:(0,r.reduced)(!1))}
},{"../reduce":"UerL","../reduced":"N1be"}],"6WiA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fill=r,exports.fillN=t;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;let i=t[0]||0;return(0,e.reducer)(()=>[],(e,r)=>(e[i++]=r,e))}function t(...e){return r(...e)}
},{"../reduce":"UerL"}],"iXJj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comp=r,exports.compL=t,exports.compI=void 0;var e=require("@thi.ng/errors");function r(...t){let[s,c,n,u,o,a,l,p,i,x]=t;switch(t.length){case 0:(0,e.illegalArity)(0);case 1:return s;case 2:return(...e)=>s(c(...e));case 3:return(...e)=>s(c(n(...e)));case 4:return(...e)=>s(c(n(u(...e))));case 5:return(...e)=>s(c(n(u(o(...e)))));case 6:return(...e)=>s(c(n(u(o(a(...e))))));case 7:return(...e)=>s(c(n(u(o(a(l(...e)))))));case 8:return(...e)=>s(c(n(u(o(a(l(p(...e))))))));case 9:return(...e)=>s(c(n(u(o(a(l(p(i(...e)))))))));case 10:default:const d=(...e)=>s(c(n(u(o(a(l(p(i(x(...e))))))))));return 10===t.length?d:r(d,...t.slice(10))}}function t(...e){return r.apply(null,e.reverse())}const s=t;exports.compI=s;
},{"@thi.ng/errors":"j3Rf"}],"fJFi":[function(require,module,exports) {
"use strict";function e(e){return(...t)=>!e(...t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.complement=e;
},{}],"B4W5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.constantly=void 0;const t=t=>()=>t;exports.constantly=t;
},{}],"nPxS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Delay=exports.delay=void 0;const e=e=>new t(e);exports.delay=e;class t{constructor(e){this.body=e,this.realized=!1}deref(){return this.realized||(this.value=this.body(),this.realized=!0),this.value}isRealized(){return this.realized}}exports.Delay=t;
},{}],"ac4f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayed=void 0;const e=(e,t)=>new Promise(o=>setTimeout(()=>o(e),t));exports.delayed=e;
},{}],"TBrF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=void 0;const e=e=>e;exports.identity=e;
},{}],"GuBu":[function(require,module,exports) {
"use strict";function e(...e){const[r,t,n,u,s,c,a,l]=e;switch(e.length){case 1:return e=>[r(e)];case 2:return e=>[r(e),t(e)];case 3:return e=>[r(e),t(e),n(e)];case 4:return e=>[r(e),t(e),n(e),u(e)];case 5:return e=>[r(e),t(e),n(e),u(e),s(e)];case 6:return e=>[r(e),t(e),n(e),u(e),s(e),c(e)];case 7:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e)];case 8:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e),l(e)];default:return r=>{let t=new Array(e.length);for(let n=e.length;--n>=0;)t[n]=e[n](r);return t}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.juxt=e;
},{}],"l38o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partial=r,exports.foo=void 0;var e=require("@thi.ng/errors");function r(r,...t){let[s,a,n,o,u,c,i,l]=t;switch(t.length){case 1:return(...e)=>r(s,...e);case 2:return(...e)=>r(s,a,...e);case 3:return(...e)=>r(s,a,n,...e);case 4:return(...e)=>r(s,a,n,o,...e);case 5:return(...e)=>r(s,a,n,o,u,...e);case 6:return(...e)=>r(s,a,n,o,u,c,...e);case 7:return(...e)=>r(s,a,n,o,u,c,i,...e);case 8:return(...e)=>r(s,a,n,o,u,c,i,l,...e);default:(0,e.illegalArgs)()}}const t=r((e,r)=>e+r,"a");exports.foo=t;
},{"@thi.ng/errors":"j3Rf"}],"kmRz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.threadFirst=void 0;const e=(e,...t)=>t.reduce((e,t)=>"function"==typeof t?t(e):t[0](e,...t.slice(1)),e);exports.threadFirst=e;
},{}],"XUsq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.threadLast=void 0;const e=(e,...t)=>t.reduce((e,t)=>"function"==typeof t?t(e):t[0](...t.slice(1),e),e);exports.threadLast=e;
},{}],"dc4t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trampoline=void 0;const e=e=>{for(;"function"==typeof e;)e=e();return e};exports.trampoline=e;
},{}],"gnoC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./comp");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./complement");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./constantly");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./delay");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./delayed");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./identity");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./juxt");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./partial");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./thread-first");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./thread-last");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var l=require("./trampoline");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});
},{"./comp":"iXJj","./complement":"fJFi","./constantly":"B4W5","./delay":"nPxS","./delayed":"ac4f","./identity":"TBrF","./juxt":"GuBu","./partial":"l38o","./thread-first":"kmRz","./thread-last":"XUsq","./trampoline":"dc4t"}],"MrPH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupByMap=u;var e=require("@thi.ng/compose"),r=require("../reduce"),t=require("./push");function u(...s){const o=(0,r.$$reduce)(u,s);if(void 0!==o)return o;const n=Object.assign({key:e.identity,group:(0,t.push)()},s[0]),[i,c,p]=n.group;return(0,r.reducer)(()=>new Map,(e,r)=>{const t=n.key(r);return e.set(t,e.has(t)?p(e.get(t),r):p(i(),r))})}
},{"@thi.ng/compose":"gnoC","../reduce":"UerL","./push":"8/nZ"}],"6mFo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.frequencies=o;var e=require("@thi.ng/compose"),r=require("../reduce"),u=require("./count"),t=require("./group-by-map");function o(...i){return(0,r.$$reduce)(o,i)||(0,t.groupByMap)({key:i[0]||e.identity,group:(0,u.count)()})}
},{"@thi.ng/compose":"gnoC","../reduce":"UerL","./count":"g31l","./group-by-map":"MrPH"}],"7HXQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupByObj=t;var e=require("@thi.ng/compose"),r=require("../reduce"),u=require("./push");function t(...o){const s=(0,r.$$reduce)(t,o);if(s)return s;const n=Object.assign({key:e.identity,group:(0,u.push)()},o[0]),[c,i,p]=n.group;return(0,r.reducer)(()=>({}),(e,r)=>{const u=n.key(r);return e[u]=e[u]?p(e[u],r):p(c(),r),e})}
},{"@thi.ng/compose":"gnoC","../reduce":"UerL","./push":"8/nZ"}],"DkVy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupBinary=void 0;var r=require("./group-by-obj"),e=require("./push");const o=(r,e,o,u)=>p=>r(p)&e?u:o,u=(u,p,t,s,y="l",g="r")=>{const i=t||(()=>({}));let n=(0,r.groupByObj)({key:o(p,1,y,g),group:s||(0,e.push)()});for(let e=2,b=1<<u;e<b;e<<=1)n=(0,r.groupByObj)({key:o(p,e,y,g),group:[i,n[1],n[2]]});return[i,n[1],n[2]]};exports.groupBinary=u;
},{"./group-by-obj":"7HXQ","./push":"8/nZ"}],"N4rn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.last=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>void 0,(e,r)=>r)}
},{"../reduce":"UerL"}],"2vzO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compare=void 0;const e=(e,o)=>e===o?0:null==e?null==o?0:-1:null==o?null==e?0:1:"function"==typeof e.compare?e.compare(o):"function"==typeof o.compare?-o.compare(e):e<o?-1:e>o?1:0;exports.compare=e;
},{}],"3Fj3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxCompare=t;var e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const c=o[0],i=o[1]||e.compare;return(0,r.reducer)(c,(e,r)=>i(e,r)>=0?e:r)}
},{"@thi.ng/compare":"2vzO","../reduce":"UerL"}],"ePW0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.max=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>-1/0,(e,r)=>Math.max(e,r))}
},{"../reduce":"UerL"}],"N1B6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mean=r;var e=require("../reduce");function r(t){let u=0;return t?(0,e.reduce)(r(),t):[()=>0,e=>e/u,(e,r)=>(u++,e+r)]}
},{"../reduce":"UerL"}],"P+2v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minCompare=t;var e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const c=o[0],i=o[1]||e.compare;return(0,r.reducer)(c,(e,r)=>i(e,r)<=0?e:r)}
},{"@thi.ng/compare":"2vzO","../reduce":"UerL"}],"0wGH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.min=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>1/0,(e,r)=>Math.min(e,r))}
},{"../reduce":"UerL"}],"vCqj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mul=r;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;const c=t[0]||1;return(0,e.reducer)(()=>c,(e,r)=>e*r)}
},{"../reduce":"UerL"}],"FqE3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pushCopy=void 0;var e=require("../reduce");const r=()=>(0,e.reducer)(()=>[],(e,r)=>((e=e.slice()).push(r),e));exports.pushCopy=r;
},{"../reduce":"UerL"}],"zjLI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reductions=u;var e=require("../reduce"),r=require("../reduced");function u(t,d){const[c,n,s]=t;return d?(0,e.reduce)(u(t),d):[()=>[c()],e=>(e[e.length-1]=n(e[e.length-1]),e),(e,u)=>{const t=s(e[e.length-1],u);return(0,r.isReduced)(t)?(e.push(t.deref()),(0,r.reduced)(e)):(e.push(t),e)}]}
},{"../reduce":"UerL","../reduced":"N1be"}],"ZD/3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.some=u;var e=require("../reduce"),r=require("../reduced");function u(...d){const c=(0,e.$$reduce)(u,d);if(void 0!==c)return c;const t=d[0];return(0,e.reducer)(()=>!1,t?(e,u)=>t(u)?(0,r.reduced)(!0):e:(e,u)=>u?(0,r.reduced)(!0):e)}
},{"../reduce":"UerL","../reduced":"N1be"}],"js0B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.str=r;var e=require("../reduce");function r(r,t){r=r||"";let u=!0;return t?[...t].join(r):(0,e.reducer)(()=>"",(e,t)=>(e=u?e+t:e+r+t,u=!1,e))}
},{"../reduce":"UerL"}],"B0kE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=r;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;const c=t[0]||0;return(0,e.reducer)(()=>c,(e,r)=>e-r)}
},{"../reduce":"UerL"}],"1+eY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.benchmark=t;var e=require("../func/compr"),r=require("../iterator");function t(o){return o?(0,r.iterator1)(t(),o):r=>{const t=r[2];let o=Date.now();return(0,e.compR)(r,(e,r)=>{const n=Date.now(),u=n-o;return o=n,t(e,u)})}}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"arAw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cat=void 0;var e=require("../func/compr"),r=require("../reduced");const u=()=>u=>{const c=u[2];return(0,e.compR)(u,(e,u)=>{if(u)for(let t of(0,r.unreduced)(u))if(e=c(e,t),(0,r.isReduced)(e))break;return(0,r.isReduced)(u)?(0,r.ensureReduced)(e):e})};exports.cat=u;
},{"../func/compr":"IqcY","../reduced":"N1be"}],"OUsy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.converge=i;var e=require("@thi.ng/api"),r=require("../func/compr"),t=require("../iterator"),u=require("../reduced");function i(...c){return(0,t.$iter)(i,c)||(t=>{const i=t[2],n=c[0];let o=e.SEMAPHORE,s=!1;return(0,r.compR)(t,(r,t)=>s||o!==e.SEMAPHORE&&n(o,t)?(s=!0,(0,u.ensureReduced)(i(r,t))):(o=t,i(r,t)))})}
},{"@thi.ng/api":"MOSf","../func/compr":"IqcY","../iterator":"fhdf","../reduced":"N1be"}],"GT77":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range=t,exports.Range=void 0;var e=require("../reduced");function t(e,t,o){return new s(e,t,o)}class s{constructor(e,t,s){void 0===e?(e=0,t=1/0):void 0===t&&(t=e,e=0),s=void 0===s?e<t?1:-1:s,this.from=e,this.to=t,this.step=s}*[Symbol.iterator](){const e=this.step,t=this.to;let s=this.from;if(e>0)for(;s<t;)yield s,s+=e;else if(e<0)for(;s>t;)yield s,s+=e}$reduce(t,s){const o=this.step;if(o>0)for(let i=this.from,r=this.to;i<r&&!(0,e.isReduced)(s);i+=o)s=t(s,i);else for(let i=this.from,r=this.to;i>r&&!(0,e.isReduced)(s);i+=o)s=t(s,i);return s}}exports.Range=s;
},{"../reduced":"N1be"}],"DdIw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range2d=t;var e=require("@thi.ng/errors"),r=require("./range");function*t(...t){let a,l,n,o,s,i;switch(t.length){case 6:s=t[4],i=t[5];case 4:[a,l,n,o]=t;break;case 2:[l,o]=t,a=n=0;break;default:(0,e.illegalArity)(t.length)}const c=(0,r.range)(a,l,s);for(let e of(0,r.range)(n,o,i))for(let r of c)yield[r,e]}
},{"@thi.ng/errors":"j3Rf","./range":"GT77"}],"Mdez":[function(require,module,exports) {
"use strict";function*e(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=[];for(let o of t){let t=o.next();if(t.done)return;e.push(t.value)}yield e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=e,exports.tuples=void 0;const t=e;exports.tuples=t;
},{}],"Bnr+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.convolve1d=h,exports.convolve2d=g,exports.buildKernel2d=exports.buildKernel1d=void 0;var e=require("@thi.ng/errors"),r=require("../iter/range"),t=require("../iter/range2d"),i=require("../iter/zip"),n=require("../iterator"),d=require("../rfn/add"),o=require("../transduce"),u=require("./map");const s=(e,t)=>{const n=t>>1;return[...(0,i.zip)(e,(0,r.range)(-n,n+1))]};exports.buildKernel1d=s;const a=(e,r,n)=>{const d=r>>1,o=n>>1;return[...(0,i.zip)(e,(0,t.range2d)(-d,d+1,-o,o+1))]};exports.buildKernel2d=a;const c=(e,r,t,i,n)=>i?([i,n])=>{return i*e[r<-n?t+n:r>=t-n?n-1:r+n]}:([i,d])=>r<-d||r>=t-d?n:i*e[r+d],l=(e,r,t,i,n,d,o)=>d?([d,[o,u]])=>{return d*e[(t<-u?n+u:t>=n-u?u-1:t+u)*i+(r<-o?i+o:r>=i-o?o-1:r+o)]}:([d,[u,s]])=>r<-u||t<-s||r>=i-u||t>=n-s?o:d*e[(t+s)*i+r+u],p=()=>(0,e.illegalArgs)("no kernel or kernel config");function h(e,r){if(r)return(0,n.iterator1)(h(e),r);const{src:t,width:i}=e,a=!1!==e.wrap,l=e.border||0,g=e.reduce||d.add;let w=e.kernel;return w||((!e.weights||!e.kwidth)&&p(),w=s(e.weights,e.kwidth)),(0,u.map)(e=>(0,o.transduce)((0,u.map)(c(t,e,i,a,l)),g(),w))}function g(e,r){if(r)return(0,n.iterator1)(g(e),r);const{src:t,width:i,height:s}=e,c=!1!==e.wrap,h=e.border||0,w=e.reduce||d.add;let k=e.kernel;return k||(!(e.weights&&e.kwidth&&e.kheight)&&p(),k=a(e.weights,e.kwidth,e.kheight)),(0,u.map)(e=>(0,o.transduce)((0,u.map)(l(t,e[0],e[1],i,s,c,h)),w(),k))}
},{"@thi.ng/errors":"j3Rf","../iter/range":"GT77","../iter/range2d":"DdIw","../iter/zip":"Mdez","../iterator":"fhdf","../rfn/add":"pthq","../transduce":"iqGa","./map":"WUst"}],"ryPz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dedupe=u;var e=require("@thi.ng/api"),r=require("../func/compr"),t=require("../iterator");function u(...i){return(0,t.$iter)(u,i)||(t=>{const u=t[2],o=i[0];let n=e.SEMAPHORE;return(0,r.compR)(t,o?(r,t)=>(r=n!==e.SEMAPHORE&&o(n,t)?r:u(r,t),n=t,r):(e,r)=>(e=n===r?e:u(e,r),n=r,e))})}
},{"@thi.ng/api":"MOSf","../func/compr":"IqcY","../iterator":"fhdf"}],"ya6N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayed=void 0;var e=require("@thi.ng/compose"),r=require("./map");const d=d=>(0,r.map)(r=>(0,e.delayed)(r,d));exports.delayed=d;
},{"@thi.ng/compose":"gnoC","./map":"WUst"}],"ECm5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinct=t;var e=require("../func/compr"),r=require("../iterator");function t(...c){return(0,r.$iter)(t,c)||(r=>{const t=r[2],n=c[0]||{},o=n.key,s=(n.cache||(()=>new Set))();return(0,e.compR)(r,o?(e,r)=>{const c=o(r);return s.has(c)?e:(s.add(c),t(e,r))}:(e,r)=>s.has(r)?e:(s.add(r),t(e,r)))})}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"FY7+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=t;var r=require("../func/compr"),e=require("../iterator");function t(o,u){return u?(0,e.iterator1)(t(o),u):e=>{const t=e[2],u=o();return(0,r.compR)(e,(r,e)=>u(e)?t(r,e):r)}}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"x+VO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dropNth=r;var t=require("./throttle"),e=require("../iterator");function r(o,u){return u?(0,e.iterator1)(r(o),u):(o=Math.max(0,o-1),(0,t.throttle)(()=>{let t=o;return()=>t-- >0||(t=o,!1)}))}
},{"./throttle":"FY7+","../iterator":"fhdf"}],"5yG5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dropWhile=t;var e=require("../func/compr"),r=require("../iterator");function t(...o){return(0,r.$iter)(t,o)||(r=>{const t=r[2],u=o[0];let i=!0;return(0,e.compR)(r,(e,r)=>(i=i&&u(r))?e:t(e,r))})}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"4Xj6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drop=t;var r=require("../func/compr"),e=require("../iterator");function t(o,u){return u?(0,e.iterator1)(t(o),u):e=>{const t=e[2];let u=o;return(0,r.compR)(e,(r,e)=>u>0?(u--,r):t(r,e))}}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"5xKD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicate=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(o=1,c){return c?(0,r.iterator)(u(o),c):r=>{const u=r[2];return(0,e.compR)(r,(e,r)=>{for(let c=o;c>=0&&!(0,t.isReduced)(e);c--)e=u(e,r);return e})}}
},{"../func/compr":"IqcY","../iterator":"fhdf","../reduced":"N1be"}],"AmR+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filter=t;var r=require("../iterator"),e=require("../func/compr");function t(o,u){return u?(0,r.iterator1)(t(o),u):r=>{const t=r[2];return(0,e.compR)(r,(r,e)=>o(e)?t(r,e):r)}}
},{"../iterator":"fhdf","../func/compr":"IqcY"}],"5MnS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.binarySearch=void 0;var e=require("@thi.ng/compare");const r=(r,t,n=(e=>e),o=e.compare)=>{const s=n(t);let c=0,a=r.length-1;for(;c<=a;){const e=c+a>>>1,t=o(n(r[e]),s);if(t<0)c=e+1;else{if(!(t>0))return e;a=e-1}}return-c-1};exports.binarySearch=r;
},{"@thi.ng/compare":"2vzO"}],"jjq4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.endsWith=void 0;var e=require("@thi.ng/equiv");const t=(t,r,i=e.equiv)=>{let n=t.length,s=r.length;if(n<s)return!1;for(;--n,--s>=0&&i(t[n],r[s]););return s<0};exports.endsWith=t;
},{"@thi.ng/equiv":"U8cl"}],"NbJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureIterable=void 0;var e=require("@thi.ng/errors");const r=r=>(null!=r&&r[Symbol.iterator]||(0,e.illegalArgs)(`value is not iterable: ${r}`),r);exports.ensureIterable=r;
},{"@thi.ng/errors":"j3Rf"}],"+2YC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureArrayLike=exports.ensureArray=void 0;var e=require("@thi.ng/checks"),r=require("./ensure-iterable");const s=s=>(0,e.isArray)(s)?s:[...(0,r.ensureIterable)(s)];exports.ensureArray=s;const t=s=>(0,e.isArrayLike)(s)?s:[...(0,r.ensureIterable)(s)];exports.ensureArrayLike=t;
},{"@thi.ng/checks":"XYpc","./ensure-iterable":"NbJv"}],"AVZK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findIndex=exports.find=void 0;var e=require("@thi.ng/equiv");const r=(r,n,i=e.equiv)=>{const o=t(r,n,i);return-1!==o?r[o]:void 0};exports.find=r;const t=(r,t,n=e.equiv)=>{for(let e=r.length;--e>=0;)if(n(t,r[e]))return e;return-1};exports.findIndex=t;
},{"@thi.ng/equiv":"U8cl"}],"KC6E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fuzzyMatch=void 0;var e=require("@thi.ng/equiv");const t=(t,r,n=e.equiv)=>{const u=t.length,o=r.length;if(o>u)return!1;if(o===u)return n(r,t);e:for(let e=0,i=0;e<o;e++){const o=r[e];for(;i<u;)if(n(t[i++],o))continue e;return!1}return!0};exports.fuzzyMatch=t;
},{"@thi.ng/equiv":"U8cl"}],"eOoC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.peek=void 0;const e=e=>e[e.length-1];exports.peek=e;
},{}],"OLbd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ARandom=void 0;const t=1/4294967295;class e{float(e=1){return this.int()*t*e}norm(e=1){return this.int()*t*e*2-e}minmax(t,e){return this.float()*(e-t)+t}gaussian(t=10,e=-.5,r=1){let s=0,o=t;for(;o-- >0;)s+=this.float(r);return s/t+e}}exports.ARandom=e;
},{}],"KRtU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Smush32=void 0;var e=require("./api");const r=3737844653;class t extends e.ARandom{constructor(e=r){super(),this.buffer=new Uint32Array([e,0])}copy(){const e=new t;return e.buffer.set(this.buffer),e}seed(e){return this.buffer.set([e,0]),this}int(){const e=this.buffer,r=1540483477,t=e[1]++*r>>>0,s=e[0]=(t^t>>24^e[0]*r>>>0)*r>>>0;return(s^s>>>13)>>>0}}exports.Smush32=t;
},{"./api":"OLbd"}],"E4xu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SYSTEM=exports.SystemRandom=void 0;var e=require("./api");const t=Math.random;class r extends e.ARandom{int(){return 4294967295*t()>>>0}float(e=1){return t()*e}}exports.SystemRandom=r;const o=new r;exports.SYSTEM=o;
},{"./api":"OLbd"}],"CxPr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XorShift128=void 0;var e=require("./api");const r=[3737844653,799659867,3827263459,1552149530];class t extends e.ARandom{constructor(e=r){super(),this.buffer=new Uint32Array(4),this.seed(e)}copy(){return new t(this.buffer)}bytes(){return new Uint8Array(this.buffer.buffer)}seed(e){return this.buffer.set(e),this}int(){const e=this.buffer;let r,t=e[3];return t^=t<<11,t^=t>>>8,e[3]=e[2],e[2]=e[1],r=e[1]=e[0],e[0]=(t^r^r>>>19)>>>0}}exports.XorShift128=t;
},{"./api":"OLbd"}],"7IyZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XorWow=void 0;var e=require("./api");const r=[3737844653,799659867,3827263459,1552149530,4137311345];class t extends e.ARandom{constructor(e=r){super(),this.buffer=new Uint32Array(5),this.seed(e)}copy(){return new t(this.buffer)}seed(e){return this.buffer.set(e),this}bytes(){return new Uint8Array(this.buffer.buffer)}int(){const e=this.buffer;let r,t=e[3];return t^=t>>>2,t^=t<<1,e[3]=e[2],e[2]=e[1],t^=r=e[1]=e[0],t^=r<<4,e[0]=t,t+(e[4]+=362437)>>>0}}exports.XorWow=t;
},{"./api":"OLbd"}],"10d2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XsAdd=void 0;var e=require("./api");const t=3737844653;class r extends e.ARandom{constructor(e=t){super(),this.buffer=new Uint32Array(4),this.seed(e)}bytes(){return new Uint8Array(this.buffer.buffer)}copy(){const e=new r;return e.buffer.set(this.buffer),e}seed(e){const t=this.buffer;t.set([e,0,0,0]);for(let r=0,s=1;s<8;r=s++){let e=(t[3&r]^t[3&r]>>>30)>>>0;e=35173*e+((27655*e&65535)<<16)>>>0,t[3&s]^=s+e>>>0}return this}int(){const e=this.buffer;let t=e[0];return t^=t<<15,t^=t>>>18,t^=e[3]<<11,e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=t,t+e[2]>>>0}}exports.XsAdd=r;
},{"./api":"OLbd"}],"lzH4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomID=void 0;var e=require("./system");const r=(r=4,t="",o="abcdefghijklmnopqrstuvwxyz",s=e.SYSTEM)=>{for(const e=o.length;--r>=0;)t+=o[0|s.float(e)];return t};exports.randomID=r;
},{"./system":"E4xu"}],"Zw70":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.weightedRandom=void 0;var e=require("./system");const t=(t,r,o=e.SYSTEM)=>{const s=t.map(r?(e,t)=>[e,r[t]]:e=>[e,1]).sort((e,t)=>t[1]-e[1]),n=t.length;let d,i,a,u=0;for(d=0;d<n;d++)u+=s[d][1];return()=>{for(i=o.float(u),a=u,d=0;d<n;d++)if((a-=s[d][1])<=i)return s[d][0]}};exports.weightedRandom=t;
},{"./system":"E4xu"}],"C0Vh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./smush32");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./system");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./xorshift128");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./xorwow");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./xsadd");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./random-id");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./weighted-random");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});
},{"./api":"OLbd","./smush32":"KRtU","./system":"E4xu","./xorshift128":"CxPr","./xorwow":"7IyZ","./xsadd":"10d2","./random-id":"lzH4","./weighted-random":"Zw70"}],"oQP0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffle=void 0;var e=require("@thi.ng/random");const t=(t,o=t.length,r=e.SYSTEM)=>{const n=o=Math.min(o,t.length);if(n>1)for(o=Math.min(o,n);--o>=0;){const e=0|r.float(n),o=0|r.float(n),s=t[e];t[e]=t[o],t[o]=s}return t};exports.shuffle=t;
},{"@thi.ng/random":"C0Vh"}],"A+0J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startsWith=void 0;var e=require("@thi.ng/equiv");const t=(t,r,s=e.equiv)=>{let i=t.length,o=r.length;if(i<o)return!1;for(;-o>=0&&s(t[o],r[o]););return o<0};exports.startsWith=t;
},{"@thi.ng/equiv":"U8cl"}],"WYrG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swizzle=void 0;const e=e=>{const[r,t,s,n,c,u,a,o]=e;switch(e.length){case 0:return()=>[];case 1:return e=>[e[r]];case 2:return e=>[e[r],e[t]];case 3:return e=>[e[r],e[t],e[s]];case 4:return e=>[e[r],e[t],e[s],e[n]];case 5:return e=>[e[r],e[t],e[s],e[n],e[c]];case 6:return e=>[e[r],e[t],e[s],e[n],e[c],e[u]];case 7:return e=>[e[r],e[t],e[s],e[n],e[c],e[u],e[a]];case 8:return e=>[e[r],e[t],e[s],e[n],e[c],e[u],e[a],e[o]];default:return r=>{const t=[];for(let s=e.length;--s>=0;)t[s]=r[e[s]];return t}}};exports.swizzle=e;
},{}],"89iK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./binary-search");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./ends-with");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./ensure-array");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./ensure-iterable");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./find");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./fuzzy-match");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var f=require("./peek");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var c=require("./shuffle");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var a=require("./starts-with");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./swizzle");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});
},{"./binary-search":"5MnS","./ends-with":"jjq4","./ensure-array":"+2YC","./ensure-iterable":"NbJv","./find":"AVZK","./fuzzy-match":"KC6E","./peek":"eOoC","./shuffle":"oQP0","./starts-with":"A+0J","./swizzle":"WYrG"}],"4UIq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterFuzzy=i;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("./filter");function i(...u){const n=u.length>1&&(0,r.$iter)(i,u);if(n)return n;const l=u[0],{key:o,equiv:s}=u[1]||{};return(0,t.filter)(r=>(0,e.fuzzyMatch)(null!=o?o(r):r,l,s))}
},{"@thi.ng/arrays":"89iK","../iterator":"fhdf","./filter":"AmR+"}],"GrLQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flattenWith=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(o,i){return i?(0,r.iterator)(u(o),i):r=>{const u=r[2],i=(e,r)=>{const n=o(r);if(n){for(let r of n)if(e=i(e,r),(0,t.isReduced)(e))break;return e}return u(e,r)};return(0,e.compR)(r,i)}}
},{"../func/compr":"IqcY","../iterator":"fhdf","../reduced":"N1be"}],"FhYa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flatten=e;var t=require("./flatten-with");function e(e){return(0,t.flattenWith)(t=>null!=t&&t[Symbol.iterator]&&"string"!=typeof t?t:void 0,e)}
},{"./flatten-with":"GrLQ"}],"n5y9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapIndexed=t;var e=require("../func/compr"),r=require("../iterator");function t(...o){return(0,r.$iter)(t,o)||(r=>{const t=r[2],u=o[0];let n=o[1]||0;return(0,e.compR)(r,(e,r)=>t(e,u(n++,r)))})}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"v3WG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexed=t;var e=require("../iterator"),r=require("./map-indexed");function t(...i){const n=(0,e.$iter)(t,i);if(n)return n;const d=i[0]||0;return(0,r.mapIndexed)((e,r)=>[d+e,r])}
},{"../iterator":"fhdf","./map-indexed":"n5y9"}],"AqTY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interleave=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(o,i){return i?(0,r.iterator)(u(o),i):r=>{const u=r[2],i="function"==typeof o?o:()=>o;return(0,e.compR)(r,(e,r)=>(e=u(e,i()),(0,t.isReduced)(e)?e:u(e,r)))}}
},{"../func/compr":"IqcY","../iterator":"fhdf","../reduced":"N1be"}],"C4Kx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpose=o;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function o(u,i){return i?(0,r.iterator)(o(u),i):r=>{const o=r[2],i="function"==typeof u?u:()=>u;let c=!0;return(0,e.compR)(r,(e,r)=>c?(c=!1,o(e,r)):(e=o(e,i()),(0,t.isReduced)(e)?e:o(e,r)))}}
},{"../func/compr":"IqcY","../iterator":"fhdf","../reduced":"N1be"}],"cSVz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keep=i;var e=require("@thi.ng/compose"),r=require("../func/compr"),t=require("../iterator");function i(...o){return(0,t.$iter)(i,o)||(t=>{const i=t[2],u=o[0]||e.identity;return(0,r.compR)(t,(e,r)=>null!=u(r)?i(e,r):e)})}
},{"@thi.ng/compose":"gnoC","../func/compr":"IqcY","../iterator":"fhdf"}],"GHxA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.labeled=i;var e=require("@thi.ng/checks"),r=require("../iterator"),t=require("./map");function i(u,o){return o?(0,r.iterator1)(i(u),o):(0,t.map)((0,e.isFunction)(u)?e=>[u(e),e]:e=>[u,e])}
},{"@thi.ng/checks":"XYpc","../iterator":"fhdf","./map":"WUst"}],"Khd6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deepTransform=void 0;var e=require("@thi.ng/checks");const r=t=>{if((0,e.isFunction)(t))return t;const s=Object.keys(t[1]||{}).reduce((e,s)=>(e[s]=r(t[1][s]),e),{});return e=>{const r=Object.assign({},e);for(let t in s)r[t]=s[t](r[t]);return t[0](r)}};exports.deepTransform=r;
},{"@thi.ng/checks":"XYpc"}],"9OxB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapDeep=a;var e=require("../func/deep-transform"),r=require("../iterator"),t=require("./map");function a(o,p){return p?(0,r.iterator1)(a(o),p):(0,t.map)((0,e.deepTransform)(o))}
},{"../func/deep-transform":"Khd6","../iterator":"fhdf","./map":"WUst"}],"Zidv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapKeys=t;var e=require("../iterator"),r=require("./map");function t(...n){const s=(0,e.$iter)(t,n);if(s)return s;const i=n[0],o=!1!==n[1];return(0,r.map)(e=>{const r=o?Object.assign({},e):e;for(let t in i)r[t]=i[t](e[t]);return r})}
},{"../iterator":"fhdf","./map":"WUst"}],"OvXR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapNth=t;var e=require("../func/compr"),r=require("../iterator");function t(...u){const o=(0,r.$iter)(t,u);if(o)return o;let n,f,l=u[0]-1;return"number"==typeof u[1]?(n=u[1],f=u[2]):(f=u[1],n=0),r=>{const t=r[2];let u=0,o=n;return(0,e.compR)(r,(e,r)=>{if(0===o){if(0===u)return u=l,t(e,f(r));u--}else o--;return t(e,r)})}}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"C0YV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapVals=t;var e=require("../iterator"),r=require("./map");function t(...n){const o=(0,e.$iter)(t,n);if(o)return o;const i=n[0],s=!1!==n[1];return(0,r.map)(e=>{const r=s?{}:e;for(let t in e)r[t]=i(e[t]);return r})}
},{"../iterator":"fhdf","./map":"WUst"}],"9vBN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comp=r;var e=require("@thi.ng/compose");function r(...r){return e.comp.apply(null,r)}
},{"@thi.ng/compose":"gnoC"}],"pk6b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapcat=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./cat"),a=require("./map");function u(c,i){return i?(0,r.iterator)(u(c),i):(0,e.comp)((0,a.map)(c),(0,t.cat)())}
},{"../func/comp":"9vBN","../iterator":"fhdf","./cat":"arAw","./map":"WUst"}],"o8VT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.take=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(c,o){return o?(0,r.iterator)(u(c),o):r=>{const u=r[2];let o=c;return(0,e.compR)(r,(e,r)=>--o>0?u(e,r):0===o?(0,t.ensureReduced)(u(e,r)):(0,t.reduced)(e))}}
},{"../func/compr":"IqcY","../iterator":"fhdf","../reduced":"N1be"}],"CbTT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchFirst=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./filter"),i=require("./take");function u(o,a){return a?[...(0,r.iterator1)(u(o),a)][0]:(0,e.comp)((0,t.filter)(o),(0,i.take)(1))}
},{"../func/comp":"9vBN","../iterator":"fhdf","./filter":"AmR+","./take":"o8VT"}],"OmPI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeLast=t;var e=require("../iterator"),r=require("../reduced");function t(u,s){return s?(0,e.iterator)(t(u),s):([e,t,s])=>{const i=[];return[e,e=>{for(;i.length&&!(0,r.isReduced)(e);)e=s(e,i.shift());return t(e)},(e,r)=>(i.length===u&&i.shift(),i.push(r),e)]}}
},{"../iterator":"fhdf","../reduced":"N1be"}],"o7kz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchLast=a;var e=require("../func/comp"),r=require("../iterator"),t=require("./filter"),i=require("./take-last");function a(u,o){return o?[...(0,r.iterator)(a(u),o)][0]:(0,e.comp)((0,t.filter)(u),(0,i.takeLast)(1))}
},{"../func/comp":"9vBN","../iterator":"fhdf","./filter":"AmR+","./take-last":"OmPI"}],"oc+t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.movingAverage=o;var r=require("@thi.ng/errors"),e=require("../func/compr"),t=require("../iterator");function o(i,u){return u?(0,t.iterator1)(o(i),u):t=>{(i|=0)<2&&(0,r.illegalArgs)("period must be >= 2");const o=t[2],u=[];let s=0;return(0,e.compR)(t,(r,e)=>{const t=u.push(e);return s+=e,t>i&&(s-=u.shift()),t>=i?o(r,s/i):r})}}
},{"@thi.ng/errors":"j3Rf","../func/compr":"IqcY","../iterator":"fhdf"}],"IixE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=t;var e=require("../iterator");function t(...r){const n=(0,e.$iter)(t,r,e.iterator);if(n)return n;let i,o,u=r[0];return"number"==typeof r[1]?(o=r[1],i=r[2]):(o=u,i=r[1]),([e,t,r])=>{let n=[],l=0;return[e,e=>(i&&n.length>0&&(e=r(e,n),n=[]),t(e)),(e,t)=>(l<=0?(n.length<u&&n.push(t),n.length===u&&(e=r(e,n),n=o<u?n.slice(o):[],l=o-u)):l--,e)]}}
},{"../iterator":"fhdf"}],"p2Dn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.movingMedian=c;var e=require("@thi.ng/compare"),r=require("@thi.ng/compose"),i=require("../func/comp"),t=require("../iterator"),o=require("./map"),n=require("./partition");function c(...p){const a=(0,t.$iter)(c,p);if(a)return a;const{key:u,compare:s}=Object.assign({key:r.identity,compare:e.compare},p[1]),m=p[0],q=m>>1;return(0,i.comp)((0,n.partition)(m,1,!0),(0,o.map)(e=>e.slice().sort((e,r)=>s(u(e),u(r)))[q]))}
},{"@thi.ng/compare":"2vzO","@thi.ng/compose":"gnoC","../func/comp":"9vBN","../iterator":"fhdf","./map":"WUst","./partition":"IixE"}],"GmFf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiplex=p;var e=require("@thi.ng/compose"),r=require("../step"),t=require("./map");function p(...p){return(0,t.map)(e.juxt.apply(null,p.map(r.step)))}
},{"@thi.ng/compose":"gnoC","../step":"o6XN","./map":"WUst"}],"i+iR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renamer=void 0;const e=e=>{const t=Object.keys(e),[r,o,n]=t,[s,c,u]=t.map(t=>e[t]);switch(t.length){case 3:return e=>{const t={};let d;return void 0!==(d=e[u])&&(t[n]=d),void 0!==(d=e[c])&&(t[o]=d),void 0!==(d=e[s])&&(t[r]=d),t};case 2:return e=>{const t={};let n;return void 0!==(n=e[c])&&(t[o]=n),void 0!==(n=e[s])&&(t[r]=n),t};case 1:return e=>{const t={};let o=e[s];return void 0!==o&&(t[r]=o),t};default:return r=>{let o,n;const s={};for(let c=t.length-1;c>=0;c--)o=t[c],void 0!==(n=r[e[o]])&&(s[o]=n);return s}}};exports.renamer=e;
},{}],"HBXk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rename=a;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../func/renamer"),i=require("../iterator"),u=require("../transduce"),n=require("./filter"),c=require("./map");function a(...s){const o=s.length>2&&(0,i.$iter)(a,s);if(o)return o;let m=s[0];if((0,e.isArray)(m)&&(m=m.reduce((e,r,t)=>(e[r]=t,e),{})),s[1]){const e=Object.keys(m);return(0,c.map)(t=>(0,u.transduce)((0,r.comp)((0,c.map)(e=>[e,t[m[e]]]),(0,n.filter)(e=>void 0!==e[1])),s[1],e))}return(0,c.map)((0,t.renamer)(m))}
},{"@thi.ng/checks":"XYpc","../func/comp":"9vBN","../func/renamer":"i+iR","../iterator":"fhdf","../transduce":"iqGa","./filter":"AmR+","./map":"WUst"}],"sFj2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiplexObj=i;var e=require("../func/comp"),r=require("../iterator"),t=require("./multiplex"),u=require("./rename");function i(...l){const n=(0,r.$iter)(i,l);if(n)return n;const[p,o]=l,c=Object.keys(p);return(0,e.comp)(t.multiplex.apply(null,c.map(e=>p[e])),(0,u.rename)(c,o))}
},{"../func/comp":"9vBN","../iterator":"fhdf","./multiplex":"GmFf","./rename":"HBXk"}],"2JLi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=void 0;const e=()=>e=>e;exports.noop=e;
},{}],"v+6p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.padLast=t;var e=require("../iterator"),r=require("../reduced");function t(u,i,o){return o?(0,e.iterator)(t(u,i),o):([e,t,o])=>{let d=0;return[e,e=>{let s=d%u;if(s>0)for(;++s<=u&&!(0,r.isReduced)(e);)e=o(e,i);return t(e)},(e,r)=>(d++,o(e,r))]}}
},{"../iterator":"fhdf","../reduced":"N1be"}],"gT1U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.page=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./drop"),o=require("./take");function u(...i){return(0,r.$iter)(u,i)||(0,e.comp)((0,t.drop)(i[0]*(i[1]||10)),(0,o.take)(i[1]||10))}
},{"../func/comp":"9vBN","../iterator":"fhdf","./drop":"4Xj6","./take":"o8VT"}],"NsL8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionBy=u;var e=require("@thi.ng/api"),r=require("../iterator"),t=require("../reduced");function u(...i){return(0,r.$iter)(u,i,r.iterator)||(([r,u,n])=>{const o=i[0],s=!0===i[1]?o():o;let l,c=e.SEMAPHORE;return[r,e=>(l&&l.length&&(e=n(e,l),l=null),u(e)),(r,u)=>{const i=s(u);return c===e.SEMAPHORE?(c=i,l=[u]):i===c?l.push(u):(l&&(r=n(r,l)),l=(0,t.isReduced)(r)?null:[u],c=i),r}]})}
},{"@thi.ng/api":"MOSf","../iterator":"fhdf","../reduced":"N1be"}],"+6L6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionOf=e;var r=require("../iterator"),t=require("./partition-by");function e(i,o){return o?(0,r.iterator)(e(i),o):(0,t.partitionBy)(()=>{let r=0,t=0;return()=>(r++===i[t]&&(r=1,t=(t+1)%i.length),t)},!0)}
},{"../iterator":"fhdf","./partition-by":"NsL8"}],"ENs0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionSort=a;var e=require("@thi.ng/compare"),r=require("@thi.ng/compose"),t=require("../func/comp"),i=require("../iterator"),o=require("./mapcat"),c=require("./partition");function a(...n){const p=(0,i.$iter)(a,n,i.iterator);if(p)return p;const{key:u,compare:s}=Object.assign({key:r.identity,compare:e.compare},n[1]);return(0,t.comp)((0,c.partition)(n[0],!0),(0,o.mapcat)(e=>e.slice().sort((e,r)=>s(u(e),u(r)))))}
},{"@thi.ng/compare":"2vzO","@thi.ng/compose":"gnoC","../func/comp":"9vBN","../iterator":"fhdf","./mapcat":"pk6b","./partition":"IixE"}],"5mSE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionSync=i;var e=require("@thi.ng/checks"),r=require("@thi.ng/compose"),t=require("../iterator");function i(...s){return(0,t.$iter)(i,s,t.iterator)||(([t,i,n])=>{let a={},c=!0;const o=new Set,{key:l,mergeOnly:u,reset:y,all:d}=Object.assign({key:r.identity,mergeOnly:!1,reset:!0,all:!0},s[1]),g=(0,e.isArray)(s[0])?new Set(s[0]):s[0];return[t,e=>((y&&d&&o.size>0||!y&&c)&&(e=n(e,a),a=void 0,o.clear(),c=!1),i(e)),(e,r)=>{const t=l(r);return g.has(t)&&(a[t]=r,o.add(t),(u||o.size>=g.size)&&(e=n(e,a),c=!1,y?(a={},o.clear()):a=Object.assign({},a))),e}]})}
},{"@thi.ng/checks":"XYpc","@thi.ng/compose":"gnoC","../iterator":"fhdf"}],"klYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluck=t;var e=require("../iterator"),r=require("./map");function t(u,i){return i?(0,e.iterator1)(t(u),i):(0,r.map)(e=>e[u])}
},{"../iterator":"fhdf","./map":"WUst"}],"YDOC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sample=o;var r=require("@thi.ng/random"),e=require("../func/compr"),t=require("../iterator");function o(...n){const u=(0,t.$iter)(o,n);if(u)return u;const i=n[0],c=n[1]||r.SYSTEM;return r=>{const t=r[2];return(0,e.compR)(r,(r,e)=>c.float()<i?t(r,e):r)}}
},{"@thi.ng/random":"C0Vh","../func/compr":"IqcY","../iterator":"fhdf"}],"aO4q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scan=t;var e=require("../iterator"),r=require("../reduced");function t(...u){return u.length>2&&(0,e.$iter)(t,u,e.iterator)||(([e,t,n])=>{const[d,c,i]=u[0];let s=u.length>1&&null!=u[1]?u[1]:d();return[e,e=>{let u=c(s);return u!==s&&(e=(0,r.unreduced)(n(e,u))),s=u,t(e)},(e,t)=>(s=i(s,t),(0,r.isReduced)(s)?(0,r.ensureReduced)(n(e,s.deref())):n(e,s))]})}
},{"../iterator":"fhdf","../reduced":"N1be"}],"xiIq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keySelector=void 0;var e=require("./renamer");const r=r=>(0,e.renamer)(r.reduce((e,r)=>(e[r]=r,e),{}));exports.keySelector=r;
},{"./renamer":"i+iR"}],"a0/s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectKeys=o;var e=require("../func/key-selector"),r=require("../iterator"),t=require("./map");function o(u,i){return i?(0,r.iterator1)(o(u),i):(0,t.map)((0,e.keySelector)(u))}
},{"../func/key-selector":"xiIq","../iterator":"fhdf","./map":"WUst"}],"PW9O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sideEffect=void 0;var e=require("./map");const t=t=>(0,e.map)(e=>(t(e),e));exports.sideEffect=t;
},{"./map":"WUst"}],"iM70":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slidingWindow=t;var e=require("../func/compr"),r=require("../iterator");function t(...n){const i=(0,r.$iter)(t,n);if(i)return i;const o=n[0],s=!1!==n[1];return r=>{const t=r[2];let n=[];return(0,e.compR)(r,(e,r)=>(n.push(r),(s||n.length===o)&&(e=t(e,n),n=n.slice(n.length===o?1:0)),e))}}
},{"../func/compr":"IqcY","../iterator":"fhdf"}],"LJ5+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.streamShuffle=u;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("../reduced");function u(...s){return(0,r.$iter)(u,s,r.iterator)||(([r,u,i])=>{const f=s[0],n=s[1]||f,h=[];return[r,r=>{for(;h.length&&!(0,t.isReduced)(r);)(0,e.shuffle)(h,n),r=i(r,h.shift());return r=u(r)},(r,t)=>(h.push(t),(0,e.shuffle)(h,n),h.length===f&&(r=i(r,h.shift())),r)]})}
},{"@thi.ng/arrays":"89iK","../iterator":"fhdf","../reduced":"N1be"}],"Ik0n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.streamSort=o;var e=require("@thi.ng/arrays"),r=require("@thi.ng/compare"),t=require("@thi.ng/compose"),i=require("../iterator"),n=require("../reduced");function o(...s){const c=(0,i.$iter)(o,s,i.iterator);if(c)return c;const{key:u,compare:a}=Object.assign({key:t.identity,compare:r.compare},s[1]),p=s[0];return([r,t,i])=>{const o=[];return[r,e=>{for(;o.length&&!(0,n.isReduced)(e);)e=i(e,o.shift());return t(e)},(r,t)=>{const n=(0,e.binarySearch)(o,t,u,a);return o.splice(n<0?-(n+1):n,0,t),o.length===p&&(r=i(r,o.shift())),r}]}}
},{"@thi.ng/arrays":"89iK","@thi.ng/compare":"2vzO","@thi.ng/compose":"gnoC","../iterator":"fhdf","../reduced":"N1be"}],"IfpI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.struct=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./map-keys"),i=require("./partition"),a=require("./partition-of"),o=require("./rename");function u(p,n){return n?(0,r.iterator)(u(p),n):(0,e.comp)((0,a.partitionOf)(p.map(e=>e[1])),(0,i.partition)(p.length),(0,o.rename)(p.map(e=>e[0])),(0,t.mapKeys)(p.reduce((e,r)=>r[2]?(e[r[0]]=r[2],e):e,{}),!1))}
},{"../func/comp":"9vBN","../iterator":"fhdf","./map-keys":"Zidv","./partition":"IixE","./partition-of":"+6L6","./rename":"HBXk"}],"sSrO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swizzle=i;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("./map");function i(a,s){return s?(0,r.iterator1)(i(a),s):(0,t.map)((0,e.swizzle)(a))}
},{"@thi.ng/arrays":"89iK","../iterator":"fhdf","./map":"WUst"}],"2aUg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeNth=r;var t=require("../iterator"),e=require("./throttle");function r(o,u){return u?(0,t.iterator1)(r(o),u):(o=Math.max(0,o-1),(0,e.throttle)(()=>{let t=0;return()=>0===t?(t=o,!0):(t--,!1)}))}
},{"../iterator":"fhdf","./throttle":"FY7+"}],"2eKG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeWhile=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(...c){return(0,r.$iter)(u,c)||(r=>{const u=r[2],i=c[0];let o=!0;return(0,e.compR)(r,(e,r)=>(o=o&&i(r))?u(e,r):(0,t.reduced)(e))})}
},{"../func/compr":"IqcY","../iterator":"fhdf","../reduced":"N1be"}],"DYsp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttleTime=r;var t=require("../iterator"),e=require("./throttle");function r(o,u){return u?(0,t.iterator1)(r(o),u):(0,e.throttle)(()=>{let t=0;return()=>{const e=Date.now();return e-t>=o&&(t=e,!0)}})}
},{"../iterator":"fhdf","./throttle":"FY7+"}],"VbxX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trace=void 0;var e=require("./side-effect");const t=(t="")=>(0,e.sideEffect)(e=>console.log(t,e));exports.trace=t;
},{"./side-effect":"PW9O"}],"9+fo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wordWrap=t;var e=require("../iterator"),r=require("./partition-by");function t(...i){const n=(0,e.$iter)(t,i,e.iterator);if(n)return n;const a=i[0],{delim:o,always:s}=Object.assign({delim:1,always:!0},i[1]);return(0,r.partitionBy)(()=>{let e=0,r=!1;return t=>((e+=t.length+o)>a+(s?0:o)&&(r=!r,e=t.length+o),r)},!0)}
},{"../iterator":"fhdf","./partition-by":"NsL8"}],"mY0c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.juxtR=d;var e=require("../reduced");function d(...d){let[u,r,c]=d;const t=d.length;switch(t){case 1:{const d=u[2];return[()=>[u[0]()],e=>[u[1](e[0])],(u,r)=>{const c=d(u[0],r);return(0,e.isReduced)(c)?(0,e.reduced)([(0,e.unreduced)(c)]):[c]}]}case 2:{const d=u[2],c=r[2];return[()=>[u[0](),r[0]()],e=>[u[1](e[0]),r[1](e[1])],(u,r)=>{const t=d(u[0],r),n=c(u[1],r);return(0,e.isReduced)(t)||(0,e.isReduced)(n)?(0,e.reduced)([(0,e.unreduced)(t),(0,e.unreduced)(n)]):[t,n]}]}case 3:{const d=u[2],t=r[2],n=c[2];return[()=>[u[0](),r[0](),c[0]()],e=>[u[1](e[0]),r[1](e[1]),c[1](e[2])],(u,r)=>{const c=d(u[0],r),s=t(u[1],r),o=n(u[2],r);return(0,e.isReduced)(c)||(0,e.isReduced)(s)||(0,e.isReduced)(o)?(0,e.reduced)([(0,e.unreduced)(c),(0,e.unreduced)(s),(0,e.unreduced)(o)]):[c,s,o]}]}default:return[()=>d.map(e=>e[0]()),e=>d.map((d,u)=>d[1](e[u])),(u,r)=>{let c=!1;const n=[];for(let s=0;s<t;s++){let t=d[s][2](u[s],r);(0,e.isReduced)(t)&&(c=!0,t=(0,e.unreduced)(t)),n[s]=t}return c?(0,e.reduced)(n):n}]}}
},{"../reduced":"N1be"}],"Z+kQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lookup3d=exports.lookup2d=exports.lookup1d=void 0;const o=o=>e=>o[e];exports.lookup1d=o;const e=(o,e)=>t=>o[t[0]+t[1]*e];exports.lookup2d=e;const t=(o,e,t)=>{const p=e*t;return t=>o[t[0]+t[1]*e+t[2]*p]};exports.lookup3d=t;
},{}],"yRn6":[function(require,module,exports) {
"use strict";function*e(e){yield*e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.asIterable=e;
},{}],"BmaF":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeatedly=e;
},{}],"kI2L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.choices=void 0;var e=require("@thi.ng/arrays"),r=require("@thi.ng/random"),t=require("./repeatedly");const o=(o,i,s=r.SYSTEM)=>(0,t.repeatedly)(i?(0,r.weightedRandom)((0,e.ensureArray)(o),i,s):()=>o[0|s.float(o.length)]);exports.choices=o;
},{"@thi.ng/arrays":"89iK","@thi.ng/random":"C0Vh","./repeatedly":"BmaF"}],"6Izx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=r;var e=require("@thi.ng/arrays");function*r(...r){for(let t of r)null!=t&&(yield*(0,e.ensureIterable)(t))}
},{"@thi.ng/arrays":"89iK"}],"y8M8":[function(require,module,exports) {
"use strict";function*e(e){let t=[];for(let l of e)t.push(l),yield l;if(t.length>0)for(;;)yield*t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cycle=e;
},{}],"oFf+":[function(require,module,exports) {
"use strict";function*e(e,t=!0){if(e>0)for(let o=0,r=t?e+1:e;o<r;o++)yield o/e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.normRange=e;
},{}],"dQxW":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=e;
},{}],"fZnr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolate=t;var e=require("./norm-range"),r=require("./repeat");function*t(t,n,o,i,l,...s){let u=s.length;if(u<1)return;1===u&&(yield*(0,r.repeat)(l(i(s[0][1],s[0][1]),0),t)),s.sort((e,r)=>e[0]-r[0]),s[u-1][0]<o&&s.push([o,s[u-1][1]]),s[0][0]>n&&s.unshift([n,s[0][1]]);const f=o-n;let a=s[0][0],p=s[1][0],c=p-a,d=i(s[0][1],s[1][1]),g=1;u=s.length;for(let r of(0,e.normRange)(t)){if((r=n+f*r)>p){for(;g<u&&r>s[g][0];)g++;a=s[g-1][0],c=(p=s[g][0])-a,d=i(s[g-1][1],s[g][1])}yield l(d,0!==c?(r-a)/c:0)}}
},{"./norm-range":"oFf+","./repeat":"dQxW"}],"+m7L":[function(require,module,exports) {
"use strict";function*e(e,t){let r=0;for(;;)yield t,t=e(t,++r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterate=e;
},{}],"lSG/":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.keys=e;
},{}],"quz7":[function(require,module,exports) {
"use strict";function*e(e){for(let r in e)e.hasOwnProperty(r)&&(yield[r,e[r]])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairs=e;
},{}],"/PzK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.permutations=n,exports.permutationsN=void 0;var e=require("@thi.ng/arrays"),r=require("@thi.ng/errors"),t=require("./range");function*n(...r){const t=r.length-1;if(t<0)return;const n=new Array(t+1).fill(0),o=r.map(e.ensureArrayLike),s=o.reduce((e,r)=>e*r.length,1);for(let e=0;e<s;e++){const e=[];for(let r=t;r>=0;r--){const t=o[r];let s=n[r];s===t.length&&(n[r]=s=0,r>0&&n[r-1]++),e[r]=t[s]}n[t]++,yield e}}const o=(e,o=e,s)=>{s&&s.length<e&&(0,r.illegalArgs)(`insufficient offsets, got ${s.length}, needed ${e}`);const i=[];for(;--e>=0;){const r=s?s[e]:0;i[e]=(0,t.range)(r,r+o)}return n.apply(null,i)};exports.permutationsN=o;
},{"@thi.ng/arrays":"89iK","@thi.ng/errors":"j3Rf","./range":"GT77"}],"749l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range3d=t;var e=require("@thi.ng/errors"),r=require("./range");function*t(...t){let a,l,o,n,s,i,f,g,c;switch(t.length){case 9:f=t[6],g=t[7],c=t[8];case 6:[a,l,o,n,s,i]=t;break;case 3:[l,n,i]=t,a=o=s=0;break;default:(0,e.illegalArity)(t.length)}const u=(0,r.range)(a,l,f),d=(0,r.range)(o,n,g);for(let e of(0,r.range)(s,i,c))for(let r of d)for(let t of u)yield[t,r,e]}
},{"@thi.ng/errors":"j3Rf","./range":"GT77"}],"oAHM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reverse=r;var e=require("@thi.ng/arrays");function*r(r){const t=(0,e.ensureArray)(r);let s=t.length;for(;--s>=0;)yield t[s]}
},{"@thi.ng/arrays":"89iK"}],"vew7":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield e[t])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vals=e;
},{}],"zYdP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrap=t;var e=require("@thi.ng/arrays"),r=require("@thi.ng/errors");function*t(t,i=1,l=!0,n=!0){const o=(0,e.ensureArray)(t);if((i<0||i>o.length)&&(0,r.illegalArgs)(`wrong number of wrap items: got ${i}, but max: ${o.length}`),l)for(let e=o.length,r=e-i;r<e;r++)yield o[r];if(yield*o,n)for(let e=0;e<i;e++)yield o[e]}
},{"@thi.ng/arrays":"89iK","@thi.ng/errors":"j3Rf"}],"GbKR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./iterator");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./reduce");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./reduced");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./run");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./step");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./transduce");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var f=require("./rfn/add");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var c=require("./rfn/assoc-map");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var a=require("./rfn/assoc-obj");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./rfn/conj");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./rfn/count");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./rfn/div");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./rfn/every");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./rfn/fill");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./rfn/frequencies");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./rfn/group-binary");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var j=require("./rfn/group-by-map");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var _=require("./rfn/group-by-obj");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./rfn/last");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./rfn/max-compare");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var x=require("./rfn/max");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var h=require("./rfn/mean");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var g=require("./rfn/min-compare");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var v=require("./rfn/min");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var k=require("./rfn/mul");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var q=require("./rfn/push-copy");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var M=require("./rfn/push");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./rfn/reductions");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var E=require("./rfn/some");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./rfn/str");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./rfn/sub");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var A=require("./xform/benchmark");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./xform/cat");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./xform/converge");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./xform/convolve");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./xform/dedupe");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./xform/delayed");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./xform/distinct");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./xform/drop-nth");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./xform/drop-while");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./xform/drop");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./xform/duplicate");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./xform/filter");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./xform/filter-fuzzy");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./xform/flatten-with");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./xform/flatten");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./xform/indexed");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./xform/interleave");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});var V=require("./xform/interpose");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}})});var W=require("./xform/keep");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}})});var X=require("./xform/labeled");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}})});var Y=require("./xform/map-deep");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}})});var Z=require("./xform/map-indexed");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}})});var $=require("./xform/map-keys");Object.keys($).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $[e]}})});var ee=require("./xform/map-nth");Object.keys(ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ee[e]}})});var re=require("./xform/map-vals");Object.keys(re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return re[e]}})});var te=require("./xform/map");Object.keys(te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return te[e]}})});var ne=require("./xform/mapcat");Object.keys(ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ne[e]}})});var ue=require("./xform/match-first");Object.keys(ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ue[e]}})});var oe=require("./xform/match-last");Object.keys(oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return oe[e]}})});var fe=require("./xform/moving-average");Object.keys(fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fe[e]}})});var ce=require("./xform/moving-median");Object.keys(ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ce[e]}})});var ae=require("./xform/multiplex");Object.keys(ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ae[e]}})});var ie=require("./xform/multiplex-obj");Object.keys(ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ie[e]}})});var se=require("./xform/noop");Object.keys(se).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return se[e]}})});var le=require("./xform/pad-last");Object.keys(le).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return le[e]}})});var de=require("./xform/page");Object.keys(de).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return de[e]}})});var be=require("./xform/partition-by");Object.keys(be).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return be[e]}})});var pe=require("./xform/partition-of");Object.keys(pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return pe[e]}})});var ye=require("./xform/partition-sort");Object.keys(ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ye[e]}})});var je=require("./xform/partition-sync");Object.keys(je).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return je[e]}})});var _e=require("./xform/partition");Object.keys(_e).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _e[e]}})});var Oe=require("./xform/pluck");Object.keys(Oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Oe[e]}})});var me=require("./xform/rename");Object.keys(me).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return me[e]}})});var xe=require("./xform/sample");Object.keys(xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return xe[e]}})});var he=require("./xform/scan");Object.keys(he).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return he[e]}})});var ge=require("./xform/select-keys");Object.keys(ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ge[e]}})});var ve=require("./xform/side-effect");Object.keys(ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ve[e]}})});var ke=require("./xform/sliding-window");Object.keys(ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ke[e]}})});var qe=require("./xform/stream-shuffle");Object.keys(qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return qe[e]}})});var Me=require("./xform/stream-sort");Object.keys(Me).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Me[e]}})});var Pe=require("./xform/struct");Object.keys(Pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Pe[e]}})});var Ee=require("./xform/swizzle");Object.keys(Ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ee[e]}})});var we=require("./xform/take-nth");Object.keys(we).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return we[e]}})});var ze=require("./xform/take-last");Object.keys(ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ze[e]}})});var Ae=require("./xform/take-while");Object.keys(Ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ae[e]}})});var Be=require("./xform/take");Object.keys(Be).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Be[e]}})});var Ce=require("./xform/throttle");Object.keys(Ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ce[e]}})});var De=require("./xform/throttle-time");Object.keys(De).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return De[e]}})});var Fe=require("./xform/trace");Object.keys(Fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Fe[e]}})});var Ge=require("./xform/word-wrap");Object.keys(Ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ge[e]}})});var He=require("./func/comp");Object.keys(He).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return He[e]}})});var Ie=require("./func/compr");Object.keys(Ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ie[e]}})});var Je=require("./func/deep-transform");Object.keys(Je).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Je[e]}})});var Ke=require("./func/juxtr");Object.keys(Ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ke[e]}})});var Le=require("./func/key-selector");Object.keys(Le).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Le[e]}})});var Ne=require("./func/lookup");Object.keys(Ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ne[e]}})});var Qe=require("./func/renamer");Object.keys(Qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Qe[e]}})});var Re=require("./iter/as-iterable");Object.keys(Re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Re[e]}})});var Se=require("./iter/choices");Object.keys(Se).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Se[e]}})});var Te=require("./iter/concat");Object.keys(Te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Te[e]}})});var Ue=require("./iter/cycle");Object.keys(Ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ue[e]}})});var Ve=require("./iter/interpolate");Object.keys(Ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ve[e]}})});var We=require("./iter/iterate");Object.keys(We).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return We[e]}})});var Xe=require("./iter/keys");Object.keys(Xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Xe[e]}})});var Ye=require("./iter/norm-range");Object.keys(Ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ye[e]}})});var Ze=require("./iter/pairs");Object.keys(Ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ze[e]}})});var $e=require("./iter/permutations");Object.keys($e).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $e[e]}})});var er=require("./iter/range");Object.keys(er).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return er[e]}})});var rr=require("./iter/range2d");Object.keys(rr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return rr[e]}})});var tr=require("./iter/range3d");Object.keys(tr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return tr[e]}})});var nr=require("./iter/repeat");Object.keys(nr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return nr[e]}})});var ur=require("./iter/repeatedly");Object.keys(ur).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ur[e]}})});var or=require("./iter/reverse");Object.keys(or).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return or[e]}})});var fr=require("./iter/vals");Object.keys(fr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fr[e]}})});var cr=require("./iter/wrap");Object.keys(cr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return cr[e]}})});var ar=require("./iter/zip");Object.keys(ar).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ar[e]}})});
},{"./iterator":"fhdf","./reduce":"UerL","./reduced":"N1be","./run":"7FI+","./step":"o6XN","./transduce":"iqGa","./rfn/add":"pthq","./rfn/assoc-map":"LIJg","./rfn/assoc-obj":"H8df","./rfn/conj":"cBQk","./rfn/count":"g31l","./rfn/div":"J30b","./rfn/every":"yvO9","./rfn/fill":"6WiA","./rfn/frequencies":"6mFo","./rfn/group-binary":"DkVy","./rfn/group-by-map":"MrPH","./rfn/group-by-obj":"7HXQ","./rfn/last":"N4rn","./rfn/max-compare":"3Fj3","./rfn/max":"ePW0","./rfn/mean":"N1B6","./rfn/min-compare":"P+2v","./rfn/min":"0wGH","./rfn/mul":"vCqj","./rfn/push-copy":"FqE3","./rfn/push":"8/nZ","./rfn/reductions":"zjLI","./rfn/some":"ZD/3","./rfn/str":"js0B","./rfn/sub":"B0kE","./xform/benchmark":"1+eY","./xform/cat":"arAw","./xform/converge":"OUsy","./xform/convolve":"Bnr+","./xform/dedupe":"ryPz","./xform/delayed":"ya6N","./xform/distinct":"ECm5","./xform/drop-nth":"x+VO","./xform/drop-while":"5yG5","./xform/drop":"4Xj6","./xform/duplicate":"5xKD","./xform/filter":"AmR+","./xform/filter-fuzzy":"4UIq","./xform/flatten-with":"GrLQ","./xform/flatten":"FhYa","./xform/indexed":"v3WG","./xform/interleave":"AqTY","./xform/interpose":"C4Kx","./xform/keep":"cSVz","./xform/labeled":"GHxA","./xform/map-deep":"9OxB","./xform/map-indexed":"n5y9","./xform/map-keys":"Zidv","./xform/map-nth":"OvXR","./xform/map-vals":"C0YV","./xform/map":"WUst","./xform/mapcat":"pk6b","./xform/match-first":"CbTT","./xform/match-last":"o7kz","./xform/moving-average":"oc+t","./xform/moving-median":"p2Dn","./xform/multiplex":"GmFf","./xform/multiplex-obj":"sFj2","./xform/noop":"2JLi","./xform/pad-last":"v+6p","./xform/page":"gT1U","./xform/partition-by":"NsL8","./xform/partition-of":"+6L6","./xform/partition-sort":"ENs0","./xform/partition-sync":"5mSE","./xform/partition":"IixE","./xform/pluck":"klYB","./xform/rename":"HBXk","./xform/sample":"YDOC","./xform/scan":"aO4q","./xform/select-keys":"a0/s","./xform/side-effect":"PW9O","./xform/sliding-window":"iM70","./xform/stream-shuffle":"LJ5+","./xform/stream-sort":"Ik0n","./xform/struct":"IfpI","./xform/swizzle":"sSrO","./xform/take-nth":"2aUg","./xform/take-last":"OmPI","./xform/take-while":"2eKG","./xform/take":"o8VT","./xform/throttle":"FY7+","./xform/throttle-time":"DYsp","./xform/trace":"VbxX","./xform/word-wrap":"9+fo","./func/comp":"9vBN","./func/compr":"IqcY","./func/deep-transform":"Khd6","./func/juxtr":"mY0c","./func/key-selector":"xiIq","./func/lookup":"Z+kQ","./func/renamer":"i+iR","./iter/as-iterable":"yRn6","./iter/choices":"kI2L","./iter/concat":"6Izx","./iter/cycle":"y8M8","./iter/interpolate":"fZnr","./iter/iterate":"+m7L","./iter/keys":"lSG/","./iter/norm-range":"oFf+","./iter/pairs":"quz7","./iter/permutations":"/PzK","./iter/range":"GT77","./iter/range2d":"DdIw","./iter/range3d":"749l","./iter/repeat":"dQxW","./iter/repeatedly":"BmaF","./iter/reverse":"oAHM","./iter/vals":"vew7","./iter/wrap":"zYdP","./iter/zip":"Mdez"}],"aKZ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUBM_N=exports.SUBM=exports.MIX_N=exports.MIX=exports.MADD_N=exports.MADD=exports.ADDM_N=exports.ADDM=exports.HOF_VVVVV=exports.HOF_VVV=exports.SET_N=exports.SET=exports.DOT_G=exports.DOT=exports.FN_N=exports.FN2=exports.FN=exports.MATH_N=exports.MATH=void 0;const $=$=>([o,s,t])=>`${o}=${s}${$}${t};`;exports.MATH=$;const o=$=>([o,s])=>`${o}=${s}${$}n;`;exports.MATH_N=o;const s=$=>([o,s])=>`${o}=${$}(${s});`;exports.FN=s;const t=$=>([o,s,t])=>`${o}=${$}(${s},${t});`;exports.FN2=t;const e=$=>([o,s])=>`${o}=${$}(${s},n);`;exports.FN_N=e;const p=([$,o])=>`${$}*${o}`;exports.DOT=p;const r=([$,o])=>`s+=${$}*${o};`;exports.DOT_G=r;const x=([$,o])=>`${$}=${o};`;exports.SET=x;const n=([$])=>`${$}=n;`;exports.SET_N=n;const _=([$,o,s,t])=>`${$}=op(${o},${s},${t});`;exports.HOF_VVV=_;const c=([$,o,s,t,e,p])=>`${$}=op(${o},${s},${t},${e},${p});`;exports.HOF_VVVVV=c;const M=([$,o,s,t])=>`${$}=(${o}+${s})*${t};`;exports.ADDM=M;const D=([$,o,s])=>`${$}=(${o}+${s})*n;`;exports.ADDM_N=D;const N=([$,o,s,t])=>`${$}=${o}+${s}*${t};`;exports.MADD=N;const V=([$,o,s])=>`${$}=${o}+${s}*n;`;exports.MADD_N=V;const A=([$,o,s,t])=>`${$}=${o}+(${s}-${o})*${t};`;exports.MIX=A;const T=([$,o,s])=>`${$}=${o}+(${s}-${o})*n;`;exports.MIX_N=T;const F=([$,o,s,t])=>`${$}=(${o}-${s})*${t};`;exports.SUBM=F;const O=([$,o,s])=>`${$}=(${o}-${s})*n;`;exports.SUBM_N=O;
},{}],"eeQp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vop=void 0;var e=require("@thi.ng/errors");const r=(r=0)=>{const t=new Array(5);let o;const n=(...n)=>{const s=t[n[r].length]||o;return s?s(...n):(0,e.unsupported)(`no impl for vec size ${n[r].length}`)};return n.add=((e,r)=>t[e]=r),n.default=(e=>o=e),n};exports.vop=r;
},{"@thi.ng/errors":"j3Rf"}],"S+w+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defMathNOp=exports.defMathOp=exports.defOpS=exports.defHofOp=exports.defFnOp=exports.defOp=exports.compileGHOF=exports.compileG=exports.compileHOF=exports.compile=exports.defaultOut=exports.NEW_OUT=exports.DEFAULT_OUT=exports.SARGS_VVV=exports.SARGS_VV=exports.SARGS_V=exports.ARGS_VVN=exports.ARGS_VN=exports.ARGS_VVV=exports.ARGS_VV=exports.ARGS_V=void 0;var o=require("@thi.ng/transducers"),e=require("./templates"),t=require("./vop");const s="o,a";exports.ARGS_V="o,a";const p="o,a,b";exports.ARGS_VV="o,a,b";const r="o,a,b,c";exports.ARGS_VVV=r;const n="o,a,n";exports.ARGS_VN="o,a,n";const a="o,a,b,n";exports.ARGS_VVN=a;const i="io=0,ia=0,so=1,sa=1";exports.SARGS_V=i;const x="io=0,ia=0,ib=0,so=1,sa=1,sb=1";exports.SARGS_VV=x;const c="io=0,ia=0,ib=0,ic=0,so=1,sa=1,sb=1,sc=1";exports.SARGS_VVV=c;const l="!o&&(o=a);";exports.DEFAULT_OUT=l;const u="!o&&(o=[]);";exports.NEW_OUT=u;const V=o=>e=>e>1?`${o}[i${o}+${e}*s${o}]`:1==e?`${o}[i${o}+s${o}]`:`${o}[i${o}]`,d=e=>(0,o.map)(V(e),(0,o.range)()),$=e=>(0,o.map)(o=>`${e}[${o}]`,(0,o.range)()),S=(e,t,s,p="a",r="",n="",a="",i=!1)=>[n,(0,o.transduce)((0,o.comp)((0,o.take)(e),(0,o.mapIndexed)((o,e)=>t(e,o))),(0,o.str)(r),o.zip.apply(null,s.split(",").map(i?d:$))),a,null!==p?`return ${p};`:""],O=(o,e,t="a",s,p,r=!1)=>[s,"for(let i=a.length;--i>=0;) {",o(e.split(",").map(r?o=>`${o}[i${o}+i*s${o}]`:o=>`${o}[i]`)),"}",p,null!==t?`return ${t};`:""],_=(o,e)=>`!${o} && (${o}=${e.split(",")[1]});`;exports.defaultOut=_;const f=(o,e,t,s=t,p="a",r,n,a,i=!1)=>new Function(t,S(o,e,s,p,r,n,a,i).join(""));exports.compile=f;const A=(o,e,t,s,p,r=p,n="a",a="",i,x,c=!1)=>new Function(s,`return (${p})=>{${S(o,t,r,n,a,i,x,c).join("")}}`)(...e);exports.compileHOF=A;const G=(o,e,t=e,s="a",p,r,n=!1)=>new Function(e,O(o,t,s,p,r,n).join(""));exports.compileG=G;const m=(o,e,t,s,p=s,r="a",n,a,i=!1)=>new Function(t,`return (${s})=>{${O(e,p,r,n,a,i).join("")}}`)(...o);exports.compileGHOF=m;const R=(o,e="o,a,b",s,p="o",r=1,n)=>{s=s||e,n=null!=n?n:_(p,e);const a=(0,t.vop)(r),i=t=>a.add(t,f(t,o,e,s,p,"",n));return a.default(G(o,e,s,p,n)),[a,i(2),i(3),i(4)]};exports.defOp=R;const F=o=>R((0,e.FN)(o),"o,a");exports.defFnOp=F;const b=(o,s,p="o,a",r,n="o",a=1,i)=>{s=s||(0,e.FN)("op"),r=r||p,i=null!=i?i:_(n,p);const x=e=>A(e,[o],s,"op",p,r,n,"",i),c=(0,t.vop)(a);return c.default(m([o],s,"op",p,r,n,i)),[c,x(2),x(3),x(4)]};exports.defHofOp=b;const N=(o,e=`o,a,b,${x}`,t="o,a,b",s="o",p,r=[2,3,4])=>r.map(r=>f(r,o,e,t,s,"",null!=p?p:_(s,e),"",!0));exports.defOpS=N;const H=o=>R((0,e.MATH)(o));exports.defMathOp=H;const T=o=>R((0,e.MATH_N)(o),"o,a,n");exports.defMathNOp=T;
},{"@thi.ng/transducers":"GbKR","./templates":"aKZ5","./vop":"eeQp"}],"CPkP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vecIterator=o,exports.values=t,exports.intoBuffer=exports.mapBuffer=void 0;const e=(e,r,o,t,f,s)=>{const n=[];for(;--o>=0;)n.push(new e(r,t,f)),t+=s;return n};exports.mapBuffer=e;const r=(e,r,o,t,f,s)=>{for(let n of o)e(r,n,t,0,f,1),t+=s;return r};function*o(e,r,o,t,f,s){for(;o-- >0;)yield new e(r,t,f),t+=s}function*t(e,r,o,t){for(;r-- >0;)yield e[o],o+=t}exports.intoBuffer=r;
},{}],"zd6y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EPS=exports.SIXTH=exports.TWO_THIRD=exports.THIRD=exports.SQRT2_3=exports.SQRT2_2=exports.SQRT3=exports.SQRT2=exports.PHI=exports.RAD2DEG=exports.DEG2RAD=exports.INV_HALF_PI=exports.INV_TAU=exports.INV_PI=exports.SIXTH_PI=exports.QUARTER_PI=exports.THIRD_PI=exports.HALF_PI=exports.TAU=exports.PI=void 0;const t=Math.PI;exports.PI=t;const s=2*t;exports.TAU=s;const o=t/2;exports.HALF_PI=o;const e=t/3;exports.THIRD_PI=e;const r=t/4;exports.QUARTER_PI=r;const p=t/6;exports.SIXTH_PI=p;const x=1/t;exports.INV_PI=x;const I=1/s;exports.INV_TAU=I;const T=1/o;exports.INV_HALF_PI=T;const _=t/180;exports.DEG2RAD=_;const R=180/t;exports.RAD2DEG=R;const c=(1+Math.sqrt(5))/2;exports.PHI=c;const n=Math.SQRT2;exports.SQRT2=n;const P=Math.sqrt(3);exports.SQRT3=P;const H=n/2;exports.SQRT2_2=H;const S=P/2;exports.SQRT2_3=S;const A=1/3;exports.THIRD=1/3;const D=2/3;exports.TWO_THIRD=2/3;const Q=1/6;exports.SIXTH=1/6;let E=1e-6;exports.EPS=E;
},{}],"FWip":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sign=exports.absDiff=void 0;var e=require("./api");const s=(e,s)=>Math.abs(e-s);exports.absDiff=s;const t=(s,t=e.EPS)=>s>t?1:s<-t?-1:0;exports.sign=t;
},{"./api":"zd6y"}],"uNzl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fastSin=exports.fastCos=exports.normCos=exports.loc=exports.cot=exports.sec=exports.csc=exports.rad=exports.deg=exports.quadrant=exports.atan2Abs=exports.angleDist=exports.absInnerAngle=exports.absTheta=exports.cossin=exports.sincos=void 0;var s=require("./api");const t=(s,t=1)=>[Math.sin(s)*t,Math.cos(s)*t];exports.sincos=t;const o=(s,t=1)=>[Math.cos(s)*t,Math.sin(s)*t];exports.cossin=o;const e=t=>(t%=s.TAU,t<0?s.TAU+t:t);exports.absTheta=e;const r=t=>(t=Math.abs(t),t>s.PI?s.TAU-t:t);exports.absInnerAngle=r;const n=(t,o)=>r(e(o%s.TAU-t%s.TAU));exports.angleDist=n;const a=(s,t)=>e(Math.atan2(s,t));exports.atan2Abs=a;const c=t=>e(t)*s.INV_HALF_PI|0;exports.quadrant=c;const p=t=>t*s.RAD2DEG;exports.deg=p;const x=t=>t*s.DEG2RAD;exports.rad=x;const i=s=>1/Math.sin(s);exports.csc=i;const A=s=>1/Math.cos(s);exports.sec=A;const h=s=>1/Math.tan(s);exports.cot=h;const u=(s,t,o)=>Math.sqrt(s*s+t*t-2*s*t*Math.cos(o));exports.loc=u;const M=s=>{const t=s*s;return 1+t*(2*t-4)};exports.normCos=M;const d=s=>{const t=s*s;return.99940307+t*(.03679168*t-.49558072)},I=t=>{switch((t%=s.TAU)<0&&(t=-t),t*s.INV_HALF_PI|0){case 0:return d(t);case 1:return-d(s.PI-t);case 2:return-d(t-s.PI);default:return d(s.TAU-t)}};exports.fastCos=I;const l=t=>I(s.HALF_PI-t);exports.fastSin=l;
},{"./api":"zd6y"}],"SDG2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eqDeltaFixed=exports.eqDelta=void 0;var e=require("./api");const t=Math.abs,a=Math.max,r=(r,s,o=e.EPS)=>t(r-s)<=o*a(1,t(r),t(s));exports.eqDelta=r;const s=(a,r,s=e.EPS)=>t(a-r)<=s;exports.eqDeltaFixed=s;
},{"./api":"zd6y"}],"PBUS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inOpenRange=exports.inRange=exports.foldback=exports.absMax=exports.absMin=exports.sclamp=exports.smax=exports.smin=exports.max4id=exports.max3id=exports.max2id=exports.min4id=exports.min3id=exports.min2id=exports.wrap11=exports.wrap01=exports.wrap=exports.clamp11=exports.clamp01=exports.clamp=void 0;const s=(s,t,o)=>s<t?t:s>o?o:s;exports.clamp=s;const t=s=>s<0?0:s>1?1:s;exports.clamp01=t;const o=s=>s<-1?-1:s>1?1:s;exports.clamp11=o;const p=(s,t,o)=>s<t?s-t+o:s>=o?s-o+t:s;exports.wrap=p;const e=s=>s<0?s+1:s>=1?s-1:s;exports.wrap01=e;const x=s=>s<-1?s+2:s>=1?s-2:s;exports.wrap11=x;const r=(s,t)=>s<=t?0:1;exports.min2id=r;const a=(s,t,o)=>s<=t?s<=o?0:2:t<=o?1:2;exports.min3id=a;const n=(s,t,o,p)=>s<=t?s<=o?s<=p?0:3:o<=p?2:3:t<=o?t<=p?1:3:o<=p?2:3;exports.min4id=n;const c=(s,t)=>s>=t?0:1;exports.max2id=c;const i=(s,t,o)=>s>=t?s>=o?0:2:t>=o?1:2;exports.max3id=i;const m=(s,t,o,p)=>s>=t?s>=o?s>=p?0:3:o>=p?2:3:t>=o?t>=p?1:3:o>=p?2:3;exports.max4id=m;const d=(s,t,o)=>b(s,t,-o);exports.smin=d;const b=(s,t,o)=>{const p=Math.exp(s*o),e=Math.exp(t*o);return(s*p+t*e)/(p+e)};exports.smax=b;const M=(s,t,o,p)=>d(b(s,t,p),o,p);exports.sclamp=M;const l=(s,t)=>Math.abs(s)<Math.abs(t)?s:t;exports.absMin=l;const h=(s,t)=>Math.abs(s)>Math.abs(t)?s:t;exports.absMax=h;const w=(s,t)=>t<-s||t>s?Math.abs(Math.abs((t-s)%(4*s))-2*s)-s:t;exports.foldback=w;const g=(s,t,o)=>s>=t&&s<=o;exports.inRange=g;const u=(s,t,o)=>s>t&&s<o;exports.inOpenRange=u;
},{}],"33rF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fit11=exports.fit10=exports.fit01=exports.fitClamped=exports.fit=exports.norm=void 0;var t=require("./interval");const e=(t,e,o)=>o!==e?(t-e)/(o-e):0;exports.norm=e;const o=(t,o,r,s,p)=>s+(p-s)*e(t,o,r);exports.fit=o;const r=(o,r,s,p,i)=>p+(i-p)*(0,t.clamp01)(e(o,r,s));exports.fitClamped=r;const s=(e,o,r)=>o+(r-o)*(0,t.clamp01)(e);exports.fit01=s;const p=(e,o,r)=>r+(o-r)*(0,t.clamp01)(e);exports.fit10=p;const i=(e,o,r)=>o+(r-o)*(.5+.5*(0,t.clamp11)(e));exports.fit11=i;
},{"./interval":"PBUS"}],"xVeb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minError=void 0;var r=require("./api");const e=(t,o,i,n=16,s=8,u=0,a=1,c=r.EPS)=>{if(s<=0)return(u+a)/2;const f=(a-u)/n;let p=u,l=1/0;for(let r=0;r<=n;r++){const e=u+r*f,n=o(i,t(e));if(n<l){if(n<=c)return e;l=n,p=e}}return e(t,o,i,n,s-1,Math.max(p-f,0),Math.min(p+f,1))};exports.minError=e;
},{"./api":"zd6y"}],"B0dQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sinc=exports.cubicPulse=exports.parabola=exports.gain=exports.impulse=exports.ease=exports.bounce=exports.decimated=exports.cosine=exports.circular=exports.tween=exports.mixCubic=exports.mixQuadratic=exports.mixBilinear=exports.mix=void 0;var t=require("./api");const s=(t,s,e)=>t+(s-t)*e;exports.mix=s;const e=(t,e,o,r,c,p)=>s(s(t,e,c),s(o,r,c),p);exports.mixBilinear=e;const o=(t,s,e,o)=>{const r=1-o;return t*r*r+2*s*r*o+e*o*o};exports.mixQuadratic=o;const r=(t,s,e,o,r)=>{const c=r*r,p=1-r,x=p*p;return t*x*p+3*s*x*r+3*e*c*p+o*c*r};exports.mixCubic=r;const c=(t,e,o)=>r=>s(e,o,t(r));exports.tween=c;const p=t=>(t=1-t,Math.sqrt(1-t*t));exports.circular=p;const x=s=>1-(.5*Math.cos(s*t.PI)+.5);exports.cosine=x;const n=(t,s)=>Math.floor(s*t)/t;exports.decimated=n;const i=(s,e,o)=>{const r=o*s;return 1-e*Math.sin(r)/r*Math.cos(o*t.HALF_PI)};exports.bounce=i;const a=(t,s)=>Math.pow(s,t);exports.ease=a;const u=(t,s)=>{const e=t*s;return e*Math.exp(1-e)};exports.impulse=u;const l=(t,s)=>s<.5?.5*Math.pow(2*s,t):1-.5*Math.pow(2-2*s,t);exports.gain=l;const M=(t,s)=>Math.pow(4*s*(1-s),t);exports.parabola=M;const h=(t,s,e)=>(e=Math.abs(e-s))>t?0:1-(e/=t)*e*(3-2*e);exports.cubicPulse=h;const m=(s,e)=>(e=t.PI*(s*e-1),Math.sin(e)/e);exports.sinc=m;
},{"./api":"zd6y"}],"UVR2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.roundEps=exports.roundTo=exports.trunc=exports.fract=exports.fmod=void 0;var o=require("./api");const r=(o,r)=>o-r*Math.floor(o/r);exports.fmod=r;const t=o=>o-Math.floor(o);exports.fract=t;const e=o=>o<0?Math.ceil(o):Math.floor(o);exports.trunc=e;const s=(o,r=1)=>Math.round(o/r)*r;exports.roundTo=s;const n=(r,e=o.EPS)=>{const s=t(r);return s<=e||s>=1-e?Math.round(r):r};exports.roundEps=n;
},{"./api":"zd6y"}],"KH43":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyRatio=void 0;const t=(t,e)=>{let s=Math.abs(t),o=Math.abs(e);for(;;){if(s<o){const t=s;s=o,o=t}const i=s%o;if(!i)return[t/o,e/o];s=i}};exports.simplifyRatio=t;
},{}],"bgMt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.solveCubic=exports.solveQuadratic=exports.solveLinear=exports.derivative=void 0;var t=require("./api");const e=(e,r=t.EPS)=>t=>(e(t+r)-e(t))/r;exports.derivative=e;const r=(t,e)=>-e/t;exports.solveLinear=r;const s=(t,e,r,s=1e-9)=>{const o=2*t;let a=e*e-4*t*r;return a<0?[]:a<s?[-e/o]:[(-e-(a=Math.sqrt(a)))/o,(-e+a)/o]};exports.solveQuadratic=s;const o=(t,e,r,s,o=1e-9)=>{const a=t*t,c=e*e,i=e/(3*t),n=(3*t*r-c)/(3*a),M=(2*c*e-9*t*e*r+27*a*s)/(27*a*t);if(Math.abs(n)<o)return[Math.cbrt(-M)-i];if(Math.abs(M)<o)return n<0?[-Math.sqrt(-n)-i,-i,Math.sqrt(-n)-i]:[-i];{const t=M*M/4+n*n*n/27;if(Math.abs(t)<o)return[-1.5*M/n-i,3*M/n-i];if(t>0){const e=Math.cbrt(-M/2-Math.sqrt(t));return[e-n/(3*e)-i]}{const t=2*Math.sqrt(-n/3),e=Math.acos(3*M/n/t)/3,r=2*Math.PI/3;return[t*Math.cos(e)-i,t*Math.cos(e-r)-i,t*Math.cos(e-2*r)-i]}}};exports.solveCubic=o;
},{"./api":"zd6y"}],"9QhS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expStep=exports.smootherStep=exports.smoothStep=exports.step=void 0;var e=require("./interval");const t=(e,t)=>t<e?0:1;exports.step=t;const o=(t,o,p)=>(3-2*(p=(0,e.clamp01)((p-t)/(o-t))))*p*p;exports.smoothStep=o;const p=(t,o,p)=>(p=(0,e.clamp01)((p-t)/(o-t)))*p*p*(p*(6*p-15)+10);exports.smootherStep=p;const s=(e,t,o)=>1-Math.exp(-e*Math.pow(o,t));exports.expStep=s;
},{"./interval":"PBUS"}],"zoYr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./abs");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./angle");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./eqdelta");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./fit");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./interval");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./min-error");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./mix");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./prec");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./ratio");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./solve");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./step");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});
},{"./api":"zd6y","./abs":"FWip","./angle":"uNzl","./eqdelta":"SDG2","./fit":"33rF","./interval":"PBUS","./min-error":"xVeb","./mix":"B0dQ","./prec":"UVR2","./ratio":"KH43","./solve":"bgMt","./step":"9QhS"}],"Lgvf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInArray=exports.eqDeltaArray=exports.eqDeltaS=exports.eqDelta4=exports.eqDelta3=exports.eqDelta2=exports.eqDelta=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/math"),r=require("./internal/codegen"),n=require("./internal/vop");const l=e=>o.add(e,(0,r.compileHOF)(e,[t.eqDelta,t.EPS],([e,t])=>`eq(${e},${t},eps)`,"eq,_eps","a,b,eps=_eps","a,b",null,"&&","return a.length === b.length && ",";")),o=(0,n.vop)();exports.eqDelta=o,o.default((r,n,l=t.EPS)=>(0,e.implementsFunction)(r,"eqDelta")?r.eqDelta(n,l):(0,e.implementsFunction)(n,"eqDelta")?n.eqDelta(r,l):q(r,n,r.length,l));const s=l(2);exports.eqDelta2=s;const a=l(3);exports.eqDelta3=a;const p=l(4);exports.eqDelta4=p;const q=(e,r,n,l=t.EPS,o=0,s=0,a=1,p=1)=>{for(;n>0;n--,o+=a,s+=p)if(!(0,t.eqDelta)(e[o],r[s],l))return!1;return!0};exports.eqDeltaS=q;const i=(e,r,n=t.EPS)=>{if(e===r)return!0;if(e.length!==r.length)return!1;for(let t=e.length;--t>=0;)if(!o(e[t],r[t],n))return!1;return!0};exports.eqDeltaArray=i;const u=(e,r,n=t.EPS)=>{for(let t=r.length;--t>=0;)if(o(e,r[t],n))return!0;return!1};exports.isInArray=u;
},{"@thi.ng/checks":"XYpc","@thi.ng/math":"zoYr","./internal/codegen":"S+w+","./internal/vop":"eeQp"}],"fOiY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setS=exports.setS4=exports.setS3=exports.setS2=void 0;var e=require("./internal/codegen"),t=require("./internal/templates");const[s,r,o]=(0,e.defOpS)(t.SET,`o,a,${e.SARGS_V}`,"o,a","o",e.NEW_OUT);exports.setS4=o,exports.setS3=r,exports.setS2=s;const p=(e,t,s,r=0,o=0,p=1,S=1)=>{for(let n=0;n<s;n++)e[r+n*p]=t[o+n*S];return e};exports.setS=p;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"oJI8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asVec2=exports.vec2n=exports.vec2=exports.Vec2=void 0;var e=require("@thi.ng/math"),t=require("./api"),r=require("./eqdelta"),s=require("./internal/accessors"),n=require("./internal/avec"),i=require("./internal/vec-utils"),o=require("./sets");class u extends n.AVec{constructor(e,t=0,r=1){super(e||[0,0],t,r)}static mapBuffer(e,t=e.length>>1,r=0,s=1,n=2){return(0,i.mapBuffer)(u,e,t,r,s,n)}static intoBuffer(e,t,r=0,s=1,n=2){return(0,i.intoBuffer)(o.setS2,e,t,r,s,n)}static iterator(e,t,r=0,s=1,n=2){return(0,i.vecIterator)(u,e,t,r,s,n)}[Symbol.iterator](){return(0,i.values)(this.buf,2,this.offset,this.stride)}get length(){return 2}copy(){return new u([this.x,this.y])}copyView(){return new u(this.buf,this.offset,this.stride)}empty(){return new u}eqDelta(t,s=e.EPS){return(0,r.eqDelta2)(this,t,s)}toJSON(){return[this.x,this.y]}toString(){return`[${this.x}, ${this.y}]`}}exports.Vec2=u,u.X_AXIS=new u(t.X2),u.Y_AXIS=new u(t.Y2),u.MIN=new u(t.MIN2),u.MAX=new u(t.MAX2),u.ZERO=new u(t.ZERO2),u.ONE=new u(t.ONE2),(0,s.declareIndices)(u.prototype,["x","y"]);const c=(e=0,t=0)=>new u([e,t]);exports.vec2=c;const a=e=>new u([e,e]);exports.vec2n=a;const p=e=>e instanceof u?e:new u(e.length>=2?e:[e[0]||0,e[1]||0]);exports.asVec2=p;
},{"@thi.ng/math":"zoYr","./api":"ZvJB","./eqdelta":"Lgvf","./internal/accessors":"1pGx","./internal/avec":"xqhi","./internal/vec-utils":"CPkP","./sets":"fOiY"}],"K9zr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asVec3=exports.vec3n=exports.vec3=exports.Vec3=void 0;var e=require("@thi.ng/math"),t=require("./api"),r=require("./eqdelta"),s=require("./internal/accessors"),n=require("./internal/avec"),i=require("./internal/vec-utils"),o=require("./sets");class u extends n.AVec{constructor(e,t=0,r=1){super(e||[0,0,0],t,r)}static mapBuffer(e,t=e.length/3|0,r=0,s=1,n=3){return(0,i.mapBuffer)(u,e,t,r,s,n)}static intoBuffer(e,t,r=0,s=1,n=3){return(0,i.intoBuffer)(o.setS3,e,t,r,s,n)}static iterator(e,t,r=0,s=1,n=3){return(0,i.vecIterator)(u,e,t,r,s,n)}[Symbol.iterator](){return(0,i.values)(this.buf,3,this.offset,this.stride)}get length(){return 3}copy(){return new u([this.x,this.y,this.z])}copyView(){return new u(this.buf,this.offset,this.stride)}empty(){return new u}eqDelta(t,s=e.EPS){return(0,r.eqDelta3)(this,t,s)}toJSON(){return[this.x,this.y,this.z]}toString(){return`[${this.x}, ${this.y}, ${this.z}]`}}exports.Vec3=u,u.X_AXIS=new u(t.X3),u.Y_AXIS=new u(t.Y3),u.Z_AXIS=new u(t.Z3),u.MIN=new u(t.MIN3),u.MAX=new u(t.MAX3),u.ZERO=new u(t.ZERO3),u.ONE=new u(t.ONE3),(0,s.declareIndices)(u.prototype,["x","y","z"]);const c=(e=0,t=0,r=0)=>new u([e,t,r]);exports.vec3=c;const a=e=>new u([e,e,e]);exports.vec3n=a;const h=e=>e instanceof u?e:new u(e.length>=3?e:[e[0]||0,e[1]||0,e[2]||0]);exports.asVec3=h;
},{"@thi.ng/math":"zoYr","./api":"ZvJB","./eqdelta":"Lgvf","./internal/accessors":"1pGx","./internal/avec":"xqhi","./internal/vec-utils":"CPkP","./sets":"fOiY"}],"Lylz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asVec4=exports.vec4n=exports.vec4=exports.Vec4=void 0;var e=require("@thi.ng/math"),t=require("./api"),r=require("./eqdelta"),s=require("./internal/accessors"),i=require("./internal/avec"),n=require("./internal/vec-utils"),o=require("./sets");class u extends i.AVec{constructor(e,t=0,r=1){super(e||[0,0,0,0],t,r)}static mapBuffer(e,t=e.length>>2,r=0,s=1,i=4){return(0,n.mapBuffer)(u,e,t,r,s,i)}static intoBuffer(e,t,r=0,s=1,i=4){return(0,n.intoBuffer)(o.setS4,e,t,r,s,i)}static*iterator(e,t,r=0,s=1,i=4){return(0,n.vecIterator)(u,e,t,r,s,i)}[Symbol.iterator](){return(0,n.values)(this.buf,4,this.offset,this.stride)}get length(){return 4}copy(){return new u([this.x,this.y,this.z,this.w])}copyView(){return new u(this.buf,this.offset,this.stride)}empty(){return new u}eqDelta(t,s=e.EPS){return(0,r.eqDelta4)(this,t,s)}toJSON(){return[this.x,this.y,this.z,this.w]}toString(){return`[${this.x}, ${this.y}, ${this.z}, ${this.w}]`}}exports.Vec4=u,u.X_AXIS=new u(t.X4),u.Y_AXIS=new u(t.Y4),u.Z_AXIS=new u(t.Z4),u.MIN=new u(t.MIN4),u.MAX=new u(t.MAX4),u.ZERO=new u(t.ZERO4),u.ONE=new u(t.ONE4),(0,s.declareIndices)(u.prototype,["x","y","z","w"]);const c=(e=0,t=0,r=0,s=0)=>new u([e,t,r,s]);exports.vec4=c;const a=e=>new u([e,e,e,e]);exports.vec4n=a;const h=e=>e instanceof u?e:new u(e.length>=4?e:[e[0]||0,e[1]||0,e[2]||0,e[3]||0]);exports.asVec4=h;
},{"@thi.ng/math":"zoYr","./api":"ZvJB","./eqdelta":"Lgvf","./internal/accessors":"1pGx","./internal/avec":"xqhi","./internal/vec-utils":"CPkP","./sets":"fOiY"}],"Q12s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.abs4=exports.abs3=exports.abs2=exports.abs=void 0;var e=require("./internal/codegen");const[s,r,t,o]=(0,e.defFnOp)("Math.abs");exports.abs4=o,exports.abs3=t,exports.abs2=r,exports.abs=s;
},{"./internal/codegen":"S+w+"}],"ROWB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.acos4=exports.acos3=exports.acos2=exports.acos=void 0;var e=require("./internal/codegen");const[o,s,r,t]=(0,e.defFnOp)("Math.acos");exports.acos4=t,exports.acos3=r,exports.acos2=s,exports.acos=o;
},{"./internal/codegen":"S+w+"}],"dVX3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maddN4=exports.maddN3=exports.maddN2=exports.maddN=void 0;var e=require("./internal/codegen"),d=require("./internal/templates");const[r,t,o,s]=(0,e.defOp)(d.MADD_N,e.ARGS_VVN);exports.maddN4=s,exports.maddN3=o,exports.maddN2=t,exports.maddN=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"k0BP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mulN4=exports.mulN3=exports.mulN2=exports.mulN=void 0;var e=require("./internal/codegen");const[r,t,o,s]=(0,e.defMathNOp)("*");exports.mulN4=s,exports.mulN3=o,exports.mulN2=t,exports.mulN=r;
},{"./internal/codegen":"S+w+"}],"ciVu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addW5=exports.addW4=exports.addW3=exports.addW2=void 0;var d=require("./maddn"),a=require("./muln");const e=(e,r,t,m,o)=>(0,d.maddN)(e,(0,a.mulN)(e,r,m),t,o);exports.addW2=e;const r=(e,r,t,m,o,s,N)=>(0,d.maddN)(e,(0,d.maddN)(e,(0,a.mulN)(e,r,o),t,s),m,N);exports.addW3=r;const t=(e,r,t,m,o,s,N,p,u)=>(0,d.maddN)(e,(0,d.maddN)(e,(0,d.maddN)(e,(0,a.mulN)(e,r,s),t,N),m,p),o,u);exports.addW4=t;const m=(e,r,t,m,o,s,N,p,u,x,W)=>(0,d.maddN)(e,(0,d.maddN)(e,(0,d.maddN)(e,(0,d.maddN)(e,(0,a.mulN)(e,r,N),t,p),m,u),o,x),s,W);exports.addW5=m;
},{"./maddn":"dVX3","./muln":"k0BP"}],"aN0U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add4=exports.add3=exports.add2=exports.add=void 0;var e=require("./internal/codegen");const[d,r,t,o]=(0,e.defMathOp)("+");exports.add4=o,exports.add3=t,exports.add2=r,exports.add=d;
},{"./internal/codegen":"S+w+"}],"BABU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addm4=exports.addm3=exports.addm2=exports.addm=void 0;var e=require("./internal/codegen"),d=require("./internal/templates");const[r,t,o,s]=(0,e.defOp)(d.ADDM,e.ARGS_VVV);exports.addm4=s,exports.addm3=o,exports.addm2=t,exports.addm=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"KqXl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addmN4=exports.addmN3=exports.addmN2=exports.addmN=void 0;var e=require("./internal/codegen"),d=require("./internal/templates");const[r,t,o,s]=(0,e.defOp)(d.ADDM_N,e.ARGS_VVN);exports.addmN4=s,exports.addmN3=o,exports.addmN2=t,exports.addmN=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"NI1+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addN4=exports.addN3=exports.addN2=exports.addN=void 0;var e=require("./internal/codegen");const[d,r,t,o]=(0,e.defMathNOp)("+");exports.addN4=o,exports.addN3=t,exports.addN2=r,exports.addN=d;
},{"./internal/codegen":"S+w+"}],"D8Hb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addS4=exports.addS3=exports.addS2=void 0;var e=require("./internal/codegen"),d=require("./internal/templates");const[r,t,o]=(0,e.defOpS)((0,d.MATH)("+"));exports.addS4=o,exports.addS3=t,exports.addS2=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"X53p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setC=exports.setC6=exports.setC4=exports.setC3=exports.setC2=void 0;const t=(t,e,s)=>(!t&&(t=[]),t[0]=e,t[1]=s,t);exports.setC2=t;const e=(t,e,s,o)=>(!t&&(t=[]),t[0]=e,t[1]=s,t[2]=o,t);exports.setC3=e;const s=(t,e,s,o,r)=>(!t&&(t=[]),t[0]=e,t[1]=s,t[2]=o,t[3]=r,t);exports.setC4=s;const o=(t,e,s,o,r,p,x)=>(!t&&(t=[]),t[0]=e,t[1]=s,t[2]=o,t[3]=r,t[4]=p,t[5]=x,t);exports.setC6=o;const r=(t,...e)=>{!t&&(t=[]);for(let s=0,o=e.length;s<o;s++)t[s]=e[s];return t};exports.setC=r;
},{}],"uMUz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cross3=exports.cross2=void 0;var s=require("./setc");const e=(s,e)=>s[0]*e[1]-s[1]*e[0];exports.cross2=e;const r=(e,r,o)=>(0,s.setC3)(e||r,r[1]*o[2]-r[2]*o[1],r[2]*o[0]-r[0]*o[2],r[0]*o[1]-r[1]*o[0]);exports.cross3=r;
},{"./setc":"X53p"}],"jTd2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dot4=exports.dot3=exports.dot2=exports.dot=void 0;var e=require("./internal/codegen"),t=require("./internal/templates"),o=require("./internal/vop");const r=o=>s.add(o,(0,e.compile)(o,t.DOT,"a,b",void 0,null,"+","return ",";")),s=(0,o.vop)();exports.dot=s,s.default((0,e.compileG)(t.DOT_G,"a,b",void 0,"s","let s=0;"));const d=r(2);exports.dot2=d;const p=r(3);exports.dot3=p;const n=r(4);exports.dot4=n;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5","./internal/vop":"eeQp"}],"W4FD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.magSq4=exports.magSq3=exports.magSq2=exports.magSq=void 0;var e=require("./internal/codegen"),o=require("./internal/vop");const t=o=>r.add(o,(0,e.compile)(o,([e])=>`${e}*${e}`,"a","a",null,"+","return ",";")),r=(0,o.vop)();exports.magSq=r,r.default((0,e.compileG)(([e])=>`sum+=${e}*${e};`,"a",void 0,"sum","let sum=0;"));const s=t(2);exports.magSq2=s;const a=t(3);exports.magSq3=a;const p=t(4);exports.magSq4=p;
},{"./internal/codegen":"S+w+","./internal/vop":"eeQp"}],"Xmvg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mag=void 0;var e=require("./magsq");const r=r=>Math.sqrt((0,e.magSq)(r));exports.mag=r;
},{"./magsq":"W4FD"}],"rnk3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angleBetween3=exports.angleBetween2=exports.angleRatio=void 0;var e=require("@thi.ng/math"),t=require("./cross"),r=require("./dot"),n=require("./mag");const o=(e,t)=>(0,r.dot)(e,t)/((0,n.mag)(e)*(0,n.mag)(t));exports.angleRatio=o;const a=(n,o,a=!1)=>{const s=Math.atan2((0,t.cross2)(n,o),(0,r.dot)(n,o));return a?(0,e.absInnerAngle)(s):s};exports.angleBetween2=a;const s=(t,n,a=!0,s=!1)=>{const g=a?Math.acos(o(t,n)):Math.acos((0,r.dot)(t,n));return s?(0,e.absInnerAngle)(g):g};exports.angleBetween3=s;
},{"@thi.ng/math":"zoYr","./cross":"uMUz","./dot":"jTd2","./mag":"Xmvg"}],"CAUg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asin4=exports.asin3=exports.asin2=exports.asin=void 0;var e=require("./internal/codegen");const[s,r,t,n]=(0,e.defFnOp)("Math.asin");exports.asin4=n,exports.asin3=t,exports.asin2=r,exports.asin=s;
},{"./internal/codegen":"S+w+"}],"Iyyr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.heading=exports.headingYZ=exports.headingXZ=exports.headingXY=void 0;var e=require("@thi.ng/math");const t=t=>(0,e.atan2Abs)(t[1],t[0]);exports.headingXY=t;const s=t=>(0,e.atan2Abs)(t[2],t[0]);exports.headingXZ=s;const a=t=>(0,e.atan2Abs)(t[2],t[1]);exports.headingYZ=a;const n=t;exports.heading=n;
},{"@thi.ng/math":"zoYr"}],"zKNh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bisect2=void 0;var e=require("@thi.ng/math"),t=require("./heading");const r=(r,i)=>{const s=((0,t.headingXY)(r)+(0,t.headingXY)(i))/2;return s<=e.HALF_PI?s:e.PI-s};exports.bisect2=r;
},{"@thi.ng/math":"zoYr","./heading":"Iyyr"}],"BTg3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cartesian3=exports.cartesian2=exports.cartesian=void 0;var e=require("@thi.ng/math"),r=require("./api"),t=require("./internal/vop"),s=require("./maddn"),a=require("./setc");const i=Math.cos,n=Math.sin,o=(0,t.vop)(1);exports.cartesian=o;const c=o.add(2,(t,a,i=r.ZERO2)=>(0,s.maddN2)(t||a,i,(0,e.cossin)(a[1]),a[0]));exports.cartesian2=c;const d=o.add(3,(e,t,s=r.ZERO3)=>{const o=t[0],c=t[1],d=t[2],p=i(c);return(0,a.setC3)(e||t,o*p*i(d)+s[0],o*p*n(d)+s[1],o*n(c)+s[2])});exports.cartesian3=d;
},{"@thi.ng/math":"zoYr","./api":"ZvJB","./internal/vop":"eeQp","./maddn":"dVX3","./setc":"X53p"}],"j/me":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ceil4=exports.ceil3=exports.ceil2=exports.ceil=void 0;var e=require("./internal/codegen");const[r,t,i,o]=(0,e.defFnOp)("Math.ceil");exports.ceil4=o,exports.ceil3=i,exports.ceil2=t,exports.ceil=r;
},{"./internal/codegen":"S+w+"}],"Fiyc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp11_4=exports.clamp11_3=exports.clamp11_2=exports.clamp11=exports.clamp01_4=exports.clamp01_3=exports.clamp01_2=exports.clamp01=exports.clamp4=exports.clamp3=exports.clamp2=exports.clamp=void 0;var p=require("@thi.ng/math"),e=require("./internal/codegen"),t=require("./internal/templates");const[r,o,a,c]=(0,e.defHofOp)(p.clamp,t.HOF_VVV,e.ARGS_VVV);exports.clamp4=c,exports.clamp3=a,exports.clamp2=o,exports.clamp=r;const[l,s,m,x]=(0,e.defHofOp)(p.clamp01,t.HOF_VVV,e.ARGS_VVV);exports.clamp01_4=x,exports.clamp01_3=m,exports.clamp01_2=s,exports.clamp01=l;const[_,V,n,i]=(0,e.defHofOp)(p.clamp11,t.HOF_VVV,e.ARGS_VVV);exports.clamp11_4=i,exports.clamp11_3=n,exports.clamp11_2=V,exports.clamp11=_;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"1wX9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clampN4=exports.clampN3=exports.clampN2=exports.clampN=void 0;var e=require("@thi.ng/math"),p=require("./internal/codegen");const[o,r,t,a]=(0,p.defHofOp)(e.clamp,([e,p])=>`${e}=op(${p},n,m);`,"o,a,n,m","o,a");exports.clampN4=a,exports.clampN3=t,exports.clampN2=r,exports.clampN=o;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+"}],"06is":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.signedAreaC2=exports.signedArea2=void 0;const e=(e,s,r)=>{const t=e[0],o=e[1];return(s[0]-t)*(r[1]-o)-(r[0]-t)*(s[1]-o)};exports.signedArea2=e;const s=(e,s,r,t,o,n)=>(r-e)*(n-s)-(o-e)*(t-s);exports.signedAreaC2=s;
},{}],"f6+Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clockwise2=exports.corner2=void 0;var e=require("@thi.ng/math"),r=require("./signed-area");const s=(s,o,t,i=e.EPS)=>(0,e.sign)((0,r.signedArea2)(s,o,t),i);exports.corner2=s;const o=(r,o,t,i=e.EPS)=>s(r,o,t,i)<0;exports.clockwise2=o;
},{"@thi.ng/math":"zoYr","./signed-area":"06is"}],"6k1O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comparator4=exports.comparator3=exports.comparator2=void 0;const o=(o,r)=>(t,e)=>{const s=t[o],c=t[r],p=e[o],a=e[r];return s===p?c===a?0:c<a?-2:2:s<p?-1:1};exports.comparator2=o;const r=(o,r,t)=>(e,s)=>{const c=e[o],p=e[r],a=e[t],n=s[o],x=s[r],m=s[t];return c===n?p===x?a===m?0:a<m?-3:3:p<x?-2:2:c<n?-1:1};exports.comparator3=r;const t=(o,r,t,e)=>(s,c)=>{const p=s[o],a=s[r],n=s[t],x=c[e],m=c[o],u=c[r],d=c[t],i=c[e];return p===m?a===u?n===d?x===i?0:x<i?-4:4:n<d?-3:3:a<u?-2:2:p<m?-1:1};exports.comparator4=t;
},{}],"3xu6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.set4=exports.set3=exports.set2=exports.set=void 0;var e=require("./internal/codegen"),t=require("./internal/templates");const[s,r,o,p]=(0,e.defOp)(t.SET,"o,a",void 0,"o",1,e.NEW_OUT);exports.set4=p,exports.set3=o,exports.set2=r,exports.set=s;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"BZB6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.copyVectors=exports.copy=void 0;var e=require("@thi.ng/checks"),o=require("./set");const t=t=>(0,e.implementsFunction)(t,"copy")?t.copy():(0,o.set)([],t);exports.copy=t;const s=e=>e.map(t);exports.copyVectors=s;
},{"@thi.ng/checks":"XYpc","./set":"3xu6"}],"aIVm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cos4=exports.cos3=exports.cos2=exports.cos=void 0;var e=require("./internal/codegen");const[o,s,r,t]=(0,e.defFnOp)("Math.cos");exports.cos4=t,exports.cos3=r,exports.cos2=s,exports.cos=o;
},{"./internal/codegen":"S+w+"}],"uwH6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cosh4=exports.cosh3=exports.cosh2=exports.cosh=void 0;var e=require("./internal/codegen");const[o,s,r,t]=(0,e.defFnOp)("Math.cosh");exports.cosh4=t,exports.cosh3=r,exports.cosh2=s,exports.cosh=o;
},{"./internal/codegen":"S+w+"}],"G7nH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalize=void 0;var e=require("@thi.ng/math"),r=require("./mag"),t=require("./muln"),i=require("./set");const o=(o,s,u=1)=>{!o&&(o=s);const n=(0,r.mag)(s);return n>=e.EPS?(0,t.mulN)(o,s,u/n):o!==s?(0,i.set)(o,s):o};exports.normalize=o;
},{"@thi.ng/math":"zoYr","./mag":"Xmvg","./muln":"k0BP","./set":"3xu6"}],"bzGW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub4=exports.sub3=exports.sub2=exports.sub=void 0;var e=require("./internal/codegen");const[s,r,t,o]=(0,e.defMathOp)("-");exports.sub4=o,exports.sub3=t,exports.sub2=r,exports.sub=s;
},{"./internal/codegen":"S+w+"}],"i60u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.direction=void 0;var e=require("./normalize"),r=require("./sub");const i=(i,o,t,s=1)=>(0,e.normalize)(null,(0,r.sub)(i||o,t,o),s);exports.direction=i;
},{"./normalize":"G7nH","./sub":"bzGW"}],"yyMa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distSq4=exports.distSq3=exports.distSq2=exports.distSq=void 0;var t=require("./internal/codegen"),e=require("./internal/vop");const s=([t,e])=>`t=${t}-${e};s+=t*t;`,o="let t,s=0;",i=e=>r.add(e,(0,t.compile)(e,s,"a,b",void 0,"s","",o)),r=(0,e.vop)();exports.distSq=r,r.default((0,t.compileG)(s,"a,b",void 0,"s",o));const d=i(2);exports.distSq2=d;const p=i(3);exports.distSq3=p;const n=i(4);exports.distSq4=n;
},{"./internal/codegen":"S+w+","./internal/vop":"eeQp"}],"0UYw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dist=void 0;var t=require("./distsq");const e=(e,s)=>Math.sqrt((0,t.distSq)(e,s));exports.dist=e;
},{"./distsq":"yyMa"}],"44I8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distChebyshev4=exports.distChebyshev3=exports.distChebyshev2=exports.distChebyshev=void 0;var e=require("./internal/codegen"),t=require("./internal/vop");const s=t=>r.add(t,(0,e.compile)(t,([e,t])=>`Math.abs(${e}-${t})`,"a,b",void 0,null,",","return Math.max(",");")),r=(0,t.vop)();exports.distChebyshev=r,r.default((e,t)=>{let s=0;for(let r=e.length;--r>=0;)s=Math.max(s,Math.abs(e[r]-t[r]));return s});const o=s(2);exports.distChebyshev2=o;const h=s(3);exports.distChebyshev3=h;const i=s(4);exports.distChebyshev4=i;
},{"./internal/codegen":"S+w+","./internal/vop":"eeQp"}],"bG9K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distManhattan4=exports.distManhattan3=exports.distManhattan2=exports.distManhattan=void 0;var t=require("./internal/codegen"),a=require("./internal/vop");const e=a=>s.add(a,(0,t.compile)(a,([t,a])=>`Math.abs(${t}-${a})`,"a,b",void 0,null,"+","return ",";")),s=(0,a.vop)();exports.distManhattan=s,s.default((0,t.compileG)(([t,a])=>`sum+=Math.abs(${t}-${a});`,"a,b",void 0,"sum","let sum=0;"));const n=e(2);exports.distManhattan2=n;const o=e(3);exports.distManhattan3=o;const r=e(4);exports.distManhattan4=r;
},{"./internal/codegen":"S+w+","./internal/vop":"eeQp"}],"dc1e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.div4=exports.div3=exports.div2=exports.div=void 0;var e=require("./internal/codegen");const[r,t,o,d]=(0,e.defMathOp)("/");exports.div4=d,exports.div3=o,exports.div2=t,exports.div=r;
},{"./internal/codegen":"S+w+"}],"EHTY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.divN4=exports.divN3=exports.divN2=exports.divN=void 0;var e=require("./internal/codegen");const[r,t,o,d]=(0,e.defMathNOp)("/");exports.divN4=d,exports.divN3=o,exports.divN2=t,exports.divN=r;
},{"./internal/codegen":"S+w+"}],"pPiz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.divS4=exports.divS3=exports.divS2=void 0;var e=require("./internal/codegen"),r=require("./internal/templates");const[t,i,o]=(0,e.defOpS)((0,r.MATH)("/"));exports.divS4=o,exports.divS3=i,exports.divS2=t;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"ThCi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dotC8=exports.dotC6=exports.dotC4=void 0;const t=(t,o,e,s)=>t*o+e*s;exports.dotC4=t;const o=(t,o,e,s,r,d)=>t*o+e*s+r*d;exports.dotC6=o;const e=(t,o,e,s,r,d,p,x)=>t*o+e*s+r*d+p*x;exports.dotC8=e;
},{}],"+L5e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dotS4=exports.dotS3=exports.dotS2=void 0;var e=require("./internal/codegen"),t=require("./internal/templates");const o=o=>(0,e.compile)(o,t.DOT,`o,a,${e.SARGS_V}`,"o,a",null,"+","return ",";",!0),r=o(2);exports.dotS2=r;const s=o(3);exports.dotS3=s;const n=o(4);exports.dotS4=n;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"e512":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ones=exports.zeroes=exports.one=exports.zero=exports.setN4=exports.setN3=exports.setN2=exports.setN=void 0;var e=require("./internal/codegen"),s=require("./internal/templates");const[t,r,o,p]=(0,e.defOp)(s.SET_N,"a,n","a","a",0,"");exports.setN4=p,exports.setN3=o,exports.setN2=r,exports.setN=t;const n=e=>t(e,0);exports.zero=n;const x=e=>t(e,1);exports.one=x;const a=e=>new Array(e).fill(0);exports.zeroes=a;const i=e=>new Array(e).fill(1);exports.ones=i;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"Wyr6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.empty=void 0;var e=require("@thi.ng/checks"),t=require("./setn");const r=r=>(0,e.implementsFunction)(r,"empty")?r.empty():(0,t.zeroes)(r.length);exports.empty=r;
},{"@thi.ng/checks":"XYpc","./setn":"e512"}],"kFCl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exp4=exports.exp3=exports.exp2=exports.exp=void 0;var e=require("./internal/codegen");const[p,x,r,t]=(0,e.defFnOp)("Math.exp");exports.exp4=t,exports.exp3=r,exports.exp2=x,exports.exp=p;
},{"./internal/codegen":"S+w+"}],"YXrg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.faceForward=void 0;var e=require("./dot"),r=require("./muln"),t=require("./set");const o=(o,s,u,d)=>(!o&&(o=s),(0,e.dot)(d,u)<0?o!==s?(0,t.set)(o,s):o:(0,r.mulN)(o,s,-1));exports.faceForward=o;
},{"./dot":"jTd2","./muln":"k0BP","./set":"3xu6"}],"HN7h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fit11_4=exports.fit11_3=exports.fit11_2=exports.fit11=exports.fit01_4=exports.fit01_3=exports.fit01_2=exports.fit01=exports.fit4=exports.fit3=exports.fit2=exports.fit=void 0;var t=require("@thi.ng/math"),e=require("./internal/codegen"),r=require("./internal/templates");const[i,o,f,s]=(0,e.defHofOp)(t.fit,r.HOF_VVVVV,"o,a,b,c,d,e");exports.fit4=s,exports.fit3=f,exports.fit2=o,exports.fit=i;const[p,x,_,V]=(0,e.defHofOp)(t.fit01,r.HOF_VVV,e.ARGS_VVV);exports.fit01_4=V,exports.fit01_3=_,exports.fit01_2=x,exports.fit01=p;const[n,d,a,c]=(0,e.defHofOp)(t.fit11,r.HOF_VVV,e.ARGS_VVV);exports.fit11_4=c,exports.fit11_3=a,exports.fit11_2=d,exports.fit11=n;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"G1EY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.floor4=exports.floor3=exports.floor2=exports.floor=void 0;var o=require("./internal/codegen");const[r,e,t,s]=(0,o.defFnOp)("Math.floor");exports.floor4=s,exports.floor3=t,exports.floor2=e,exports.floor=r;
},{"./internal/codegen":"S+w+"}],"MW3o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fract4=exports.fract3=exports.fract2=exports.fract=void 0;var r=require("@thi.ng/math"),t=require("./internal/codegen");const[e,o,a,c]=(0,t.defHofOp)(r.fract);exports.fract4=c,exports.fract3=a,exports.fract2=o,exports.fract=e;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+"}],"tjhb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defonce=void 0;const e={},o=(o,t)=>e.hasOwnProperty(o)?e[o]:e[o]=t();exports.defonce=o;
},{}],"xD3w":[function(require,module,exports) {
"use strict";function e(e,t){return(...r)=>{let s;return t.has(r)?t.get(r):(t.set(r,s=e.apply(null,r)),s)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.memoize=e;
},{}],"I5IN":[function(require,module,exports) {
"use strict";function e(e,t){return!t&&(t=new Map),r=>{let s;return t.has(r)?t.get(r):(t.set(r,s=e(r)),s)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.memoize1=e;
},{}],"wG6U":[function(require,module,exports) {
"use strict";function e(e,t){return!t&&(t={}),(...n)=>{const r=JSON.stringify(n);return void 0!==r?r in t?t[r]:t[r]=e.apply(null,n):e.apply(null,n)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.memoizeJ=e;
},{}],"MIci":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./defonce");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./memoize");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./memoize1");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var o=require("./memoizej");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});
},{"./defonce":"tjhb","./memoize":"xD3w","./memoize1":"I5IN","./memoizej":"wG6U"}],"zNCs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gvec=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/memoize"),t=require("@thi.ng/transducers"),s=require("./eqdelta"),a=require("./internal/vec-utils"),n=require("./setn"),u=require("./sets");const i="buf",c="length",o="offset",l="stride",p="copy",g="copyView",m="empty",y="eqDelta",q="toString",h=new Set(["buf",p,g,"empty",y,c,o,l,q,Symbol.iterator]),S=(0,r.memoize1)(e=>[...(0,t.map)(String,(0,t.range)(e)),...h]),b=(r,t,i=0,m=1)=>new Proxy(r,{get(h,S){switch(S){case Symbol.iterator:return()=>(0,a.values)(h,t,i,m);case c:return t;case"buf":return r;case o:return i;case l:return m;case p:return()=>(0,u.setS)([],h,t,0,i,1,m);case g:return()=>b(h,t,i,m);case"empty":return()=>(0,n.zeroes)(t);case y:return(a,n=e.EPS)=>(0,s.eqDeltaS)(r,a,t,n,i,0,m,1);case q:return()=>JSON.stringify([...(0,a.values)(h,t,i,m)]);default:const v=parseInt(S);return!isNaN(v)&&v>=0&&v<t?h[i+v*m]:void 0}},set(e,r,s){const a=parseInt(r);if(!isNaN(a)&&a>=0&&a<t)e[i+(0|r)*m]=s;else switch(r){case o:i=s;break;case l:m=s;break;case c:t=s;break;default:return!1}return!0},has:(e,r)=>r>=0&&r<t||h.has(r),ownKeys:()=>S(t)});exports.gvec=b;
},{"@thi.ng/math":"zoYr","@thi.ng/memoize":"MIci","@thi.ng/transducers":"GbKR","./eqdelta":"Lgvf","./internal/vec-utils":"CPkP","./setn":"e512","./sets":"fOiY"}],"nMi0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.headingSegment=exports.headingSegmentYZ=exports.headingSegmentXZ=exports.headingSegmentXY=void 0;var e=require("@thi.ng/math");const t=(t,n)=>(0,e.atan2Abs)(n[1]-t[1],n[0]-t[0]);exports.headingSegmentXY=t;const n=(t,n)=>(0,e.atan2Abs)(n[2]-t[2],n[0]-t[0]);exports.headingSegmentXZ=n;const s=(t,n)=>(0,e.atan2Abs)(n[2]-t[2],n[1]-t[1]);exports.headingSegmentYZ=s;const a=t;exports.headingSegment=a;
},{"@thi.ng/math":"zoYr"}],"FwIj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromHomogeneous4=exports.fromHomogeneous3=exports.fromHomogeneous=void 0;var o=require("./internal/vop"),e=require("./setc");const r=(0,o.vop)(1);exports.fromHomogeneous=r;const s=r.add(3,(o,[r,s,t])=>(0,e.setC2)(o||[],r/t,s/t));exports.fromHomogeneous3=s;const t=r.add(4,(o,[r,s,t,m])=>(0,e.setC3)(o||[],r/m,s/m,t/m));exports.fromHomogeneous4=t;
},{"./internal/vop":"eeQp","./setc":"X53p"}],"sAi4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.invert4=exports.invert3=exports.invert2=exports.invert=void 0;var e=require("./internal/codegen");const[r,t,o,i]=(0,e.defOp)(([e,r])=>`${e}=1/${r};`);exports.invert4=i,exports.invert3=o,exports.invert2=t,exports.invert=r;
},{"./internal/codegen":"S+w+"}],"np5T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.invSqrt4=exports.invSqrt3=exports.invSqrt2=exports.invSqrt=void 0;var r=require("./internal/codegen");const[t,e,o,s]=(0,r.defOp)(([r,t])=>`${r}=1/Math.sqrt(${t});`);exports.invSqrt4=s,exports.invSqrt3=o,exports.invSqrt2=e,exports.invSqrt=t;
},{"./internal/codegen":"S+w+"}],"q2of":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randMinMax4=exports.randMinMax3=exports.randMinMax2=exports.randMinMax=exports.randNorm=exports.random4=exports.random3=exports.random2=exports.random=void 0;var r=require("@thi.ng/random"),n=require("./internal/codegen"),o=require("./normalize");const[e,a,d,x]=(0,n.defHofOp)(r.SYSTEM,([r])=>`${r}=rnd.minmax(n,m);`,"a,n=-1,m=1,rnd=op","a","a",0,"");exports.random4=x,exports.random3=d,exports.random2=a,exports.random=e;const t=(n,a=1,d=r.SYSTEM)=>(n=e(n,-1,1,d),(0,o.normalize)(n,n,a));exports.randNorm=t;const[s,p,i,M]=(0,n.defHofOp)(r.SYSTEM,([r,n,o])=>`${r}=rnd.minmax(${n},${o});`,"o,a,b,rnd=op","o,a,b");exports.randMinMax4=M,exports.randMinMax3=i,exports.randMinMax2=p,exports.randMinMax=s;
},{"@thi.ng/random":"C0Vh","./internal/codegen":"S+w+","./normalize":"G7nH"}],"XYsU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.jitter=void 0;var e=require("@thi.ng/random"),r=require("./add"),t=require("./random");const d=(d,o,i=1,a=e.SYSTEM)=>(0,r.add)(d,o,(0,t.randNorm)(new Array(o.length),i,a));exports.jitter=d;
},{"@thi.ng/random":"C0Vh","./add":"aN0U","./random":"q2of"}],"SOtV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.limit=void 0;var e=require("./mag"),r=require("./muln"),t=require("./set");const i=(i,s,u)=>{!i&&(i=s);const o=(0,e.mag)(s);return o>u?(0,r.mulN)(i,s,u/o):i!==s?(0,t.set)(i,s):i};exports.limit=i;
},{"./mag":"Xmvg","./muln":"k0BP","./set":"3xu6"}],"TZDl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.log4=exports.log3=exports.log2=exports.log=void 0;var e=require("./internal/codegen");const[o,r,t,s]=(0,e.defFnOp)("Math.log");exports.log4=s,exports.log3=t,exports.log2=r,exports.log=o;
},{"./internal/codegen":"S+w+"}],"naR0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.madd4=exports.madd3=exports.madd2=exports.madd=void 0;var e=require("./internal/codegen"),d=require("./internal/templates");const[r,t,o,s]=(0,e.defOp)(d.MADD,e.ARGS_VVV);exports.madd4=s,exports.madd3=o,exports.madd2=t,exports.madd=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"5p4I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.major4=exports.major3=exports.major2=exports.major=void 0;var r=require("@thi.ng/math"),o=require("./internal/vop");const e=Math.abs,t=(0,o.vop)();exports.major=t,t.default(r=>{let o,t=-1/0;for(let a=r.length;--a>=0;){const s=e(r[a]);s>t&&(t=s,o=a)}return o});const a=t.add(2,o=>(0,r.max2id)(e(o[0]),e(o[1])));exports.major2=a;const s=t.add(3,o=>(0,r.max3id)(e(o[0]),e(o[1]),e(o[2])));exports.major3=s;const d=t.add(4,o=>(0,r.max4id)(e(o[0]),e(o[1]),e(o[2]),e(o[3])));exports.major4=d;
},{"@thi.ng/math":"zoYr","./internal/vop":"eeQp"}],"yA2m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapVVN=exports.mapVVV=exports.mapVN=exports.mapV=exports.mapVV=void 0;const t=(t,e,s,r,f,o=e.length*e.stride,n=s.length*s.stride,p=r.length*r.stride)=>{for(;f-- >0;)t(e,s,r),e.offset+=o,s.offset+=n,r.offset+=p;return e.buf};exports.mapVV=t;const e=(t,e,s,r,f=e.length*e.stride,o=s.length*s.stride)=>{for(;r-- >0;)t(e,s),e.offset+=f,s.offset+=o;return e.buf};exports.mapV=e;const s=(t,e,s,r,f,o=e.length*e.stride,n=s.length*s.stride)=>{for(;f-- >0;)t(e,s,r),e.offset+=o,s.offset+=n;return e.buf};exports.mapVN=s;const r=(t,e,s,r,f,o,n=e.length*e.stride,p=s.length*s.stride,V=r.length*r.stride,d=f.length*f.stride)=>{for(;o-- >0;)t(e,s,r,f),e.offset+=n,s.offset+=p,r.offset+=V,f.offset+=d;return e.buf};exports.mapVVV=r;const f=(t,e,s,r,f,o,n=e.length*e.stride,p=s.length*s.stride,V=r.length*r.stride)=>{for(;o-- >0;)t(e,s,r,f),e.offset+=n,s.offset+=p,r.offset+=V;return e.buf};exports.mapVVN=f;
},{}],"fvQy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.max4=exports.max3=exports.max2=exports.max=void 0;var e=require("./internal/codegen"),r=require("./internal/templates");const[t,x,a,o]=(0,e.defOp)((0,r.FN2)("Math.max"));exports.max4=o,exports.max3=a,exports.max2=x,exports.max=t;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"NFZy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.min4=exports.min3=exports.min2=exports.min=void 0;var e=require("./internal/codegen"),r=require("./internal/templates");const[t,i,n,o]=(0,e.defOp)((0,r.FN2)("Math.min"));exports.min4=o,exports.min3=n,exports.min2=i,exports.min=t;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"K+LJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minor4=exports.minor3=exports.minor2=exports.minor=void 0;var r=require("@thi.ng/math"),o=require("./internal/vop");const e=Math.abs,t=(0,o.vop)();exports.minor=t,t.default(r=>{let o,t=1/0;for(let n=r.length;--n>=0;){const i=e(r[n]);i<t&&(t=i,o=n)}return o});const n=t.add(2,o=>(0,r.min2id)(e(o[0]),e(o[1])));exports.minor2=n;const i=t.add(3,o=>(0,r.min3id)(e(o[0]),e(o[1]),e(o[2])));exports.minor3=i;const s=t.add(4,o=>(0,r.min4id)(e(o[0]),e(o[1]),e(o[2]),e(o[3])));exports.minor4=s;
},{"@thi.ng/math":"zoYr","./internal/vop":"eeQp"}],"CU3+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixBilinear4=exports.mixBilinear3=exports.mixBilinear2=exports.mixBilinear=void 0;var e=require("@thi.ng/math"),i=require("./internal/codegen");const[r,x,o,t]=(0,i.defHofOp)(e.mixBilinear,([e,i,r,x,o])=>`${e}=op(${i},${r},${x},${o},u,v);`,"o,a,b,c,d,u,v");exports.mixBilinear4=t,exports.mixBilinear3=o,exports.mixBilinear2=x,exports.mixBilinear=r;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+"}],"hXGj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixCubic=void 0;var e=require("./addw");const r=(r,t,i,o,s,d)=>{const u=1-d,c=u*u,x=d*d;return(0,e.addW4)(r,t,i,o,s,c*u,3*c*d,3*x*u,x*d)};exports.mixCubic=r;
},{"./addw":"ciVu"}],"nucQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixQuadratic=void 0;var e=require("./addw");const r=(r,t,d,a,i)=>{const o=1-i;return(0,e.addW3)(r,t,d,a,o*o,2*o*i,i*i)};exports.mixQuadratic=r;
},{"./addw":"ciVu"}],"+HVO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mix4=exports.mix3=exports.mix2=exports.mix=void 0;var e=require("./internal/codegen"),r=require("./internal/templates");const[t,x,i,o]=(0,e.defOp)(r.MIX,e.ARGS_VVV);exports.mix4=o,exports.mix3=i,exports.mix2=x,exports.mix=t;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"KCu5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixN4=exports.mixN3=exports.mixN2=exports.mixN=void 0;var e=require("./internal/codegen"),r=require("./internal/templates");const[t,x,i,o]=(0,e.defOp)(r.MIX_N,e.ARGS_VVN);exports.mixN4=o,exports.mixN3=i,exports.mixN2=x,exports.mixN=t;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"mSID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mod4=exports.mod3=exports.mod2=exports.mod=void 0;var e=require("./internal/codegen");const[o,r,t,d]=(0,e.defMathOp)("%");exports.mod4=d,exports.mod3=t,exports.mod2=r,exports.mod=o;
},{"./internal/codegen":"S+w+"}],"AMlT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modN4=exports.modN3=exports.modN2=exports.modN=void 0;var e=require("./internal/codegen");const[o,r,t,d]=(0,e.defMathNOp)("%");exports.modN4=d,exports.modN3=t,exports.modN2=r,exports.modN=o;
},{"./internal/codegen":"S+w+"}],"s5xT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mul4=exports.mul3=exports.mul2=exports.mul=void 0;var e=require("./internal/codegen");const[r,t,o,s]=(0,e.defMathOp)("*");exports.mul4=s,exports.mul3=o,exports.mul2=t,exports.mul=r;
},{"./internal/codegen":"S+w+"}],"mm16":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mulS4=exports.mulS3=exports.mulS2=void 0;var e=require("./internal/codegen"),r=require("./internal/templates");const[t,o,s]=(0,e.defOpS)((0,r.MATH)("*"));exports.mulS4=s,exports.mulS3=o,exports.mulS2=t;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"VmVd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.neg=void 0;var e=require("./muln");const r=(r,t)=>(0,e.mulN)(r,t,-1);exports.neg=r;
},{"./muln":"k0BP"}],"XarN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.perpendicularRight2=exports.perpendicularLeft2=void 0;var e=require("./setc");const r=(r,t)=>(0,e.setC2)(r||t,-t[1],t[0]);exports.perpendicularLeft2=r;const t=(r,t)=>(0,e.setC2)(r||t,t[1],-t[0]);exports.perpendicularRight2=t;
},{"./setc":"X53p"}],"10Xx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalRight2=exports.normalLeft2=void 0;var e=require("./direction"),r=require("./perpendicular");const t=(t,i,o,n=1)=>(0,r.perpendicularLeft2)(null,(0,e.direction)(t||[],i,o,n));exports.normalLeft2=t;const i=(t,i,o,n=1)=>(0,r.perpendicularRight2)(null,(0,e.direction)(t||[],i,o,n));exports.normalRight2=i;
},{"./direction":"i60u","./perpendicular":"XarN"}],"A3Bi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.orthoNormal3=void 0;var r=require("./cross"),e=require("./sub"),o=require("./normalize");const s=(s,t,u,i,l=!0)=>(s=(0,r.cross3)(null,(0,e.sub3)(s||t,u,t),(0,e.sub3)([],i,t)),l?(0,o.normalize)(s,s):s);exports.orthoNormal3=s;
},{"./cross":"uMUz","./sub":"bzGW","./normalize":"G7nH"}],"u6q+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.polar3=exports.polar2=exports.polar=void 0;var r=require("./internal/vop"),e=require("./mag"),t=require("./setc");const o=Math.sqrt,a=Math.asin,s=Math.atan2,p=(0,r.vop)(1);exports.polar=p;const n=p.add(2,(r,o)=>(0,t.setC2)(r||o,(0,e.mag)(o),s(o[1],o[0])));exports.polar2=n;const l=p.add(3,(r,e)=>{const p=e[0],n=e[1],l=e[2],i=o(p*p+n*n+l*l);return(0,t.setC3)(r||e,i,a(l/i),s(n,p))});exports.polar3=l;
},{"./internal/vop":"eeQp","./mag":"Xmvg","./setc":"X53p"}],"4H2U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pow4=exports.pow3=exports.pow2=exports.pow=void 0;var e=require("./internal/codegen"),o=require("./internal/templates");const[p,r,t,s]=(0,e.defOp)((0,o.FN2)("Math.pow"));exports.pow4=s,exports.pow3=t,exports.pow2=r,exports.pow=p;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"tU1p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.powN4=exports.powN3=exports.powN2=exports.powN=void 0;var e=require("./internal/codegen"),o=require("./internal/templates");const[p,r,t,s]=(0,e.defOp)((0,o.FN_N)("Math.pow"),e.ARGS_VN);exports.powN4=s,exports.powN3=t,exports.powN2=r,exports.powN=p;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"pi/d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.project=void 0;var e=require("./dot"),r=require("./magsq"),t=require("./muln");const o=(o,s,u)=>(0,t.mulN)(o||s,u,(0,e.dot)(s,u)/(0,r.magSq)(u));exports.project=o;
},{"./dot":"jTd2","./magsq":"W4FD","./muln":"k0BP"}],"SzSA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reflect=void 0;var e=require("./dot"),r=require("./maddn");const t=(t,d,o)=>(0,r.maddN)(t,d,o,-2*(0,e.dot)(d,o));exports.reflect=t;
},{"./dot":"jTd2","./maddn":"dVX3"}],"0AFc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.refract=void 0;var e=require("./dot"),r=require("./maddn"),t=require("./muln"),o=require("./setn");const s=(s,u,d,a)=>{!s&&(s=u);const i=(0,e.dot)(u,d),n=1-a*a*(1-i*i);return n<0?(0,o.zero)(s):(0,r.maddN)(s,(0,t.mulN)(s,u,a),d,-(a*i+Math.sqrt(n)))};exports.refract=s;
},{"./dot":"jTd2","./maddn":"dVX3","./muln":"k0BP","./setn":"e512"}],"/e0J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateAroundAxis3=void 0;var e=require("./setc");const t=(t,r,s,o)=>{const i=r[0],n=r[1],u=r[2],a=s[0],c=s[1],d=s[2],x=a*i,p=a*n,A=a*u,v=c*i,M=c*n,h=c*u,l=d*i,_=d*n,b=d*u,f=x+M+b,j=Math.sin(o),q=Math.cos(o);return(0,e.setC3)(t||r,a*f+(i*(c*c+d*d)-a*(M+b))*q+(-_+h)*j,c*f+(n*(a*a+d*d)-c*(x+b))*q+(l-A)*j,d*f+(u*(a*a+c*c)-d*(x+M))*q+(-v+p)*j)};exports.rotateAroundAxis3=t;
},{"./setc":"X53p"}],"ecJJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateAroundPoint2=void 0;var t=require("./setc");const e=(e,o,r,s)=>{const n=o[0]-r[0],i=o[1]-r[1],u=Math.sin(s),a=Math.cos(s);return(0,t.setC2)(e||o,n*a-i*u+r[0],n*u+i*a+r[1])};exports.rotateAroundPoint2=e;
},{"./setc":"X53p"}],"V/yX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateZ=exports.rotateY=exports.rotateX=void 0;var t=require("./set");const e=(e,o)=>(r,s,a)=>{r?r!==s&&(0,t.set)(r,s):r=s;const p=Math.sin(a),c=Math.cos(a),n=s[e],x=s[o];return r[e]=n*c-x*p,r[o]=n*p+x*c,r},o=e(1,2);exports.rotateX=o;const r=e(2,0);exports.rotateY=r;const s=e(0,1);exports.rotateZ=s;
},{"./set":"3xu6"}],"XyuN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.round4=exports.round3=exports.round2=exports.round=void 0;var e=require("@thi.ng/math"),r=require("./internal/codegen"),o=require("./internal/templates");const[t,n,u,d]=(0,r.defHofOp)(e.roundTo,(0,o.FN_N)("op"),"o,a,n=1","o,a");exports.round4=d,exports.round3=u,exports.round2=n,exports.round=t;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"RR/A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setSN4=exports.setSN3=exports.setSN2=void 0;var e=require("./internal/codegen"),t=require("./internal/templates");const[s,o,r]=(0,e.defOpS)(t.SET_N,"o,n,io=0,so=1","o","o","");exports.setSN4=r,exports.setSN3=o,exports.setSN2=s;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"FqON":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sign4=exports.sign3=exports.sign2=exports.sign=void 0;var e=require("./internal/codegen");const[s,r,t,n]=(0,e.defFnOp)("Math.sign");exports.sign4=n,exports.sign3=t,exports.sign2=r,exports.sign=s;
},{"./internal/codegen":"S+w+"}],"3kd4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sin4=exports.sin3=exports.sin2=exports.sin=void 0;var e=require("./internal/codegen");const[s,r,t,n]=(0,e.defFnOp)("Math.sin");exports.sin4=n,exports.sin3=t,exports.sin2=r,exports.sin=s;
},{"./internal/codegen":"S+w+"}],"+6vu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sinh4=exports.sinh3=exports.sinh2=exports.sinh=void 0;var e=require("./internal/codegen");const[s,r,t,n]=(0,e.defFnOp)("Math.sinh");exports.sinh4=n,exports.sinh3=t,exports.sinh2=r,exports.sinh=s;
},{"./internal/codegen":"S+w+"}],"6rhW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sqrt4=exports.sqrt3=exports.sqrt2=exports.sqrt=void 0;var r=require("./internal/codegen");const[t,e,s,o]=(0,r.defFnOp)("Math.sqrt");exports.sqrt4=o,exports.sqrt3=s,exports.sqrt2=e,exports.sqrt=t;
},{"./internal/codegen":"S+w+"}],"ZvJS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.step4=exports.step3=exports.step2=exports.step=void 0;var e=require("@thi.ng/math"),t=require("./internal/codegen"),s=require("./internal/templates");const[p,r,o,i]=(0,t.defHofOp)(e.step,(0,s.FN2)("op"),"o,e,a",void 0,"o",2,t.DEFAULT_OUT);exports.step4=i,exports.step3=o,exports.step2=r,exports.step=p;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"nkRa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.smoothStep4=exports.smoothStep3=exports.smoothStep2=exports.smoothStep=void 0;var e=require("@thi.ng/math"),t=require("./internal/codegen"),o=require("./internal/templates");const[s,p,r,h]=(0,t.defHofOp)(e.smoothStep,o.HOF_VVV,"o,e1,e2,a",void 0,"o",3,t.DEFAULT_OUT);exports.smoothStep4=h,exports.smoothStep3=r,exports.smoothStep2=p,exports.smoothStep=s;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"YMwo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subm4=exports.subm3=exports.subm2=exports.subm=void 0;var e=require("./internal/codegen"),s=require("./internal/templates");const[r,t,o,u]=(0,e.defOp)(s.SUBM,e.ARGS_VVV);exports.subm4=u,exports.subm3=o,exports.subm2=t,exports.subm=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"FZRI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.submN4=exports.submN3=exports.submN2=exports.submN=void 0;var e=require("./internal/codegen"),s=require("./internal/templates");const[r,t,o,u]=(0,e.defOp)(s.SUBM_N,e.ARGS_VVN);exports.submN4=u,exports.submN3=o,exports.submN2=t,exports.submN=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"b/NK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subN4=exports.subN3=exports.subN2=exports.subN=void 0;var e=require("./internal/codegen");const[s,r,t,o]=(0,e.defMathNOp)("-");exports.subN4=o,exports.subN3=t,exports.subN2=r,exports.subN=s;
},{"./internal/codegen":"S+w+"}],"9OIe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subS4=exports.subS3=exports.subS2=void 0;var e=require("./internal/codegen"),s=require("./internal/templates");const[r,t,o]=(0,e.defOpS)((0,s.MATH)("-"));exports.subS4=o,exports.subS3=t,exports.subS2=r;
},{"./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"2sHJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sum4=exports.sum3=exports.sum2=exports.sum=void 0;var e=require("@thi.ng/transducers"),s=require("./internal/vop");const r=(0,s.vop)(0);exports.sum=r,r.default(s=>(0,e.reduce)((0,e.add)(),s));const t=r.add(2,e=>e[0]+e[1]);exports.sum2=t;const o=r.add(3,e=>e[0]+e[1]+e[2]);exports.sum3=o;const u=r.add(4,e=>e[0]+e[1]+e[2]+e[3]);exports.sum4=u;
},{"@thi.ng/transducers":"GbKR","./internal/vop":"eeQp"}],"LgYR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swapYZ=exports.swapXZ=exports.swapXY=exports.swizzle4=exports.swizzle3=exports.swizzle2=void 0;var s=require("./setc");const e=(e,t,o,p)=>(0,s.setC2)(e||t,t[o]||0,t[p]||0);exports.swizzle2=e;const t=(e,t,o,p,r)=>(0,s.setC3)(e||t,t[o]||0,t[p]||0,t[r]||0);exports.swizzle3=t;const o=(e,t,o,p,r,x)=>(0,s.setC4)(e||t,t[o]||0,t[p]||0,t[r]||0,t[x]||0);exports.swizzle4=o;const p=(s,e)=>t(s,e,1,0,2);exports.swapXY=p;const r=(s,e)=>t(s,e,2,1,0);exports.swapXZ=r;const x=(s,e)=>t(s,e,0,2,1);exports.swapYZ=x;
},{"./setc":"X53p"}],"RInP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tan4=exports.tan3=exports.tan2=exports.tan=void 0;var t=require("./internal/codegen");const[e,r,n,o]=(0,t.defFnOp)("Math.tan");exports.tan4=o,exports.tan3=n,exports.tan2=r,exports.tan=e;
},{"./internal/codegen":"S+w+"}],"nbwb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tanh4=exports.tanh3=exports.tanh2=exports.tanh=void 0;var t=require("./internal/codegen");const[e,r,n,o]=(0,t.defFnOp)("Math.tanh");exports.tanh4=o,exports.tanh3=n,exports.tanh2=r,exports.tanh=e;
},{"./internal/codegen":"S+w+"}],"U+We":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trunc4=exports.trunc3=exports.trunc2=exports.trunc=void 0;var r=require("./internal/codegen");const[t,e,n,o]=(0,r.defFnOp)("Math.trunc");exports.trunc4=o,exports.trunc3=n,exports.trunc2=e,exports.trunc=t;
},{"./internal/codegen":"S+w+"}],"6p2C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrap4=exports.wrap3=exports.wrap2=exports.wrap=void 0;var e=require("@thi.ng/math"),r=require("./internal/codegen"),p=require("./internal/templates");const[t,a,o,s]=(0,r.defHofOp)(e.wrap,p.HOF_VVV,r.ARGS_VVV);exports.wrap4=s,exports.wrap3=o,exports.wrap2=a,exports.wrap=t;
},{"@thi.ng/math":"zoYr","./internal/codegen":"S+w+","./internal/templates":"aKZ5"}],"n72+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./internal/accessors");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./internal/avec");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./internal/codegen");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./internal/templates");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./internal/vec-utils");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./internal/vop");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./vec2");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./vec3");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./vec4");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./abs");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var d=require("./acos");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var l=require("./addw");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var b=require("./add");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./addm");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var j=require("./addmn");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var y=require("./addn");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var _=require("./adds");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./angle-between");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./asin");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var v=require("./bisect");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var g=require("./cartesian");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var h=require("./ceil");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var x=require("./clamp");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var q=require("./clampn");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var k=require("./clockwise");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var M=require("./compare");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./copy");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var E=require("./cos");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./cosh");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./cross");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var A=require("./direction");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./dist");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./dist-chebyshev");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./dist-manhattan");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./distsq");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./div");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./divn");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./divs");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./dot");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./dotc");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./dots");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./empty");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./eqdelta");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./exp");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./face-forward");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./fit");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./floor");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});var V=require("./fract");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}})});var W=require("./gvec");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}})});var X=require("./heading");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}})});var Y=require("./heading-segment");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}})});var Z=require("./homogeneous");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}})});var $=require("./invert");Object.keys($).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $[e]}})});var ee=require("./invsqrt");Object.keys(ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ee[e]}})});var re=require("./jitter");Object.keys(re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return re[e]}})});var te=require("./limit");Object.keys(te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return te[e]}})});var ne=require("./log");Object.keys(ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ne[e]}})});var ue=require("./madd");Object.keys(ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ue[e]}})});var oe=require("./maddn");Object.keys(oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return oe[e]}})});var ce=require("./mag");Object.keys(ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ce[e]}})});var fe=require("./magsq");Object.keys(fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fe[e]}})});var ae=require("./major");Object.keys(ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ae[e]}})});var ie=require("./map");Object.keys(ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ie[e]}})});var se=require("./max");Object.keys(se).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return se[e]}})});var de=require("./min");Object.keys(de).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return de[e]}})});var le=require("./minor");Object.keys(le).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return le[e]}})});var be=require("./mix-bilinear");Object.keys(be).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return be[e]}})});var pe=require("./mix-cubic");Object.keys(pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return pe[e]}})});var je=require("./mix-quadratic");Object.keys(je).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return je[e]}})});var ye=require("./mix");Object.keys(ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ye[e]}})});var _e=require("./mixn");Object.keys(_e).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _e[e]}})});var Oe=require("./mod");Object.keys(Oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Oe[e]}})});var me=require("./modn");Object.keys(me).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return me[e]}})});var ve=require("./mul");Object.keys(ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ve[e]}})});var ge=require("./muln");Object.keys(ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ge[e]}})});var he=require("./muls");Object.keys(he).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return he[e]}})});var xe=require("./neg");Object.keys(xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return xe[e]}})});var qe=require("./normal");Object.keys(qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return qe[e]}})});var ke=require("./normalize");Object.keys(ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ke[e]}})});var Me=require("./ortho-normal");Object.keys(Me).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Me[e]}})});var Pe=require("./perpendicular");Object.keys(Pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Pe[e]}})});var Ee=require("./polar");Object.keys(Ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ee[e]}})});var we=require("./pow");Object.keys(we).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return we[e]}})});var ze=require("./pown");Object.keys(ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ze[e]}})});var Ae=require("./project");Object.keys(Ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ae[e]}})});var Be=require("./random");Object.keys(Be).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Be[e]}})});var Ce=require("./reflect");Object.keys(Ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ce[e]}})});var De=require("./refract");Object.keys(De).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return De[e]}})});var Fe=require("./rotate-around-axis");Object.keys(Fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Fe[e]}})});var Ge=require("./rotate-around-point");Object.keys(Ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ge[e]}})});var He=require("./rotate");Object.keys(He).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return He[e]}})});var Ie=require("./round");Object.keys(Ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ie[e]}})});var Je=require("./set");Object.keys(Je).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Je[e]}})});var Ke=require("./setc");Object.keys(Ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ke[e]}})});var Le=require("./setn");Object.keys(Le).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Le[e]}})});var Ne=require("./sets");Object.keys(Ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ne[e]}})});var Qe=require("./setsn");Object.keys(Qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Qe[e]}})});var Re=require("./sign");Object.keys(Re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Re[e]}})});var Se=require("./signed-area");Object.keys(Se).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Se[e]}})});var Te=require("./sin");Object.keys(Te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Te[e]}})});var Ue=require("./sinh");Object.keys(Ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ue[e]}})});var Ve=require("./sqrt");Object.keys(Ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ve[e]}})});var We=require("./step");Object.keys(We).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return We[e]}})});var Xe=require("./smoothstep");Object.keys(Xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Xe[e]}})});var Ye=require("./sub");Object.keys(Ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ye[e]}})});var Ze=require("./subm");Object.keys(Ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ze[e]}})});var $e=require("./submn");Object.keys($e).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $e[e]}})});var er=require("./subn");Object.keys(er).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return er[e]}})});var rr=require("./subs");Object.keys(rr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return rr[e]}})});var tr=require("./sum");Object.keys(tr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return tr[e]}})});var nr=require("./swizzle");Object.keys(nr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return nr[e]}})});var ur=require("./tan");Object.keys(ur).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ur[e]}})});var or=require("./tanh");Object.keys(or).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return or[e]}})});var cr=require("./trunc");Object.keys(cr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return cr[e]}})});var fr=require("./wrap");Object.keys(fr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fr[e]}})});
},{"./api":"ZvJB","./internal/accessors":"1pGx","./internal/avec":"xqhi","./internal/codegen":"S+w+","./internal/templates":"aKZ5","./internal/vec-utils":"CPkP","./internal/vop":"eeQp","./vec2":"oJI8","./vec3":"K9zr","./vec4":"Lylz","./abs":"Q12s","./acos":"ROWB","./addw":"ciVu","./add":"aN0U","./addm":"BABU","./addmn":"KqXl","./addn":"NI1+","./adds":"D8Hb","./angle-between":"rnk3","./asin":"CAUg","./bisect":"zKNh","./cartesian":"BTg3","./ceil":"j/me","./clamp":"Fiyc","./clampn":"1wX9","./clockwise":"f6+Y","./compare":"6k1O","./copy":"BZB6","./cos":"aIVm","./cosh":"uwH6","./cross":"uMUz","./direction":"i60u","./dist":"0UYw","./dist-chebyshev":"44I8","./dist-manhattan":"bG9K","./distsq":"yyMa","./div":"dc1e","./divn":"EHTY","./divs":"pPiz","./dot":"jTd2","./dotc":"ThCi","./dots":"+L5e","./empty":"Wyr6","./eqdelta":"Lgvf","./exp":"kFCl","./face-forward":"YXrg","./fit":"HN7h","./floor":"G1EY","./fract":"MW3o","./gvec":"zNCs","./heading":"Iyyr","./heading-segment":"nMi0","./homogeneous":"FwIj","./invert":"sAi4","./invsqrt":"np5T","./jitter":"XYsU","./limit":"SOtV","./log":"TZDl","./madd":"naR0","./maddn":"dVX3","./mag":"Xmvg","./magsq":"W4FD","./major":"5p4I","./map":"yA2m","./max":"fvQy","./min":"NFZy","./minor":"K+LJ","./mix-bilinear":"CU3+","./mix-cubic":"hXGj","./mix-quadratic":"nucQ","./mix":"+HVO","./mixn":"KCu5","./mod":"mSID","./modn":"AMlT","./mul":"s5xT","./muln":"k0BP","./muls":"mm16","./neg":"VmVd","./normal":"10Xx","./normalize":"G7nH","./ortho-normal":"A3Bi","./perpendicular":"XarN","./polar":"u6q+","./pow":"4H2U","./pown":"tU1p","./project":"pi/d","./random":"q2of","./reflect":"SzSA","./refract":"0AFc","./rotate-around-axis":"/e0J","./rotate-around-point":"ecJJ","./rotate":"V/yX","./round":"XyuN","./set":"3xu6","./setc":"X53p","./setn":"e512","./sets":"fOiY","./setsn":"RR/A","./sign":"FqON","./signed-area":"06is","./sin":"3kd4","./sinh":"+6vu","./sqrt":"6rhW","./step":"ZvJS","./smoothstep":"nkRa","./sub":"bzGW","./subm":"YMwo","./submn":"FZRI","./subn":"b/NK","./subs":"9OIe","./sum":"2sHJ","./swizzle":"LgYR","./tan":"RInP","./tanh":"nbwb","./trunc":"U+We","./wrap":"6p2C"}],"BxX9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IDENT44=exports.IDENT33=exports.IDENT23=exports.IDENT22=void 0;const e=Object.freeze([1,0,0,1]);exports.IDENT22=e;const t=Object.freeze([1,0,0,1,0,0]);exports.IDENT23=t;const o=Object.freeze([1,0,0,0,1,0,0,0,1]);exports.IDENT33=o;const r=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);exports.IDENT44=r;
},{}],"7vIK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defMathN=exports.defMath=void 0;var e=require("@thi.ng/vectors");const o=[6,9,16],t=(t,d,r=o)=>r.map(o=>t.add(o,(0,e.compile)(o,(0,e.MATH)(d),e.ARGS_VV,void 0,"o","",e.DEFAULT_OUT)));exports.defMath=t;const d=(t,d,r=o)=>r.map(o=>t.add(o,(0,e.compile)(o,(0,e.MATH_N)(d),e.ARGS_VN,"o,a","o","",e.DEFAULT_OUT)));exports.defMathN=d;
},{"@thi.ng/vectors":"n72+"}],"L8Ue":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add44=exports.add33=exports.add23=exports.add22=exports.add=void 0;var d=require("@thi.ng/vectors"),e=require("./internal/codegen");const t=d.add;exports.add=t;const r=d.add4;exports.add22=r;const[o,s,a]=(0,e.defMath)(t,"+");exports.add44=a,exports.add33=s,exports.add23=o;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"gWIx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addN44=exports.addN33=exports.addN23=exports.addN22=exports.addN=void 0;var d=require("@thi.ng/vectors"),e=require("./internal/codegen");const t=d.addN;exports.addN=t;const r=d.addN4;exports.addN22=r;const[o,s,a]=(0,e.defMathN)(t,"+");exports.addN44=a,exports.addN33=s,exports.addN23=o;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"4BgS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quatToAxisAngle=exports.quatFromAxisAngle=void 0;var t=require("@thi.ng/math"),e=require("@thi.ng/vectors");const r=(t,r)=>(r/=2,(0,e.normalize)([0,0,0,Math.cos(r)],t,Math.sin(r)));exports.quatFromAxisAngle=r;const o=r=>{const o=(0,e.normalize)([],r),s=o[3],a=Math.sqrt(1-s*s),i=2*Math.acos(s);return a>t.EPS?[[o[0]/a,o[1]/a,o[2]/a],i]:[[o[0],o[1],o[2]],i]};exports.quatToAxisAngle=o;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"LpRH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.alignmentQuat=void 0;var e=require("@thi.ng/vectors"),t=require("./quat-axis-angle");const r=(r,a,n=!0)=>{n&&(r=(0,e.normalize)([],r),a=(0,e.normalize)([],a));const o=(0,e.cross3)([],r,a);return(0,t.quatFromAxisAngle)(o,Math.atan2((0,e.mag)(o),(0,e.dot3)(r,a)))};exports.alignmentQuat=r;
},{"@thi.ng/vectors":"n72+","./quat-axis-angle":"4BgS"}],"tgDc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.column44=exports.column33=exports.column23=exports.column22=exports.column=void 0;var o=require("@thi.ng/vectors");const e=(0,o.vop)(1);exports.column=e;const t=e.add(4,(e,t,s)=>(0,o.setS2)(e,t,0,2*s));exports.column22=t;const s=e.add(6,t);exports.column23=s;const c=e.add(9,(e,t,s)=>(0,o.setS3)(e,t,0,3*s));exports.column33=c;const r=e.add(16,(e,t,s)=>(0,o.setS4)(e,t,0,4*s));exports.column44=r;
},{"@thi.ng/vectors":"n72+"}],"gAIf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mulM44=exports.mulM33=exports.mulM23=exports.mulM22=exports.mulM=void 0;var t=require("@thi.ng/vectors");const o=(0,t.vop)(1);exports.mulM=o;const d=o.add(4,(o,d,S)=>(0,t.setC4)(o||d,(0,t.dotS2)(d,S,0,0,2),(0,t.dotS2)(d,S,1,0,2),(0,t.dotS2)(d,S,0,2,2),(0,t.dotS2)(d,S,1,2,2)));exports.mulM22=d;const S=o.add(6,(o,d,S)=>(0,t.setC6)(o||d,(0,t.dotS2)(d,S,0,0,2),(0,t.dotS2)(d,S,1,0,2),(0,t.dotS2)(d,S,0,2,2),(0,t.dotS2)(d,S,1,2,2),(0,t.dotS2)(d,S,0,4,2)+d[4],(0,t.dotS2)(d,S,1,4,2)+d[5]));exports.mulM23=S;const e=o.add(9,(o,d,S)=>(0,t.setC)(o||d,(0,t.dotS3)(d,S,0,0,3),(0,t.dotS3)(d,S,1,0,3),(0,t.dotS3)(d,S,2,0,3),(0,t.dotS3)(d,S,0,3,3),(0,t.dotS3)(d,S,1,3,3),(0,t.dotS3)(d,S,2,3,3),(0,t.dotS3)(d,S,0,6,3),(0,t.dotS3)(d,S,1,6,3),(0,t.dotS3)(d,S,2,6,3)));exports.mulM33=e;const s=o.add(16,(o,d,S)=>(0,t.setC)(o||d,(0,t.dotS4)(d,S,0,0,4),(0,t.dotS4)(d,S,1,0,4),(0,t.dotS4)(d,S,2,0,4),(0,t.dotS4)(d,S,3,0,4),(0,t.dotS4)(d,S,0,4,4),(0,t.dotS4)(d,S,1,4,4),(0,t.dotS4)(d,S,2,4,4),(0,t.dotS4)(d,S,3,4,4),(0,t.dotS4)(d,S,0,8,4),(0,t.dotS4)(d,S,1,8,4),(0,t.dotS4)(d,S,2,8,4),(0,t.dotS4)(d,S,3,8,4),(0,t.dotS4)(d,S,0,12,4),(0,t.dotS4)(d,S,1,12,4),(0,t.dotS4)(d,S,2,12,4),(0,t.dotS4)(d,S,3,12,4)));exports.mulM44=s;
},{"@thi.ng/vectors":"n72+"}],"rBDt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=void 0;var e=require("./mulm");const r=(r,t,o,...c)=>c.reduce((r,t)=>(0,e.mulM)(r,r,t),(0,e.mulM)(r,t,o));exports.concat=r;
},{"./mulm":"gAIf"}],"bOvO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conjugateQ=void 0;var e=require("@thi.ng/vectors");const t=(t,o)=>(0,e.setC4)(t||o,-o[0],-o[1],-o[2],o[3]);exports.conjugateQ=t;
},{"@thi.ng/vectors":"n72+"}],"LSyT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.det44=exports.det44FromCoeffs=exports.detCoeffs44=exports.det33=exports.det23=exports.det22=void 0;var t=require("@thi.ng/vectors");const e=t.dotC4,o=t.dotC6,s=t=>e(t[0],t[3],-t[1],t[2]);exports.det22=s;const r=s;exports.det23=r;const d=t=>{const[s,r,d,p,x,n,c,f,u]=t,C=e(u,x,-n,f),i=e(n,c,-u,p),v=e(f,p,-x,c);return o(s,C,r,i,d,v)};exports.det33=d;const p=t=>{const[o,s,r,d,p,x,n,c,f,u,C,i,v,a,l,m]=t;return[e(o,x,-s,p),e(o,n,-r,p),e(o,c,-d,p),e(s,n,-r,x),e(s,c,-d,x),e(r,c,-d,n),e(f,a,-u,v),e(f,l,-C,v),e(f,m,-i,v),e(u,l,-C,a),e(u,m,-i,a),e(C,m,-i,l)]};exports.detCoeffs44=p;const x=t=>o(t[0],t[11],-t[1],t[10],t[2],t[9])+o(t[3],t[8],-t[4],t[7],t[5],t[6]);exports.det44FromCoeffs=x;const n=t=>x(p(t));exports.det44=n;
},{"@thi.ng/vectors":"n72+"}],"xJFh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.diag44=exports.diag33=exports.diag23=exports.diag22=exports.diag=void 0;var e=require("@thi.ng/vectors");const t=(0,e.vop)(1);exports.diag=t;const s=t.add(4,(t,s)=>(0,e.setS2)(t,s,0,0,1,3));exports.diag22=s;const d=t.add(6,s);exports.diag23=d;const o=t.add(9,(t,s)=>(0,e.setS3)(t,s,0,0,1,4));exports.diag33=o;const r=t.add(16,(t,s)=>(0,e.setS4)(t,s,0,0,1,5));exports.diag44=r;
},{"@thi.ng/vectors":"n72+"}],"qwom":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.div44=exports.div33=exports.div23=exports.div22=exports.div=void 0;var e=require("@thi.ng/vectors"),t=require("./internal/codegen");const r=e.div;exports.div=r;const i=e.div4;exports.div22=i;const[o,s,d]=(0,t.defMath)(r,"/");exports.div44=d,exports.div33=s,exports.div23=o;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"yS8J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.divN44=exports.divN33=exports.divN23=exports.divN22=exports.divN=void 0;var e=require("@thi.ng/vectors"),t=require("./internal/codegen");const r=e.divN;exports.divN=r;const i=e.divN4;exports.divN22=i;const[o,s,d]=(0,t.defMathN)(r,"/");exports.divN44=d,exports.divN33=s,exports.divN23=o;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"1oCC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.frustumBounds=exports.frustum=void 0;var t=require("@thi.ng/math"),r=require("@thi.ng/vectors");const e=(t,e,s,o,u,n,i)=>{const a=1/(s-e),c=1/(u-o),f=1/(i-n);return(0,r.setC)(t||[],2*n*a,0,0,0,0,2*n*c,0,0,(s+e)*a,(u+o)*c,-(i+n)*f,-1,0,0,-i*n*2*f,0)};exports.frustum=e;const s=(r,e,s,o)=>{const u=s*Math.tan(r*t.DEG2RAD/2),n=u*e;return{left:-n,right:n,bottom:-u,top:u,near:s,far:o}};exports.frustumBounds=s;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"X9FX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.set44=exports.set33=exports.set23=exports.set22=exports.set=void 0;var e=require("@thi.ng/vectors");const t=t=>e.set.add(t,(0,e.compile)(t,e.SET,"o,a")),s=e.set;exports.set=s;const o=e.set4;exports.set22=o;const r=t(6);exports.set23=r;const p=t(9);exports.set33=p;const x=t(16);exports.set44=x;
},{"@thi.ng/vectors":"n72+"}],"hh9K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity44=exports.identity33=exports.identity23=exports.identity22=exports.identity=void 0;var t=require("@thi.ng/vectors"),e=require("./api"),i=require("./set");const s=(0,t.vop)();exports.identity=s;const r=s.add(4,t=>(0,i.set)(t,e.IDENT22));exports.identity22=r;const d=s.add(6,t=>(0,i.set)(t,e.IDENT23));exports.identity23=d;const o=s.add(9,t=>(0,i.set)(t,e.IDENT33));exports.identity33=o;const n=s.add(16,t=>(0,i.set)(t,e.IDENT44));exports.identity44=n;
},{"@thi.ng/vectors":"n72+","./api":"BxX9","./set":"X9FX"}],"OpCe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.invertQ=exports.invert44=exports.invert33=exports.invert23=exports.invert22=exports.invert=void 0;var t=require("@thi.ng/vectors"),e=require("./determinant");const r=t.dotC4,s=t.dotC6,o=(0,t.vop)(1);exports.invert=o;const n=o.add(4,(e,s)=>{const[o,n,i,v]=s;let d=r(o,v,-n,i);if(0!==d)return d=1/d,(0,t.setC4)(e||s,v*d,-n*d,-i*d,o*d)});exports.invert22=n;const i=o.add(6,(e,s)=>{const[o,n,i,v,d,p]=s;let c=r(o,v,-n,i);if(0!==c)return c=1/c,(0,t.setC6)(e||s,v*c,-n*c,-i*c,o*c,r(i,p,-v,d)*c,r(n,d,-o,p)*c)});exports.invert23=i;const v=o.add(9,(e,o)=>{const[n,i,v,d,p,c,x,u,f]=o,C=r(f,p,-c,u),a=r(c,x,-f,d),l=r(u,d,-p,x);let m=s(n,C,i,a,v,l);if(0!==m)return m=1/m,(0,t.setC)(e||o,C*m,r(-f,i,v,u)*m,r(c,i,-v,p)*m,a*m,r(f,n,-v,x)*m,r(-c,n,v,d)*m,l*m,r(-u,n,i,x)*m,r(p,n,-i,d)*m)});exports.invert33=v;const d=o.add(16,(r,o)=>{const n=(0,e.detCoeffs44)(o);let i=(0,e.det44FromCoeffs)(n);if(0===i)return;i=1/i;const[v,d,p,c,x,u,f,C,a,l,m,q,g,Q,_,b]=o,[h,j,y,F,M,O,P,S,k,w,z,A]=n;return(0,t.setC)(r||o,s(u,A,-f,z,C,w)*i,s(-d,A,p,z,-c,w)*i,s(Q,O,-_,M,b,F)*i,s(-l,O,m,M,-q,F)*i,s(-x,A,f,k,-C,S)*i,s(v,A,-p,k,c,S)*i,s(-g,O,_,y,-b,j)*i,s(a,O,-m,y,q,j)*i,s(x,z,-u,k,C,P)*i,s(-v,z,d,k,-c,P)*i,s(g,M,-Q,y,b,h)*i,s(-a,M,l,y,-q,h)*i,s(-x,w,u,S,-f,P)*i,s(v,w,-d,S,p,P)*i,s(-g,F,Q,j,-_,h)*i,s(a,F,-l,j,m,h)*i)});exports.invert44=d;const p=(e,r)=>{let s=(0,t.magSq4)(r);return s=s>0?-1/s:0,(0,t.setC4)(e||r,r[0]*s,r[1]*s,r[2]*s,r[3]*-s)};exports.invertQ=p;
},{"@thi.ng/vectors":"n72+","./determinant":"LSyT"}],"rO8i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lookAt=void 0;var o=require("@thi.ng/vectors");const e=(e,t,r,s)=>{const l=(0,o.normalize)(null,(0,o.sub3)([],t,r)),n=(0,o.normalize)(null,(0,o.cross3)([],s,l)),u=(0,o.normalize)(null,(0,o.cross3)([],l,n));return(0,o.setC)(e||[],n[0],u[0],l[0],0,n[1],u[1],l[1],0,n[2],u[2],l[2],0,-(0,o.dot3)(t,n),-(0,o.dot3)(t,u),-(0,o.dot3)(t,l),1)};exports.lookAt=e;
},{"@thi.ng/vectors":"n72+"}],"Dgj5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mat22to23=void 0;var e=require("@thi.ng/vectors");const t=(t,o)=>(!t&&(t=[]),(0,e.set4)(t,o),t[4]=t[5]=0,t);exports.mat22to23=t;
},{"@thi.ng/vectors":"n72+"}],"HwBx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mat23to22=void 0;var e=require("@thi.ng/vectors");const t=(t,o)=>(0,e.set4)(t||[],o);exports.mat23to22=t;
},{"@thi.ng/vectors":"n72+"}],"ptqZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mat23to44=void 0;const t=(t,e)=>(!t&&(t=[]),t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t[10]=t[15]=1,t[2]=t[3]=t[6]=t[7]=t[8]=t[9]=t[11]=t[14]=0,t);exports.mat23to44=t;
},{}],"Fnct":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mat33to44=void 0;var e=require("@thi.ng/vectors");const t=(t,s)=>(!t&&(t=[]),(0,e.setS3)(t,s,0,0),(0,e.setS3)(t,s,4,3),(0,e.setS3)(t,s,8,6),(0,e.setS3)(t,e.ZERO4,12),(0,e.setS4)(t,[0,0,0,1],3,0,4));exports.mat33to44=t;
},{"@thi.ng/vectors":"n72+"}],"Orl/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mat44to33=void 0;var e=require("@thi.ng/vectors");const t=(t,s)=>(!t&&(t=[]),(0,e.setS3)(t,s),(0,e.setS3)(t,s,3,4),(0,e.setS3)(t,s,6,8));exports.mat44to33=t;
},{"@thi.ng/vectors":"n72+"}],"YwPZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixQ=void 0;var t=require("@thi.ng/vectors");const e=(e,s,r,a,o=.001)=>{const i=(0,t.dot4)(s,r);if(Math.abs(i)<1){const n=Math.acos(i),u=Math.sqrt(1-i*i);let c,h;return Math.abs(u)<o?c=h=.5:(c=Math.sin(n*(1-a))/u,h=Math.sin(n*a)/u),(0,t.maddN4)(null,(0,t.mulN4)(e,s,c),r,h)}return s!==e?(0,t.set4)(e,s):e};exports.mixQ=e;
},{"@thi.ng/vectors":"n72+"}],"V42t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mul44=exports.mul33=exports.mul23=exports.mul22=exports.mul=void 0;var e=require("@thi.ng/vectors"),t=require("./internal/codegen");const r=e.mul;exports.mul=r;const o=e.mul4;exports.mul22=o;const[s,u,l]=(0,t.defMath)(r,"*");exports.mul44=l,exports.mul33=u,exports.mul23=s;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"V4e6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mulN44=exports.mulN33=exports.mulN23=exports.mulN22=exports.mulN=void 0;var e=require("@thi.ng/vectors"),t=require("./internal/codegen");const r=e.mulN;exports.mulN=r;const o=e.mulN4;exports.mulN22=o;const[s,u,l]=(0,t.defMathN)(r,"*");exports.mulN44=l,exports.mulN33=u,exports.mulN23=s;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"ZA8g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mulQ=void 0;var e=require("@thi.ng/vectors");const t=(t,r,s)=>{const{0:o,1:u,2:c,3:i}=r,{0:n,1:l,2:p,3:v}=s;return(0,e.setC4)(t||r,o*v+i*n+u*p-c*l,u*v+i*l+c*n-o*p,c*v+i*p+o*l-u*n,i*v-o*n-u*l-c*p)};exports.mulQ=t;
},{"@thi.ng/vectors":"n72+"}],"s7TD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mulVQ=exports.mulV344=exports.mulV44=exports.mulV33=exports.mulV23=exports.mulV22=exports.mulV=void 0;var t=require("@thi.ng/vectors");const o=(0,t.vop)(1);exports.mulV=o;const e=o.add(4,(o,e,s)=>(0,t.setC2)(o||s,(0,t.dotS2)(e,s,0,0,2),(0,t.dotS2)(e,s,1,0,2)));exports.mulV22=e;const s=o.add(6,(o,e,s)=>(0,t.setC2)(o||s,(0,t.dotS2)(e,s,0,0,2)+e[4],(0,t.dotS2)(e,s,1,0,2)+e[5]));exports.mulV23=s;const d=o.add(9,(o,e,s)=>(0,t.setC3)(o||s,(0,t.dotS3)(e,s,0,0,3),(0,t.dotS3)(e,s,1,0,3),(0,t.dotS3)(e,s,2,0,3)));exports.mulV33=d;const r=o.add(16,(o,e,s)=>(0,t.setC4)(o||s,(0,t.dotS4)(e,s,0,0,4),(0,t.dotS4)(e,s,1,0,4),(0,t.dotS4)(e,s,2,0,4),(0,t.dotS4)(e,s,3,0,4)));exports.mulV44=r;const u=(o,e,s)=>{const d=(0,t.dotS3)(e,s,3,0,4)||1;return(0,t.setC3)(o||s,((0,t.dotS3)(e,s,0,0,4)+e[12])/d,((0,t.dotS3)(e,s,1,0,4)+e[13])/d,((0,t.dotS3)(e,s,2,0,4)+e[14])/d)};exports.mulV344=u;const p=(o,e,s)=>{const{0:d,1:r,2:u}=s,{0:p,1:l,2:x,3:S}=e,m=S*d+l*u-x*r,V=S*r+x*d-p*u,n=S*u+p*r-l*d,c=-p*d-l*r-x*u;return(0,t.setC3)(o||s,m*S+c*-p+V*-x-n*-l,V*S+c*-l+n*-p-m*-x,n*S+c*-x+m*-l-V*-p)};exports.mulVQ=p;
},{"@thi.ng/vectors":"n72+"}],"IHCt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transpose44=exports.transpose33=exports.transpose22=void 0;var s=require("@thi.ng/vectors");const e=(e,t)=>(0,s.setC4)(e||[],t[0],t[2],t[1],t[3]);exports.transpose22=e;const t=(e,t)=>(0,s.setC)(e||[],t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]);exports.transpose33=t;const o=(e,t)=>(0,s.setC)(e||[],t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]);exports.transpose44=o;
},{"@thi.ng/vectors":"n72+"}],"Zfnp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normal44=void 0;var e=require("./m44-m33"),r=require("./invert"),t=require("./transpose");const o=(o,s)=>(0,t.transpose33)(null,(0,r.invert33)(null,(0,e.mat44to33)(o,s)));exports.normal44=o;
},{"./m44-m33":"Orl/","./invert":"OpCe","./transpose":"IHCt"}],"vA4h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ortho=void 0;var e=require("@thi.ng/vectors");const t=(t,r,o,s,c,i,n)=>{const u=1/(o-r),p=1/(c-s),v=1/(n-i);return(0,e.setC)(t||[],2*u,0,0,0,0,2*p,0,0,0,0,-2*v,0,-(r+o)*u,-(c+s)*p,-(n+i)*v,1)};exports.ortho=t;
},{"@thi.ng/vectors":"n72+"}],"lf6N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.perspective=void 0;var e=require("./frustum");const t=(t,r,s,o,u)=>{const p=(0,e.frustumBounds)(r,s,o,u);return(0,e.frustum)(t,p.left,p.right,p.bottom,p.top,p.near,p.far)};exports.perspective=t;
},{"./frustum":"1oCC"}],"2qz6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unproject=exports.project=void 0;var e=require("@thi.ng/vectors"),r=require("./invert"),t=require("./mulv");const o=(r,o,u,s)=>(0,t.mulV23)(r,u,(0,e.fromHomogeneous4)(r,(0,t.mulV44)([],o,s)));exports.project=o;const u=(o,u,s,n,i=!1)=>{i&&(u=(0,r.invert44)([],u),s=(0,r.invert23)([],s));const c=[...(0,t.mulV23)([],s,n),2*n[2]-1];return(0,e.divN3)(o,(0,t.mulV344)(o,u,c),(0,e.dotC6)(c[0],u[3],c[1],u[7],c[2],u[11])+u[15])};exports.unproject=u;
},{"@thi.ng/vectors":"n72+","./invert":"OpCe","./mulv":"s7TD"}],"TtZC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quatFromEuler=void 0;var e=require("@thi.ng/vectors"),r=require("./mulq"),u=require("./quat-axis-angle");const t={xyz:[e.X3,e.Y3,e.Z3],yxz:[e.Y3,e.X3,e.Z3],xzy:[e.X3,e.Z3,e.Y3],zxy:[e.Z3,e.X3,e.Y3],yzx:[e.Y3,e.Z3,e.X3],zyx:[e.Z3,e.Y3,e.X3]},o=(e,o,l,s)=>{const[x,i,a]=t[e];return(0,r.mulQ)(null,(0,r.mulQ)([],(0,u.quatFromAxisAngle)(x,o),(0,u.quatFromAxisAngle)(i,l)),(0,u.quatFromAxisAngle)(a,s))};exports.quatFromEuler=o;
},{"@thi.ng/vectors":"n72+","./mulq":"ZA8g","./quat-axis-angle":"4BgS"}],"5Ngc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quatToMat33=void 0;var t=require("@thi.ng/vectors");const e=(e,r)=>{const[o,s,u,a]=r,c=o+o,i=s+s,n=u+u,p=o*c,v=o*i,d=o*n,q=s*i,x=s*n,M=u*n,l=a*c,T=a*i,_=a*n;return(0,t.setC)(e||[],1-q-M,v+_,d-T,v-_,1-p-M,x+l,d+T,x-l,1-p-q)};exports.quatToMat33=e;
},{"@thi.ng/vectors":"n72+"}],"PDDT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quatToMat44=void 0;var t=require("@thi.ng/vectors");const e=(e,r,o=t.ZERO3)=>{const[s,u,a,c]=r,i=s+s,n=u+u,p=a+a,v=s*i,d=s*n,q=s*p,x=u*n,M=u*p,l=a*p,O=c*i,T=c*n,_=c*p;return(0,t.setC)(e||[],1-x-l,d+_,q-T,0,d-_,1-v-l,M+O,0,q+T,M-O,1-v-x,0,o[0],o[1],o[2],1)};exports.quatToMat44=e;
},{"@thi.ng/vectors":"n72+"}],"imXy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotationAroundAxis44=exports.rotationAroundAxis33=void 0;var t=require("@thi.ng/vectors"),o=require("./m33-m44");const r=(o,r,e,s=!1)=>{const[i,n,a]=s?(0,t.normalize)([],r):r,u=Math.sin(e),x=Math.cos(e),A=1-x;return(0,t.setC)(o||[],i*i*A+x,n*i*A+a*u,a*i*A-n*u,i*n*A-a*u,n*n*A+x,a*n*A+i*u,i*a*A+n*u,n*a*A-i*u,a*a*A+x)};exports.rotationAroundAxis33=r;const e=(t,e,s,i=!1)=>(0,o.mat33to44)(t,r([],e,s,i));exports.rotationAroundAxis44=e;
},{"@thi.ng/vectors":"n72+","./m33-m44":"Fnct"}],"rVmn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotationZ44=exports.rotationY44=exports.rotationX44=exports.rotationZ33=exports.rotationY33=exports.rotationX33=exports.rotation23=exports.rotation22=void 0;var t=require("@thi.ng/math"),o=require("@thi.ng/vectors");const s=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC4)(s||[],e,n,-n,e)};exports.rotation22=s;const r=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC6)(s||[],e,n,-n,e,0,0)};exports.rotation23=r;const n=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC)(s||[],1,0,0,0,e,n,0,-n,e)};exports.rotationX33=n;const e=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC)(s||[],e,0,-n,0,1,0,n,0,e)};exports.rotationY33=e;const i=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC)(s||[],e,n,0,-n,e,0,0,0,1)};exports.rotationZ33=i;const c=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC)(s||[],1,0,0,0,0,e,n,0,0,-n,e,0,0,0,0,1)};exports.rotationX44=c;const a=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC)(s||[],e,0,-n,0,0,1,0,0,n,0,e,0,0,0,0,1)};exports.rotationY44=a;const p=(s,r)=>{const[n,e]=(0,t.sincos)(r);return(0,o.setC)(s||[],e,n,0,0,-n,e,0,0,0,0,1,0,0,0,0,1)};exports.rotationZ44=p;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"JgXm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.row44=exports.row33=exports.row23=exports.row22=exports.row=void 0;var o=require("@thi.ng/vectors");const r=(0,o.vop)(1);exports.row=r;const e=r.add(4,(r,e,t)=>(0,o.setS2)(r,e,0,t,1,2));exports.row22=e;const t=r.add(6,(r,e,t)=>(0,o.setS3)(r,e,0,t,1,2));exports.row23=t;const s=r.add(9,(r,e,t)=>(0,o.setS3)(r,e,0,t,1,3));exports.row33=s;const p=r.add(16,(r,e,t)=>(0,o.setS4)(r,e,0,t,1,4));exports.row44=p;
},{"@thi.ng/vectors":"n72+"}],"VD5m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scale44=exports.scale33=exports.scale23=exports.scale22=void 0;var e=require("@thi.ng/checks"),s=require("@thi.ng/vectors");const t=(t,r)=>(r=(0,e.isNumber)(r)?[r,r]:r,(0,s.setC4)(t||[],r[0],0,0,r[1]));exports.scale22=t;const r=(t,r)=>(r=(0,e.isNumber)(r)?[r,r]:r,(0,s.setC6)(t||[],r[0],0,0,r[1],0,0));exports.scale23=r;const o=(t,r)=>(r=(0,e.isNumber)(r)?[r,r,r]:r,(0,s.setC)(t||[],r[0],0,0,0,r[1],0,0,0,r[2]));exports.scale33=o;const c=(t,r)=>(r=(0,e.isNumber)(r)?[r,r,r]:r,(0,s.setC)(t||[],r[0],0,0,0,0,r[1],0,0,0,0,r[2],0,0,0,0,void 0!==r[3]?r[3]:1));exports.scale44=c;
},{"@thi.ng/checks":"XYpc","@thi.ng/vectors":"n72+"}],"Hqf4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.translation44=exports.translation23=void 0;var t=require("@thi.ng/vectors");const e=(e,s)=>(0,t.setC6)(e||[],1,0,0,1,s[0],s[1]);exports.translation23=e;const s=(e,s)=>(0,t.setC)(e||[],1,0,0,0,0,1,0,0,0,0,1,0,s[0],s[1],s[2],1);exports.translation44=s;
},{"@thi.ng/vectors":"n72+"}],"soIN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scaleWithCenter44=exports.scaleWithCenter23=void 0;var e=require("@thi.ng/vectors"),t=require("./concat"),r=require("./scale"),n=require("./translation");const s=(s,a,o)=>(0,t.concat)(s,(0,n.translation23)([],a),(0,r.scale23)([],o),(0,n.translation23)([],(0,e.neg)([],a)));exports.scaleWithCenter23=s;const a=(s,a,o)=>(0,t.concat)(s,(0,n.translation44)([],a),(0,r.scale44)([],o),(0,n.translation44)([],(0,e.neg)([],a)));exports.scaleWithCenter44=a;
},{"@thi.ng/vectors":"n72+","./concat":"rBDt","./scale":"VD5m","./translation":"Hqf4"}],"aDgn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shearZY44=exports.shearZX44=exports.shearYZ44=exports.shearYX44=exports.shearXZ44=exports.shearXY44=exports.shearZY33=exports.shearZX33=exports.shearYZ33=exports.shearYX33=exports.shearXZ33=exports.shearXY33=exports.shearY23=exports.shearX23=exports.shearY22=exports.shearX22=void 0;var s=require("./identity");const e=s=>e=>(r,t)=>(s(r),r[e]=t,r),r=e(s.identity22),t=e(s.identity23),o=e(s.identity33),a=e(s.identity44),p=r(2);exports.shearX22=p;const x=r(1);exports.shearY22=x;const h=t(2);exports.shearX23=h;const n=t(1);exports.shearY23=n;const X=o(3);exports.shearXY33=X;const Y=o(6);exports.shearXZ33=Y;const c=o(1);exports.shearYX33=c;const Z=o(7);exports.shearYZ33=Z;const i=o(2);exports.shearZX33=i;const d=o(5);exports.shearZY33=d;const y=a(4);exports.shearXY44=y;const u=a(8);exports.shearXZ44=u;const v=a(1);exports.shearYX44=v;const l=a(9);exports.shearYZ44=l;const _=a(2);exports.shearZX44=_;const b=a(6);exports.shearZY44=b;
},{"./identity":"hh9K"}],"87xo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skewZY44=exports.skewZX44=exports.skewYZ44=exports.skewYX44=exports.skewXZ44=exports.skewXY44=exports.skewZY33=exports.skewZX33=exports.skewYZ33=exports.skewYX33=exports.skewXZ33=exports.skewXY33=exports.skewY23=exports.skewX23=exports.skewY22=exports.skewX22=void 0;var s=require("./shear");const e=s=>(e,r)=>s(e,Math.tan(r)),r=e(s.shearX22);exports.skewX22=r;const t=e(s.shearY22);exports.skewY22=t;const o=e(s.shearX23);exports.skewX23=o;const p=e(s.shearY23);exports.skewY23=p;const x=e(s.shearXY33);exports.skewXY33=x;const k=e(s.shearXZ33);exports.skewXZ33=k;const w=e(s.shearYX33);exports.skewYX33=w;const X=e(s.shearYZ33);exports.skewYZ33=X;const Y=e(s.shearZX33);exports.skewZX33=Y;const Z=e(s.shearZY33);exports.skewZY33=Z;const a=e(s.shearXY44);exports.skewXY44=a;const c=e(s.shearXZ44);exports.skewXZ44=c;const h=e(s.shearYX44);exports.skewYX44=h;const n=e(s.shearYZ44);exports.skewYZ44=n;const i=e(s.shearZX44);exports.skewZX44=i;const u=e(s.shearZY44);exports.skewZY44=u;
},{"./shear":"aDgn"}],"BghE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub44=exports.sub33=exports.sub23=exports.sub22=exports.sub=void 0;var s=require("@thi.ng/vectors"),e=require("./internal/codegen");const t=s.sub;exports.sub=t;const r=s.sub4;exports.sub22=r;const[o,u,b]=(0,e.defMath)(t,"-");exports.sub44=b,exports.sub33=u,exports.sub23=o;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"fCdC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subN44=exports.subN33=exports.subN23=exports.subN22=exports.subN=void 0;var s=require("@thi.ng/vectors"),e=require("./internal/codegen");const t=s.subN;exports.subN=t;const r=s.subN4;exports.subN22=r;const[o,u,b]=(0,e.defMathN)(t,"-");exports.subN44=b,exports.subN33=u,exports.subN23=o;
},{"@thi.ng/vectors":"n72+","./internal/codegen":"7vIK"}],"hCO7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trace=void 0;var e=require("@thi.ng/vectors"),r=require("./diag");const t=t=>(0,e.sum)((0,r.diag)([],t));exports.trace=t;
},{"@thi.ng/vectors":"n72+","./diag":"xJFh"}],"dzFr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.viewport=void 0;var e=require("./mulm"),r=require("./scale"),t=require("./translation");const o=(o,s,i,l,u)=>{const n=(s+i)/2,a=(l+u)/2,c=(i-s)/2,p=(u-l)/2;return(0,e.mulM23)(null,(0,t.translation23)(o,[n,a]),(0,r.scale23)([],[c,p]))};exports.viewport=o;
},{"./mulm":"gAIf","./scale":"VD5m","./translation":"Hqf4"}],"Wb3+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./internal/codegen");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./add");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./addn");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./alignment-quat");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./column");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./concat");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./conjugate");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./determinant");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./diag");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./div");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./divn");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./frustum");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./identity");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./invert");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var j=require("./lookat");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var y=require("./m22-m23");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var _=require("./m23-m22");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var O=require("./m23-m44");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var m=require("./m33-m44");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var q=require("./m44-m33");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var v=require("./mixq");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var g=require("./mul");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var x=require("./mulm");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var h=require("./muln");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var k=require("./mulq");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var M=require("./mulv");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./normal-mat");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var E=require("./ortho");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./perspective");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./project");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var A=require("./quat-axis-angle");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./quat-euler");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./quat-m33");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./quat-m44");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./rotation-around-axis");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./rotation");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./row");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./scale");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./scale-center");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./set");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./shear");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./skew");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./sub");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./subn");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./trace");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./translation");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./transpose");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});var V=require("./viewport");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}})});
},{"./api":"BxX9","./internal/codegen":"7vIK","./add":"L8Ue","./addn":"gWIx","./alignment-quat":"LpRH","./column":"tgDc","./concat":"rBDt","./conjugate":"bOvO","./determinant":"LSyT","./diag":"xJFh","./div":"qwom","./divn":"yS8J","./frustum":"1oCC","./identity":"hh9K","./invert":"OpCe","./lookat":"rO8i","./m22-m23":"Dgj5","./m23-m22":"HwBx","./m23-m44":"ptqZ","./m33-m44":"Fnct","./m44-m33":"Orl/","./mixq":"YwPZ","./mul":"V42t","./mulm":"gAIf","./muln":"V4e6","./mulq":"ZA8g","./mulv":"s7TD","./normal-mat":"Zfnp","./ortho":"vA4h","./perspective":"lf6N","./project":"2qz6","./quat-axis-angle":"4BgS","./quat-euler":"TtZC","./quat-m33":"5Ngc","./quat-m44":"PDDT","./rotation-around-axis":"imXy","./rotation":"rVmn","./row":"JgXm","./scale":"VD5m","./scale-center":"soIN","./set":"X9FX","./shear":"aDgn","./skew":"87xo","./sub":"BghE","./subn":"fCdC","./trace":"hCO7","./translation":"Hqf4","./transpose":"IHCt","./viewport":"dzFr"}],"dkZe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@thi.ng/vectors"),i=require("@thi.ng/matrices");class e{constructor(){this._position=new t.Vec3,this._rotation=new t.Vec4(t.copy(t.W4)),this._scale=new t.Vec3(t.copy(t.ONE3)),this._model=[],this._modelDirty=!0,this._rt=[],this.modelView=[],this.normal=[],this.children=[],i.identity44(this.modelView),i.identity33(this.normal),i.identity44(this._model),i.identity44(this._rt)}set position(i){t.set(this._position,i),this._modelDirty=!0}get position(){return this._position}set rotation(t){this._rotation=t,this._modelDirty=!0}get rotation(){return this._rotation}set scale(i){t.set(this._scale,i),this._modelDirty=!0}get scale(){return this._scale}get model(){return this._modelDirty&&(i.mulM(this._model,i.quatToMat44(this._rt,this.rotation,this.position),i.scale44(this._model,this.scale)),this._modelDirty=!1),this._model}updateMatrices(t){i.mulM(this.modelView,t,this.model),i.normal44(this.normal,this.modelView)}add(t){t.parent=this,this.children.push(t)}}exports.Node=e;
},{"@thi.ng/vectors":"n72+","@thi.ng/matrices":"Wb3+"}],"dQDg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@thi.ng/vectors"),e=require("@thi.ng/matrices"),i=require("./node");class h extends i.Node{constructor(t,i){super(),this._view=[],this._projection=[],this.width=t,this.height=i,e.identity44(this._view),e.identity44(this._projection)}set width(t){this._width=t}get width(){return this._width}set height(t){this._height=t}get height(){return this._height}get projection(){return this._projection}get view(){return this._view}}exports.Camera=h;class s extends h{constructor(){super(...arguments),this._fov=30,this._near=.01,this._far=1e3,this._projectionCached=!1,this._target=new t.Vec3,this._up=new t.Vec3([0,1,0]),this._viewCached=!1}set width(t){this._width=t,this._projectionCached=!1}get width(){return this._width}set height(t){this._height=t,this._projectionCached=!1}get height(){return this._height}set fov(t){this._fov=t,this._projectionCached=!1}get fov(){return this._fov}get aspect(){return this.width/this.height}set near(t){this._near=t,this._projectionCached=!1}get near(){return this._near}set far(t){this._far=t,this._projectionCached=!1}get far(){return this._far}set position(e){e.eqDelta(this._position)||(t.set(this._position,e),this._viewCached=!1,this._modelDirty=!0)}get position(){return this._position}set target(e){e.eqDelta(this._target)||(t.set(this._target,e),this._viewCached=!1)}get target(){return this._target}set up(e){e.eqDelta(this._up)||(t.set(this._up,e),this._viewCached=!1)}get up(){return this._up}get pivotDistance(){return t.dist(this.target,this.position)}get projection(){return this._projectionCached||(e.perspective(this._projection,this.fov,this.aspect,this.near,this.far),this._projectionCached=!0),this._projection}get view(){return this._viewCached||(e.lookAt(this._view,this.position,this.target,this.up),this._viewCached=!0),this._view}}exports.PerspectiveCamera=s;class r extends h{constructor(){super(...arguments),this.left=-1,this.right=1,this.top=1,this.bottom=-1,this.near=0,this.far=1e3,this._projectionCached=!1}get projection(){return this._projectionCached||(e.ortho(this._projection,this.left,this.right,this.bottom,this.top,this.near,this.far),this._projectionCached=!0),this._projection}}exports.OrthoCamera=r;
},{"@thi.ng/vectors":"n72+","@thi.ng/matrices":"Wb3+","./node":"dkZe"}],"AjQB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/vectors"),t=require("@thi.ng/matrices"),n=require("@thi.ng/math"),r=require("@thi.ng/transducers");function l(e,t,r,l){let a=t*n.DEG2RAD,u=r*n.DEG2RAD,o=l*n.DEG2RAD,s=Math.cos(a),i=Math.sin(a),c=Math.cos(u),m=Math.sin(u),p=Math.cos(o),g=Math.sin(o),V=c*p,w=c*g,h=m*p,d=m*g;return e[0]=V+d*i,e[4]=h*i-w,e[8]=s*m,e[1]=s*g,e[5]=s*p,e[9]=-i,e[2]=w*i-h,e[6]=d+V*i,e[10]=s*c,e}const a=(t,n,r,l)=>{e.divN(null,e.setC3(t,n[0]-r[0],-(n[1]-r[1]),0),l);const a=e.magSq(t);return a>1?e.normalize(null,t):e.setC3(t,t[0],t[1],Math.sqrt(1-a))};exports.dragCamera=((n,{width:l,height:u,speed:o=5})=>{const s=Math.max(l,u),i=e.mulN(null,new e.Vec2([l,u]),.5),c=new e.Vec3,m=new e.Vec3,p=new e.Vec3,g=new e.Vec3,V=new e.Vec3,w=new e.Vec3,h=new e.Vec3,d=new e.Vec3,M=new e.Vec3;return r.comp(r.filter(e=>0==e[0]||2==e[0]),r.map(({0:r,1:{pos:l}})=>{if(0==r)return a(c,l,i,s),e.set(V,n.up),e.sub(w,n.position,n.target),{up:V,position:n.position,target:n.target};{e.sub(null,a(m,l,i,s),c),e.mulN(null,e.normalize(null,e.cross3(g,V,w)),m[0]),e.normalize(null,e.cross3(null,e.add(null,e.mulN(p,V,m[1]),g),w));const r=t.quatFromAxisAngle(p,e.magSq(m)*o);return t.mulVQ(h,r,V),e.add(M,n.target,t.mulVQ(d,r,w)),{up:h,position:M,target:n.target}}}))}),exports.moveCamera=((n,l)=>{const{width:u,height:o,speed:s=5}=l,i=Math.max(u,o),c=e.mulN(null,new e.Vec2([u,o]),.5),m=new e.Vec3,p=new e.Vec3,g=new e.Vec3,V=n.up.copy(),w=e.normalize(null,e.sub([],n.position,n.target)),h=new e.Vec3,d=new e.Vec3,M=new e.Vec3;return r.comp(r.filter(e=>1==e[0]),r.map(({1:{pos:r}})=>{e.sub(null,a(m,r,c,i),e.Vec3.Z_AXIS),e.normalize(null,e.cross3(null,e.add(null,e.mulN(p,V,m[1]),e.mulN(null,e.normalize(null,e.cross3(g,V,w)),m[0])),w));const l=t.quatFromAxisAngle(p,e.magSq(m)*s);return e.add(M,n.target,t.mulVQ(null,l,e.mulN(d,w,n.pivotDistance))),t.mulVQ(h,l,V),{position:M,up:h,target:n.target}}))}),exports.orientCamera=(a=>{const u=new e.Vec3,o=new e.Vec3,s=new e.Vec3,i=[],c=t.rotationX44([],-90*n.DEG2RAD);return t.identity44(i),r.map(n=>(t.mulM(null,l(i,n.beta,n.alpha,-n.gamma),c),t.mulV344(u,i,e.Vec3.Y_AXIS),e.add(s,a.target,e.mulN(null,t.mulV344(o,i,e.Vec3.Z_AXIS),a.pivotDistance)),{up:u,position:s,target:a.target}))}),exports.zoomCamera=(t=>{const n=new e.Vec3,l=new e.Vec3;return r.comp(r.filter(e=>4==e[0]),r.map(({1:{zoom:r}})=>{e.sub(n,t.target,t.position);const a=Math.pow(Math.E,.01*r)*e.mag(n);return e.mulN(null,e.sub(l,t.target,e.normalize(null,n)),a),{up:t.up,position:l,target:t.target}}))});
},{"@thi.ng/vectors":"n72+","@thi.ng/matrices":"Wb3+","@thi.ng/math":"zoYr","@thi.ng/transducers":"GbKR"}],"Ubq3":[function(require,module,exports) {
var define;
var r;!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof r&&r.amd?r([],t):"object"==typeof exports?exports.twgl=t():e.twgl=t()}("undefined"!=typeof self?self:this,function(){return function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s="./src/twgl-full.js")}({"./src/attributes.js":function(r,e,t){"use strict";e.__esModule=!0,e.createAttribsFromArrays=s,e.createBuffersFromArrays=function(r,e){var t={};Object.keys(e).forEach(function(n){t[n]=A(r,e[n],n)}),e.indices?(t.numElements=e.indices.length,t.elementType=n.getGLTypeForTypedArray(p(e.indices),"indices")):t.numElements=function(r){var e,t;for(t=0;t<_.length&&!((e=_[t])in r);++t);t===_.length&&(e=Object.keys(r)[0]);var n=r[e],o=v(n).length,a=y(n,e),u=o/a;if(o%a>0)throw"numComponents "+a+" not correct for length "+o;return u}(e);return t},e.createBufferFromArray=A,e.createBufferFromTypedArray=c,e.createBufferInfoFromArrays=function(r,e,t){var o=s(r,e),a=Object.assign({},t||{});a.attribs=Object.assign({},t?t.attribs:{},o);var f=e.indices;if(f){var i=p(f,"indices");a.indices=c(r,i,r.ELEMENT_ARRAY_BUFFER),a.numElements=i.length,a.elementType=n.getGLTypeForTypedArray(i)}else a.numElements||(a.numElements=function(r,e){var t,n;for(n=0;n<_.length&&!((t=_[n])in e)&&!((t=u.attribPrefix+t)in e);++n);n===_.length&&(t=Object.keys(e)[0]);var o=e[t];r.bindBuffer(r.ARRAY_BUFFER,o.buffer);var a=r.getBufferParameter(r.ARRAY_BUFFER,r.BUFFER_SIZE);r.bindBuffer(r.ARRAY_BUFFER,null);var f=function(r,e){return e===r.BYTE?1:e===r.UNSIGNED_BYTE?1:e===r.SHORT?2:e===r.UNSIGNED_SHORT?2:e===r.INT?4:e===r.UNSIGNED_INT?4:e===r.FLOAT?4:0}(r,o.type),c=a/f,i=o.numComponents||o.size,v=c/i;if(v%1!=0)throw"numComponents "+i+" not correct for length "+length;return v}(r,a.attribs));return a},e.setAttribInfoBufferFromArray=function(r,e,t,n){t=p(t),void 0!==n?(r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.bufferSubData(r.ARRAY_BUFFER,n,t)):f(r,r.ARRAY_BUFFER,e.buffer,t,e.drawType)},e.setAttributePrefix=function(r){u.attribPrefix=r},e.setAttributeDefaults_=function(r){o.copyExistingProperties(r,u)},e.getNumComponents_=y,e.getArray_=v;var n=a(t("./src/typedarrays.js")),o=a(t("./src/helper.js"));function a(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}var u={attribPrefix:""};function f(r,e,t,n,o){r.bindBuffer(e,t),r.bufferData(e,n,o||r.STATIC_DRAW)}function c(r,e,t,n){if(o.isBuffer(r,e))return e;t=t||r.ARRAY_BUFFER;var a=r.createBuffer();return f(r,t,a,e,n),a}function i(r){return"indices"===r}function v(r){return r.length?r:r.data}var l=/coord|texture/i,b=/color|colour/i;function E(r,e){var t;if(e%(t=l.test(r)?2:b.test(r)?4:3)>0)throw"Can not guess numComponents for attribute '"+r+"'. Tried "+t+" but "+e+" values is not evenly divisible by "+t+". You should specify it.";return t}function y(r,e){return r.numComponents||r.size||E(e,v(r).length)}function p(r,e){if(n.isArrayBuffer(r))return r;if(n.isArrayBuffer(r.data))return r.data;Array.isArray(r)&&(r={data:r});var t=r.type;return t||(t=i(e)?Uint16Array:Float32Array),new t(r.data)}function s(r,e){var t={};return Object.keys(e).forEach(function(o){if(!i(o)){var a=e[o],f=a.attrib||a.name||a.attribName||u.attribPrefix+o;if(a.value){if(!Array.isArray(a.value)&&!n.isArrayBuffer(a.value))throw new Error("array.value is not array or typedarray");t[f]={value:a.value}}else{var v,l,b,s;if(a.buffer&&a.buffer instanceof WebGLBuffer)v=a.buffer,s=a.numComponents||a.size,l=a.type,b=a.normalize;else if("number"==typeof a||"number"==typeof a.data){var _=a.data||a,A=a.type||Float32Array,T=_*A.BYTES_PER_ELEMENT;l=n.getGLTypeForTypedArrayType(A),b=void 0!==a.normalize?a.normalize:(P=A)===Int8Array||P===Uint8Array,s=a.numComponents||a.size||E(o,_),v=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,v),r.bufferData(r.ARRAY_BUFFER,T,a.drawType||r.STATIC_DRAW)}else{var R=p(a,o);v=c(r,R,void 0,a.drawType),l=n.getGLTypeForTypedArray(R),b=void 0!==a.normalize?a.normalize:function(r){return r instanceof Int8Array||r instanceof Uint8Array}(R),s=y(a,o)}t[f]={buffer:v,numComponents:s,type:l,normalize:b,stride:a.stride||0,offset:a.offset||0,divisor:void 0===a.divisor?void 0:a.divisor,drawType:a.drawType}}}var P}),r.bindBuffer(r.ARRAY_BUFFER,null),t}var _=["position","positions","a_position"];function A(r,e,t){var n="indices"===t?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER;return c(r,p(e,t),n)}},"./src/draw.js":function(r,e,t){"use strict";e.__esModule=!0,e.drawBufferInfo=o,e.drawObjectList=function(r,e){var t=null,a=null;e.forEach(function(e){if(!1!==e.active){var u=e.programInfo,f=e.vertexArrayInfo||e.bufferInfo,c=!1,i=void 0===e.type?r.TRIANGLES:e.type;u!==t&&(t=u,r.useProgram(u.program),c=!0),(c||f!==a)&&(a&&a.vertexArrayObject&&!f.vertexArrayObject&&r.bindVertexArray(null),a=f,n.setBuffersAndAttributes(r,u,f)),n.setUniforms(u,e.uniforms),o(r,f,i,e.count,e.offset,e.instanceCount)}}),a.vertexArrayObject&&r.bindVertexArray(null)};var n=function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}(t("./src/programs.js"));function o(r,e,t,n,o,a){t=void 0===t?r.TRIANGLES:t;var u=e.indices,f=e.elementType,c=void 0===n?e.numElements:n;o=void 0===o?0:o,f||u?void 0!==a?r.drawElementsInstanced(t,c,void 0===f?r.UNSIGNED_SHORT:e.elementType,o,a):r.drawElements(t,c,void 0===f?r.UNSIGNED_SHORT:e.elementType,o):void 0!==a?r.drawArraysInstanced(t,o,c,a):r.drawArrays(t,o,c)}},"./src/framebuffers.js":function(r,e,t){"use strict";e.__esModule=!0,e.bindFramebufferInfo=function(r,e,t){t=t||r.FRAMEBUFFER,e?(r.bindFramebuffer(t,e.framebuffer),r.viewport(0,0,e.width,e.height)):(r.bindFramebuffer(t,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight))},e.createFramebufferInfo=function(r,e,t,a){var v=r.FRAMEBUFFER,l=r.createFramebuffer();r.bindFramebuffer(v,l),t=t||r.drawingBufferWidth,a=a||r.drawingBufferHeight;var b=0,E={framebuffer:l,attachments:[],width:t,height:a};return(e=e||f).forEach(function(e){var f=e.attachment,l=e.format,y=function(r){return c[r]}(l);if(y||(y=u+b++),!f)if(function(r){return i[r]}(l))f=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,f),r.renderbufferStorage(r.RENDERBUFFER,l,t,a);else{var p=Object.assign({},e);p.width=t,p.height=a,void 0===p.auto&&(p.auto=!1,p.min=p.min||p.minMag||r.LINEAR,p.mag=p.mag||p.minMag||r.LINEAR,p.wrapS=p.wrapS||p.wrap||r.CLAMP_TO_EDGE,p.wrapT=p.wrapT||p.wrap||r.CLAMP_TO_EDGE),f=n.createTexture(r,p)}if(o.isRenderbuffer(r,f))r.framebufferRenderbuffer(v,y,r.RENDERBUFFER,f);else{if(!o.isTexture(r,f))throw"unknown attachment type";r.framebufferTexture2D(v,y,e.texTarget||r.TEXTURE_2D,f,e.level||0)}E.attachments.push(f)}),E},e.resizeFramebufferInfo=function(r,e,t,a,u){a=a||r.drawingBufferWidth,u=u||r.drawingBufferHeight,e.width=a,e.height=u,(t=t||f).forEach(function(t,f){var c=e.attachments[f],i=t.format;if(o.isRenderbuffer(r,c))r.bindRenderbuffer(r.RENDERBUFFER,c),r.renderbufferStorage(r.RENDERBUFFER,i,a,u);else{if(!o.isTexture(r,c))throw"unknown attachment type";n.resizeTexture(r,c,t,a,u)}})};var n=a(t("./src/textures.js")),o=a(t("./src/helper.js"));function a(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}var u=36064,f=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],c={};c[34041]=33306,c[6401]=36128,c[36168]=36128,c[6402]=36096,c[33189]=36096;var i={};i[32854]=!0,i[32855]=!0,i[36194]=!0,i[34041]=!0,i[33189]=!0,i[6401]=!0,i[36168]=!0},"./src/helper.js":function(r,e,t){"use strict";e.__esModule=!0,e.copyExistingProperties=function(r,e){Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&r.hasOwnProperty(t)&&(e[t]=r[t])})},e.copyNamedProperties=function(r,e,t){r.forEach(function(r){var n=e[r];void 0!==n&&(t[r]=n)})},e.isBuffer=function(r,e){o||(o=r.createBuffer());return e instanceof o.constructor},e.isRenderbuffer=function(r,e){a||(a=r.createRenderbuffer());return e instanceof a.constructor},e.isShader=function(r,e){u||(u=r.createShader(r.VERTEX_SHADER));return e instanceof u.constructor},e.isTexture=function(r,e){f||(f=r.createTexture());return e instanceof f.constructor},e.isSampler=function(r,e){if(!c){if(!r.createSampler)return!1;c=r.createSampler()}return e instanceof c.constructor},e.warn=e.error=void 0;var n="undefined"!=typeof console&&console.error&&"function"==typeof console.error?console.error.bind(console):function(){};e.error=n;var o,a,u,f,c,i="undefined"!=typeof console&&console.warn&&"function"==typeof console.warn?console.warn.bind(console):function(){};e.warn=i},"./src/m4.js":function(r,e,t){"use strict";e.__esModule=!0,e.axisRotate=function(r,e,t,n){n=n||new o(16);var a=e[0],u=e[1],f=e[2],c=Math.sqrt(a*a+u*u+f*f),i=(a/=c)*a,v=(u/=c)*u,l=(f/=c)*f,b=Math.cos(t),E=Math.sin(t),y=1-b,p=i+(1-i)*b,s=a*u*y+f*E,_=a*f*y-u*E,A=a*u*y-f*E,T=v+(1-v)*b,R=u*f*y+a*E,P=a*f*y+u*E,x=u*f*y-a*E,d=l+(1-l)*b,F=r[0],m=r[1],O=r[2],B=r[3],U=r[4],I=r[5],M=r[6],S=r[7],C=r[8],j=r[9],w=r[10],L=r[11];n[0]=p*F+s*U+_*C,n[1]=p*m+s*I+_*j,n[2]=p*O+s*M+_*w,n[3]=p*B+s*S+_*L,n[4]=A*F+T*U+R*C,n[5]=A*m+T*I+R*j,n[6]=A*O+T*M+R*w,n[7]=A*B+T*S+R*L,n[8]=P*F+x*U+d*C,n[9]=P*m+x*I+d*j,n[10]=P*O+x*M+d*w,n[11]=P*B+x*S+d*L,r!==n&&(n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]);return n},e.axisRotation=function(r,e,t){t=t||new o(16);var n=r[0],a=r[1],u=r[2],f=Math.sqrt(n*n+a*a+u*u),c=(n/=f)*n,i=(a/=f)*a,v=(u/=f)*u,l=Math.cos(e),b=Math.sin(e),E=1-l;return t[0]=c+(1-c)*l,t[1]=n*a*E+u*b,t[2]=n*u*E-a*b,t[3]=0,t[4]=n*a*E-u*b,t[5]=i+(1-i)*l,t[6]=a*u*E+n*b,t[7]=0,t[8]=n*u*E+a*b,t[9]=a*u*E-n*b,t[10]=v+(1-v)*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.copy=c,e.frustum=function(r,e,t,n,a,u,f){f=f||new o(16);var c=e-r,i=n-t,v=a-u;return f[0]=2*a/c,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2*a/i,f[6]=0,f[7]=0,f[8]=(r+e)/c,f[9]=(n+t)/i,f[10]=u/v,f[11]=-1,f[12]=0,f[13]=0,f[14]=a*u/v,f[15]=0,f},e.getAxis=function(r,e,t){t=t||n.create();var o=4*e;return t[0]=r[o+0],t[1]=r[o+1],t[2]=r[o+2],t},e.getTranslation=function(r,e){return(e=e||n.create())[0]=r[12],e[1]=r[13],e[2]=r[14],e},e.identity=i,e.inverse=v,e.lookAt=function(r,e,t,c){c=c||new o(16);var i=a,v=u,l=f;return n.normalize(n.subtract(r,e,l),l),n.normalize(n.cross(t,l,i),i),n.normalize(n.cross(l,i,v),v),c[0]=i[0],c[1]=i[1],c[2]=i[2],c[3]=0,c[4]=v[0],c[5]=v[1],c[6]=v[2],c[7]=0,c[8]=l[0],c[9]=l[1],c[10]=l[2],c[11]=0,c[12]=r[0],c[13]=r[1],c[14]=r[2],c[15]=1,c},e.multiply=function(r,e,t){t=t||new o(16);var n=r[0],a=r[1],u=r[2],f=r[3],c=r[4],i=r[5],v=r[6],l=r[7],b=r[8],E=r[9],y=r[10],p=r[11],s=r[12],_=r[13],A=r[14],T=r[15],R=e[0],P=e[1],x=e[2],d=e[3],F=e[4],m=e[5],O=e[6],B=e[7],U=e[8],I=e[9],M=e[10],S=e[11],C=e[12],j=e[13],w=e[14],L=e[15];return t[0]=n*R+c*P+b*x+s*d,t[1]=a*R+i*P+E*x+_*d,t[2]=u*R+v*P+y*x+A*d,t[3]=f*R+l*P+p*x+T*d,t[4]=n*F+c*m+b*O+s*B,t[5]=a*F+i*m+E*O+_*B,t[6]=u*F+v*m+y*O+A*B,t[7]=f*F+l*m+p*O+T*B,t[8]=n*U+c*I+b*M+s*S,t[9]=a*U+i*I+E*M+_*S,t[10]=u*U+v*I+y*M+A*S,t[11]=f*U+l*I+p*M+T*S,t[12]=n*C+c*j+b*w+s*L,t[13]=a*C+i*j+E*w+_*L,t[14]=u*C+v*j+y*w+A*L,t[15]=f*C+l*j+p*w+T*L,t},e.negate=function(r,e){return(e=e||new o(16))[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=-r[3],e[4]=-r[4],e[5]=-r[5],e[6]=-r[6],e[7]=-r[7],e[8]=-r[8],e[9]=-r[9],e[10]=-r[10],e[11]=-r[11],e[12]=-r[12],e[13]=-r[13],e[14]=-r[14],e[15]=-r[15],e},e.ortho=function(r,e,t,n,a,u,f){return(f=f||new o(16))[0]=2/(e-r),f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2/(n-t),f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2/(a-u),f[11]=0,f[12]=(e+r)/(r-e),f[13]=(n+t)/(t-n),f[14]=(u+a)/(a-u),f[15]=1,f},e.perspective=function(r,e,t,n,a){a=a||new o(16);var u=Math.tan(.5*Math.PI-.5*r),f=1/(t-n);return a[0]=u/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(t+n)*f,a[11]=-1,a[12]=0,a[13]=0,a[14]=t*n*f*2,a[15]=0,a},e.rotateX=function(r,e,t){t=t||new o(16);var n=r[4],a=r[5],u=r[6],f=r[7],c=r[8],i=r[9],v=r[10],l=r[11],b=Math.cos(e),E=Math.sin(e);t[4]=b*n+E*c,t[5]=b*a+E*i,t[6]=b*u+E*v,t[7]=b*f+E*l,t[8]=b*c-E*n,t[9]=b*i-E*a,t[10]=b*v-E*u,t[11]=b*l-E*f,r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]);return t},e.rotateY=function(r,e,t){t=t||new o(16);var n=r[0],a=r[1],u=r[2],f=r[3],c=r[8],i=r[9],v=r[10],l=r[11],b=Math.cos(e),E=Math.sin(e);t[0]=b*n-E*c,t[1]=b*a-E*i,t[2]=b*u-E*v,t[3]=b*f-E*l,t[8]=b*c+E*n,t[9]=b*i+E*a,t[10]=b*v+E*u,t[11]=b*l+E*f,r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]);return t},e.rotateZ=function(r,e,t){t=t||new o(16);var n=r[0],a=r[1],u=r[2],f=r[3],c=r[4],i=r[5],v=r[6],l=r[7],b=Math.cos(e),E=Math.sin(e);t[0]=b*n+E*c,t[1]=b*a+E*i,t[2]=b*u+E*v,t[3]=b*f+E*l,t[4]=b*c-E*n,t[5]=b*i-E*a,t[6]=b*v-E*u,t[7]=b*l-E*f,r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]);return t},e.rotationX=function(r,e){e=e||new o(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.rotationY=function(r,e){e=e||new o(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.rotationZ=function(r,e){e=e||new o(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.scale=function(r,e,t){t=t||new o(16);var n=e[0],a=e[1],u=e[2];t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=n*r[3],t[4]=a*r[4],t[5]=a*r[5],t[6]=a*r[6],t[7]=a*r[7],t[8]=u*r[8],t[9]=u*r[9],t[10]=u*r[10],t[11]=u*r[11],r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]);return t},e.scaling=function(r,e){return(e=e||new o(16))[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.setAxis=function(r,e,t,n){n!==r&&(n=c(r,n));var o=4*t;return n[o+0]=e[0],n[o+1]=e[1],n[o+2]=e[2],n},e.setDefaultType=function(r){var e=o;return o=r,e},e.setTranslation=function(r,e,t){t=t||i(),r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11]);return t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.transformDirection=function(r,e,t){t=t||n.create();var o=e[0],a=e[1],u=e[2];return t[0]=o*r[0]+a*r[4]+u*r[8],t[1]=o*r[1]+a*r[5]+u*r[9],t[2]=o*r[2]+a*r[6]+u*r[10],t},e.transformNormal=function(r,e,t){t=t||n.create();var o=v(r),a=e[0],u=e[1],f=e[2];return t[0]=a*o[0]+u*o[1]+f*o[2],t[1]=a*o[4]+u*o[5]+f*o[6],t[2]=a*o[8]+u*o[9]+f*o[10],t},e.transformPoint=function(r,e,t){t=t||n.create();var o=e[0],a=e[1],u=e[2],f=o*r[3]+a*r[7]+u*r[11]+r[15];return t[0]=(o*r[0]+a*r[4]+u*r[8]+r[12])/f,t[1]=(o*r[1]+a*r[5]+u*r[9]+r[13])/f,t[2]=(o*r[2]+a*r[6]+u*r[10]+r[14])/f,t},e.translate=function(r,e,t){t=t||new o(16);var n=e[0],a=e[1],u=e[2],f=r[0],c=r[1],i=r[2],v=r[3],l=r[4],b=r[5],E=r[6],y=r[7],p=r[8],s=r[9],_=r[10],A=r[11],T=r[12],R=r[13],P=r[14],x=r[15];r!==t&&(t[0]=f,t[1]=c,t[2]=i,t[3]=v,t[4]=l,t[5]=b,t[6]=E,t[7]=y,t[8]=p,t[9]=s,t[10]=_,t[11]=A);return t[12]=f*n+l*a+p*u+T,t[13]=c*n+b*a+s*u+R,t[14]=i*n+E*a+_*u+P,t[15]=v*n+y*a+A*u+x,t},e.translation=function(r,e){return(e=e||new o(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},e.transpose=function(r,e){if((e=e||new o(16))===r){var t;return t=r[1],r[1]=r[4],r[4]=t,t=r[2],r[2]=r[8],r[8]=t,t=r[3],r[3]=r[12],r[12]=t,t=r[6],r[6]=r[9],r[9]=t,t=r[7],r[7]=r[13],r[13]=t,t=r[11],r[11]=r[14],r[14]=t,e}var n=r[0],a=r[1],u=r[2],f=r[3],c=r[4],i=r[5],v=r[6],l=r[7],b=r[8],E=r[9],y=r[10],p=r[11],s=r[12],_=r[13],A=r[14],T=r[15];return e[0]=n,e[1]=c,e[2]=b,e[3]=s,e[4]=a,e[5]=i,e[6]=E,e[7]=_,e[8]=u,e[9]=v,e[10]=y,e[11]=A,e[12]=f,e[13]=l,e[14]=p,e[15]=T,e};var n=function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}(t("./src/v3.js"));var o=Float32Array,a=n.create(),u=n.create(),f=n.create();function c(r,e){return(e=e||new o(16))[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function i(r){return(r=r||new o(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function v(r,e){e=e||new o(16);var t=r[0],n=r[1],a=r[2],u=r[3],f=r[4],c=r[5],i=r[6],v=r[7],l=r[8],b=r[9],E=r[10],y=r[11],p=r[12],s=r[13],_=r[14],A=r[15],T=E*A,R=_*y,P=i*A,x=_*v,d=i*y,F=E*v,m=a*A,O=_*u,B=a*y,U=E*u,I=a*v,M=i*u,S=l*s,C=p*b,j=f*s,w=p*c,L=f*b,N=l*c,D=t*s,G=p*n,X=t*b,k=l*n,Y=t*c,V=f*n,K=T*c+x*b+d*s-(R*c+P*b+F*s),h=R*n+m*b+U*s-(T*n+O*b+B*s),W=P*n+O*c+I*s-(x*n+m*c+M*s),z=F*n+B*c+M*b-(d*n+U*c+I*b),H=1/(t*K+f*h+l*W+p*z);return e[0]=H*K,e[1]=H*h,e[2]=H*W,e[3]=H*z,e[4]=H*(R*f+P*l+F*p-(T*f+x*l+d*p)),e[5]=H*(T*t+O*l+B*p-(R*t+m*l+U*p)),e[6]=H*(x*t+m*f+M*p-(P*t+O*f+I*p)),e[7]=H*(d*t+U*f+I*l-(F*t+B*f+M*l)),e[8]=H*(S*v+w*y+L*A-(C*v+j*y+N*A)),e[9]=H*(C*u+D*y+k*A-(S*u+G*y+X*A)),e[10]=H*(j*u+G*v+Y*A-(w*u+D*v+V*A)),e[11]=H*(N*u+X*v+V*y-(L*u+k*v+Y*y)),e[12]=H*(j*E+N*_+C*i-(L*_+S*i+w*E)),e[13]=H*(X*_+S*a+G*E-(D*E+k*_+C*a)),e[14]=H*(D*i+V*_+w*a-(Y*_+j*a+G*i)),e[15]=H*(Y*E+L*a+k*i-(X*i+V*E+N*a)),e}},"./src/primitives.js":function(r,e,t){"use strict";e.__esModule=!0,e.create3DFVertices=B,e.createAugmentedTypedArray=b,e.createCubeVertices=F,e.createPlaneVertices=P,e.createSphereVertices=x,e.createTruncatedConeVertices=m,e.createXYQuadVertices=R,e.createCresentVertices=U,e.createCylinderVertices=I,e.createTorusVertices=M,e.createDiscVertices=S,e.deindexVertices=function(r){var e=r.indices,t={},n=e.length;return Object.keys(r).filter(E).forEach(function(o){for(var a=r[o],u=a.numComponents,f=b(u,n,a.constructor),c=0;c<n;++c)for(var i=e[c],v=i*u,l=0;l<u;++l)f.push(a[v+l]);t[o]=f}),t},e.flattenNormals=function(r){if(r.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(var e=r.normal,t=e.length,n=0;n<t;n+=9){var o=e[n+0],a=e[n+1],u=e[n+2],f=e[n+3],c=e[n+4],i=e[n+5],v=e[n+6],l=e[n+7],b=e[n+8],E=o+f+v,y=a+c+l,p=u+i+b,s=Math.sqrt(E*E+y*y+p*p);E/=s,y/=s,p/=s,e[n+0]=E,e[n+1]=y,e[n+2]=p,e[n+3]=E,e[n+4]=y,e[n+5]=p,e[n+6]=E,e[n+7]=y,e[n+8]=p}return r},e.makeRandomVertexColors=function(r,e){e=e||{};var t=r.position.numElements,n=b(4,t,Uint8Array),o=e.rand||function(r,e){return e<3?(t=256,Math.random()*t|0):255;var t};if(r.color=n,r.indices)for(var a=0;a<t;++a)n.push(o(a,0),o(a,1),o(a,2),o(a,3));else for(var u=e.vertsPerColor||3,f=t/u,c=0;c<f;++c)for(var i=[o(c,0),o(c,1),o(c,2),o(c,3)],v=0;v<u;++v)n.push(i);return r},e.reorientDirections=s,e.reorientNormals=_,e.reorientPositions=A,e.reorientVertices=T,e.concatVertices=function(r){for(var e,t={},n=function(n){var o=r[n];Object.keys(o).forEach(function(r){t[r]||(t[r]=[]),e||"indices"===r||(e=r);var n=o[r],a=v(n,r),u=i(n),f=u.length/a;t[r].push(f)})},o=0;o<r.length;++o)n(o);var a=t[e],u={};return Object.keys(t).forEach(function(e){var t=function(e){for(var t,n=0,o=0;o<r.length;++o){var a=r[o],u=a[e],f=i(u);n+=f.length,t&&!u.data||(t=u)}return{length:n,spec:t}}(e),n=N(t.spec,t.length);!function(e,t,n){for(var o=0,a=0,u=0;u<r.length;++u){var f=r[u],c=f[e],v=i(c);"indices"===e?(L(v,n,a,o),o+=t[u]):L(v,n,a),a+=v.length}}(e,a,i(n)),u[e]=n}),u},e.duplicateVertices=function(r){var e={};return Object.keys(r).forEach(function(t){var n=r[t],o=i(n),a=N(n,o.length);L(o,i(a),0),e[t]=a}),e},e.createDiscBuffers=e.createDiscBufferInfo=e.createTorusBuffers=e.createTorusBufferInfo=e.createCylinderBuffers=e.createCylinderBufferInfo=e.createCresentBuffers=e.createCresentBufferInfo=e.createXYQuadBuffers=e.createXYQuadBufferInfo=e.createTruncatedConeBuffers=e.createTruncatedConeBufferInfo=e.createSphereBuffers=e.createSphereBufferInfo=e.createPlaneBuffers=e.createPlaneBufferInfo=e.createCubeBuffers=e.createCubeBufferInfo=e.create3DFBuffers=e.create3DFBufferInfo=void 0;var n=c(t("./src/attributes.js")),o=c(t("./src/helper.js")),a=c(t("./src/typedarrays.js")),u=c(t("./src/m4.js")),f=c(t("./src/v3.js"));function c(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}var i=n.getArray_,v=n.getNumComponents_;function l(r,e){var t=0;return r.push=function(){for(var e=0;e<arguments.length;++e){var n=arguments[e];if(n instanceof Array||a.isArrayBuffer(n))for(var o=0;o<n.length;++o)r[t++]=n[o];else r[t++]=n}},r.reset=function(r){t=r||0},r.numComponents=e,Object.defineProperty(r,"numElements",{get:function(){return this.length/this.numComponents|0}}),r}function b(r,e,t){return l(new(t||Float32Array)(r*e),r)}function E(r){return"indices"!==r}function y(r,e,t){for(var n=r.length,o=new Float32Array(3),a=0;a<n;a+=3)t(e,[r[a],r[a+1],r[a+2]],o),r[a]=o[0],r[a+1]=o[1],r[a+2]=o[2]}function p(r,e,t){t=t||f.create();var n=e[0],o=e[1],a=e[2];return t[0]=n*r[0]+o*r[1]+a*r[2],t[1]=n*r[4]+o*r[5]+a*r[6],t[2]=n*r[8]+o*r[9]+a*r[10],t}function s(r,e){return y(r,e,u.transformDirection),r}function _(r,e){return y(r,u.inverse(e),p),r}function A(r,e){return y(r,e,u.transformPoint),r}function T(r,e){return Object.keys(r).forEach(function(t){var n=r[t];t.indexOf("pos")>=0?A(n,e):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?s(n,e):t.indexOf("norm")>=0&&_(n,e)}),r}function R(r,e,t){return r=r||2,{position:{numComponents:2,data:[(e=e||0)+-1*(r*=.5),(t=t||0)+-1*r,e+1*r,t+-1*r,e+-1*r,t+1*r,e+1*r,t+1*r]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function P(r,e,t,n,o){r=r||1,e=e||1,t=t||1,n=n||1,o=o||u.identity();for(var a=(t+1)*(n+1),f=b(3,a),c=b(3,a),i=b(2,a),v=0;v<=n;v++)for(var l=0;l<=t;l++){var E=l/t,y=v/n;f.push(r*E-.5*r,0,e*y-.5*e),c.push(0,1,0),i.push(E,y)}for(var p=t+1,s=b(3,t*n*2,Uint16Array),_=0;_<n;_++)for(var A=0;A<t;A++)s.push((_+0)*p+A,(_+1)*p+A,(_+0)*p+A+1),s.push((_+1)*p+A,(_+1)*p+A+1,(_+0)*p+A+1);return T({position:f,normal:c,texcoord:i,indices:s},o)}function x(r,e,t,n,o,a,u){if(e<=0||t<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,a=a||0;for(var f=(o=o||Math.PI)-n,c=(u=u||2*Math.PI)-a,i=(e+1)*(t+1),v=b(3,i),l=b(3,i),E=b(2,i),y=0;y<=t;y++)for(var p=0;p<=e;p++){var s=p/e,_=y/t,A=c*s+a,T=f*_+n,R=Math.sin(A),P=Math.cos(A),x=Math.sin(T),d=P*x,F=Math.cos(T),m=R*x;v.push(r*d,r*F,r*m),l.push(d,F,m),E.push(1-s,_)}for(var O=e+1,B=b(3,e*t*2,Uint16Array),U=0;U<e;U++)for(var I=0;I<t;I++)B.push((I+0)*O+U,(I+0)*O+U+1,(I+1)*O+U),B.push((I+1)*O+U,(I+0)*O+U+1,(I+1)*O+U+1);return{position:v,normal:l,texcoord:E,indices:B}}var d=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function F(r){for(var e=(r=r||1)/2,t=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],a=b(3,24),u=b(3,24),f=b(2,24),c=b(3,12,Uint16Array),i=0;i<6;++i){for(var v=d[i],l=0;l<4;++l){var E=t[v[l]],y=n[i],p=o[l];a.push(E),u.push(y),f.push(p)}var s=4*i;c.push(s+0,s+1,s+2),c.push(s+0,s+2,s+3)}return{position:a,normal:u,texcoord:f,indices:c}}function m(r,e,t,n,o,a,u){if(n<3)throw Error("radialSubdivisions must be 3 or greater");if(o<1)throw Error("verticalSubdivisions must be 1 or greater");for(var f=void 0===a||a,c=void 0===u||u,i=(f?2:0)+(c?2:0),v=(n+1)*(o+1+i),l=b(3,v),E=b(3,v),y=b(2,v),p=b(3,n*(o+i)*2,Uint16Array),s=n+1,_=Math.atan2(r-e,t),A=Math.cos(_),T=Math.sin(_),R=o+(c?2:0),P=f?-2:0;P<=R;++P){var x=P/o,d=t*x,F=void 0;P<0?(d=0,x=1,F=r):P>o?(d=t,x=1,F=e):F=r+P/o*(e-r),-2!==P&&P!==o+2||(F=0,x=0),d-=t/2;for(var m=0;m<s;++m){var O=Math.sin(m*Math.PI*2/n),B=Math.cos(m*Math.PI*2/n);l.push(O*F,d,B*F),E.push(P<0||P>o?0:O*A,P<0?-1:P>o?1:T,P<0||P>o?0:B*A),y.push(m/n,1-x)}}for(var U=0;U<o+i;++U)for(var I=0;I<n;++I)p.push(s*(U+0)+0+I,s*(U+0)+1+I,s*(U+1)+1+I),p.push(s*(U+0)+0+I,s*(U+1)+1+I,s*(U+1)+0+I);return{position:l,normal:E,texcoord:y,indices:p}}function O(r,e){e=e||[];for(var t=[],n=0;n<r.length;n+=4){var o=r[n],a=r.slice(n+1,n+4);a.push.apply(a,e);for(var u=0;u<o;++u)t.push.apply(t,a)}return t}function B(){var r=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=O([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),t=O([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=r.length/3,o={position:b(3,n),texcoord:b(2,n),normal:b(3,n),color:b(4,n,Uint8Array),indices:b(3,n/3,Uint16Array)};o.position.push(r),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(e),o.color.push(t);for(var a=0;a<n;++a)o.indices.push(a);return o}function U(r,e,t,n,o,a,u){if(o<=0)throw Error("subdivisionDown must be > 0");var c=2,i=(u=u||1)-(a=a||0),v=2*(o+1)*(2+c),l=b(3,v),E=b(3,v),y=b(2,v);function p(r,e,t){return r+(e-r)*t}function s(e,t,u,v,b,s){for(var _=0;_<=o;_++){var A=t/(c-1),T=_/o,R=2*(A-.5),P=(a+T*i)*Math.PI,x=Math.sin(P),d=Math.cos(P),F=p(r,e,x),m=R*n,O=d*r,B=x*F;l.push(m,O,B);var U=f.add(f.multiply([0,x,d],u),v);E.push(U),y.push(A*b+s,T)}}for(var _=0;_<c;_++){var A=2*(_/(c-1)-.5);s(e,_,[1,1,1],[0,0,0],1,0),s(e,_,[0,0,0],[A,0,0],0,0),s(t,_,[1,1,1],[0,0,0],1,0),s(t,_,[0,0,0],[A,0,0],0,1)}var T=b(3,2*o*(2+c),Uint16Array);function R(r,e){for(var t=0;t<o;++t)T.push(r+t+0,r+t+1,e+t+0),T.push(r+t+1,e+t+1,e+t+0)}var P=o+1;return R(0*P,4*P),R(5*P,7*P),R(6*P,2*P),R(3*P,1*P),{position:l,normal:E,texcoord:y,indices:T}}function I(r,e,t,n,o,a){return m(r,r,e,t,n,o,a)}function M(r,e,t,n,o,a){if(t<3)throw Error("radialSubdivisions must be 3 or greater");if(n<3)throw Error("verticalSubdivisions must be 3 or greater");o=o||0;for(var u=(a=a||2*Math.PI)-o,f=t+1,c=n+1,i=f*c,v=b(3,i),l=b(3,i),E=b(2,i),y=b(3,t*n*2,Uint16Array),p=0;p<c;++p)for(var s=p/n,_=s*Math.PI*2,A=Math.sin(_),T=r+A*e,R=Math.cos(_),P=R*e,x=0;x<f;++x){var d=x/t,F=o+d*u,m=Math.sin(F),O=Math.cos(F),B=m*T,U=O*T,I=m*A,M=O*A;v.push(B,P,U),l.push(I,R,M),E.push(d,1-s)}for(var S=0;S<n;++S)for(var C=0;C<t;++C){var j=1+C,w=1+S;y.push(f*S+C,f*w+C,f*S+j),y.push(f*w+C,f*w+j,f*S+j)}return{position:v,normal:l,texcoord:E,indices:y}}function S(r,e,t,n,o){if(e<3)throw Error("divisions must be at least 3");o=o||1,n=n||0;for(var a=(e+1)*((t=t||1)+1),u=b(3,a),f=b(3,a),c=b(2,a),i=b(3,t*e*2,Uint16Array),v=0,l=r-n,E=e+1,y=0;y<=t;++y){for(var p=n+l*Math.pow(y/t,o),s=0;s<=e;++s){var _=2*Math.PI*s/e,A=p*Math.cos(_),T=p*Math.sin(_);if(u.push(A,0,T),f.push(0,1,0),c.push(1-s/e,y/t),y>0&&s!==e){var R=v+(s+1),P=v+s,x=v+s-E,d=v+(s+1)-E;i.push(R,P,x),i.push(R,x,d)}}v+=e+1}return{position:u,normal:f,texcoord:c,indices:i}}function C(r){return function(e){var t=r.apply(this,Array.prototype.slice.call(arguments,1));return n.createBuffersFromArrays(e,t)}}function j(r){return function(e){var t=r.apply(null,Array.prototype.slice.call(arguments,1));return n.createBufferInfoFromArrays(e,t)}}var w=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function L(r,e,t,n){n=n||0;for(var o=r.length,a=0;a<o;++a)e[t+a]=r[a]+n}function N(r,e){var t=i(r),n=new t.constructor(e),a=n;return t.numComponents&&t.numElements&&l(n,t.numComponents),r.data&&(a={data:n},o.copyNamedProperties(w,r,a)),a}var D=j(B);e.create3DFBufferInfo=D;var G=C(B);e.create3DFBuffers=G;var X=j(F);e.createCubeBufferInfo=X;var k=C(F);e.createCubeBuffers=k;var Y=j(P);e.createPlaneBufferInfo=Y;var V=C(P);e.createPlaneBuffers=V;var K=j(x);e.createSphereBufferInfo=K;var h=C(x);e.createSphereBuffers=h;var W=j(m);e.createTruncatedConeBufferInfo=W;var z=C(m);e.createTruncatedConeBuffers=z;var H=j(R);e.createXYQuadBufferInfo=H;var q=C(R);e.createXYQuadBuffers=q;var Z=j(U);e.createCresentBufferInfo=Z;var Q=C(U);e.createCresentBuffers=Q;var $=j(I);e.createCylinderBufferInfo=$;var J=C(I);e.createCylinderBuffers=J;var g=j(M);e.createTorusBufferInfo=g;var rr=C(M);e.createTorusBuffers=rr;var er=j(S);e.createDiscBufferInfo=er;var tr=C(S);e.createDiscBuffers=tr},"./src/programs.js":function(r,e,t){"use strict";e.__esModule=!0,e.createAttributeSetters=k,e.createProgram=I,e.createProgramFromScripts=function(r,e,t,n,o){for(var a=m(t,n,o),u=[],f=0;f<e.length;++f){var c=M(r,e[f],r[O[f]],a.errorCallback);if(!c)return null;u.push(c)}return I(r,u,a)},e.createProgramFromSources=S,e.createProgramInfo=function(r,e,t,n,o){var a=m(t,n,o),u=!0;if(e=e.map(function(r){if(r.indexOf("\n")<0){var e=c(r);e?r=e.text:(a.errorCallback("no element with id: "+r),u=!1)}return r}),!u)return null;var f=S(r,e,a);if(!f)return null;return V(r,f)},e.createProgramInfoFromProgram=V,e.createUniformSetters=j,e.createUniformBlockSpecFromProgram=N,e.createUniformBlockInfoFromProgram=G,e.createUniformBlockInfo=function(r,e,t){return G(r,e.program,e.uniformBlockSpec,t)},e.createTransformFeedback=function(r,e,t){var n=r.createTransformFeedback();return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n),r.useProgram(e.program),L(r,e,t),r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),function(r,e,t){for(var n in e.transformFeedbackInfo&&(e=e.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var o=e[n];o&&r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o.index,null)}}(r,e,t),n},e.createTransformFeedbackInfo=w,e.bindTransformFeedbackInfo=L,e.setAttributes=Y,e.setBuffersAndAttributes=function(r,e,t){t.vertexArrayObject?r.bindVertexArray(t.vertexArrayObject):(Y(e.attribSetters||e,t.attribs),t.indices&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indices))},e.setUniforms=function r(e,t){var n=e.uniformSetters||e;var o=arguments.length;for(var a=1;a<o;++a){var u=arguments[a];if(Array.isArray(u))for(var f=u.length,c=0;c<f;++c)r(n,u[c]);else for(var i in u){var v=n[i];v&&v(u[i])}}},e.setUniformBlock=function(r,e,t){X(r,e,t)&&r.bufferData(r.UNIFORM_BUFFER,t.array,r.DYNAMIC_DRAW)},e.setBlockUniforms=function(r,e){var t=r.uniforms;for(var n in e){var o=t[n];if(o){var a=e[n];a.length?o.set(a):o[0]=a}}},e.bindUniformBlock=X;var n=a(t("./src/utils.js")),o=a(t("./src/helper.js"));function a(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}var u=o.error,f=o.warn,c="undefined"!=typeof document&&document.getElementById?document.getElementById.bind(document):function(){return null},i={};function v(r,e){return i[e].bindPoint}function l(r,e){return function(t){r.uniform1i(e,t)}}function b(r,e){return function(t){r.uniform1iv(e,t)}}function E(r,e){return function(t){r.uniform2iv(e,t)}}function y(r,e){return function(t){r.uniform3iv(e,t)}}function p(r,e){return function(t){r.uniform4iv(e,t)}}function s(r,e,t,a){var u=v(0,e);return n.isWebGL2(r)?function(e){var n,f;o.isTexture(r,e)?(n=e,f=null):(n=e.texture,f=e.sampler),r.uniform1i(a,t),r.activeTexture(r.TEXTURE0+t),r.bindTexture(u,n),r.bindSampler(t,f)}:function(e){r.uniform1i(a,t),r.activeTexture(r.TEXTURE0+t),r.bindTexture(u,e)}}function _(r,e,t,a,u){for(var f=v(0,e),c=new Int32Array(u),i=0;i<u;++i)c[i]=t+i;return n.isWebGL2(r)?function(e){r.uniform1iv(a,c),e.forEach(function(e,n){var a,u;r.activeTexture(r.TEXTURE0+c[n]),o.isTexture(r,e)?(a=e,u=null):(a=e.texture,u=e.sampler),r.bindSampler(t,u),r.bindTexture(f,a)})}:function(e){r.uniform1iv(a,c),e.forEach(function(e,t){r.activeTexture(r.TEXTURE0+c[t]),r.bindTexture(f,e)})}}function A(r,e){return function(t){t.value?(r.disableVertexAttribArray(e),r.vertexAttrib4fv(e,t.value)):(r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribPointer(e,t.numComponents||t.size,t.type||r.FLOAT,t.normalize||!1,t.stride||0,t.offset||0),void 0!==t.divisor&&r.vertexAttribDivisor(e,t.divisor))}}function T(r,e){return function(t){t.value?(r.disableVertexAttribArray(e),r.vertexAttrib4iv(e,t.value)):(r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribIPointer(e,t.numComponents||t.size,t.type||r.INT,t.stride||0,t.offset||0),void 0!==t.divisor&&r.vertexAttribDivisor(e,t.divisor))}}function R(r,e){return function(t){t.value?(r.disableVertexAttribArray(e),r.vertexAttrib4uiv(e,t.value)):(r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribIPointer(e,t.numComponents||t.size,t.type||r.UNSIGNED_INT,t.stride||0,t.offset||0),void 0!==t.divisor&&r.vertexAttribDivisor(e,t.divisor))}}function P(r,e,t){var n=t.size,o=t.count;return function(t){r.bindBuffer(r.ARRAY_BUFFER,t.buffer);for(var a=t.size||t.numComponents||n,u=a/o,f=t.type||r.FLOAT,c=i[f].size*a,v=t.normalize||!1,l=t.offset||0,b=c/o,E=0;E<o;++E)r.enableVertexAttribArray(e+E),r.vertexAttribPointer(e+E,u,f,v,c,l+b*E),void 0!==t.divisor&&r.vertexAttribDivisor(e+E,t.divisor)}}i[5126]={Type:Float32Array,size:4,setter:function(r,e){return function(t){r.uniform1f(e,t)}},arraySetter:function(r,e){return function(t){r.uniform1fv(e,t)}}},i[35664]={Type:Float32Array,size:8,setter:function(r,e){return function(t){r.uniform2fv(e,t)}}},i[35665]={Type:Float32Array,size:12,setter:function(r,e){return function(t){r.uniform3fv(e,t)}}},i[35666]={Type:Float32Array,size:16,setter:function(r,e){return function(t){r.uniform4fv(e,t)}}},i[5124]={Type:Int32Array,size:4,setter:l,arraySetter:b},i[35667]={Type:Int32Array,size:8,setter:E},i[35668]={Type:Int32Array,size:12,setter:y},i[35669]={Type:Int32Array,size:16,setter:p},i[5125]={Type:Uint32Array,size:4,setter:function(r,e){return function(t){r.uniform1ui(e,t)}},arraySetter:function(r,e){return function(t){r.uniform1uiv(e,t)}}},i[36294]={Type:Uint32Array,size:8,setter:function(r,e){return function(t){r.uniform2uiv(e,t)}}},i[36295]={Type:Uint32Array,size:12,setter:function(r,e){return function(t){r.uniform3uiv(e,t)}}},i[36296]={Type:Uint32Array,size:16,setter:function(r,e){return function(t){r.uniform4uiv(e,t)}}},i[35670]={Type:Uint32Array,size:4,setter:l,arraySetter:b},i[35671]={Type:Uint32Array,size:8,setter:E},i[35672]={Type:Uint32Array,size:12,setter:y},i[35673]={Type:Uint32Array,size:16,setter:p},i[35674]={Type:Float32Array,size:16,setter:function(r,e){return function(t){r.uniformMatrix2fv(e,!1,t)}}},i[35675]={Type:Float32Array,size:36,setter:function(r,e){return function(t){r.uniformMatrix3fv(e,!1,t)}}},i[35676]={Type:Float32Array,size:64,setter:function(r,e){return function(t){r.uniformMatrix4fv(e,!1,t)}}},i[35685]={Type:Float32Array,size:24,setter:function(r,e){return function(t){r.uniformMatrix2x3fv(e,!1,t)}}},i[35686]={Type:Float32Array,size:32,setter:function(r,e){return function(t){r.uniformMatrix2x4fv(e,!1,t)}}},i[35687]={Type:Float32Array,size:24,setter:function(r,e){return function(t){r.uniformMatrix3x2fv(e,!1,t)}}},i[35688]={Type:Float32Array,size:48,setter:function(r,e){return function(t){r.uniformMatrix3x4fv(e,!1,t)}}},i[35689]={Type:Float32Array,size:32,setter:function(r,e){return function(t){r.uniformMatrix4x2fv(e,!1,t)}}},i[35690]={Type:Float32Array,size:48,setter:function(r,e){return function(t){r.uniformMatrix4x3fv(e,!1,t)}}},i[35678]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:3553},i[35680]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:34067},i[35679]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:32879},i[35682]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:3553},i[36289]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:35866},i[36292]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:35866},i[36293]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:34067},i[36298]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:3553},i[36299]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:32879},i[36300]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:34067},i[36303]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:35866},i[36306]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:3553},i[36307]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:32879},i[36308]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:34067},i[36311]={Type:null,size:0,setter:s,arraySetter:_,bindPoint:35866};var x={};x[5126]={size:4,setter:A},x[35664]={size:8,setter:A},x[35665]={size:12,setter:A},x[35666]={size:16,setter:A},x[5124]={size:4,setter:T},x[35667]={size:8,setter:T},x[35668]={size:12,setter:T},x[35669]={size:16,setter:T},x[5125]={size:4,setter:R},x[36294]={size:8,setter:R},x[36295]={size:12,setter:R},x[36296]={size:16,setter:R},x[35670]={size:4,setter:T},x[35671]={size:8,setter:T},x[35672]={size:12,setter:T},x[35673]={size:16,setter:T},x[35674]={size:4,setter:P,count:2},x[35675]={size:9,setter:P,count:3},x[35676]={size:16,setter:P,count:4};var d=/^[ \t]*\n/;function F(r,e,t,n){var o=n||u,a=r.createShader(t),f=0;if(d.test(e)&&(f=1,e=e.replace(d,"")),r.shaderSource(a,e),r.compileShader(a),!r.getShaderParameter(a,r.COMPILE_STATUS)){var c=r.getShaderInfoLog(a);return o(function(r,e){return e=e||0,++e,r.split("\n").map(function(r,t){return t+e+": "+r}).join("\n")}(e,f)+"\n*** Error compiling shader: "+c),r.deleteShader(a),null}return a}function m(r,e,t){var n;if("function"==typeof e&&(t=e,e=void 0),"function"==typeof r)t=r,r=void 0;else if(r&&!Array.isArray(r)){if(r.errorCallback)return r;var o=r;t=o.errorCallback,r=o.attribLocations,n=o.transformFeedbackVaryings}var a={errorCallback:t||u,transformFeedbackVaryings:n};if(r){var f={};Array.isArray(r)?r.forEach(function(r,t){f[r]=e?e[t]:t}):f=r,a.attribLocations=f}return a}var O=["VERTEX_SHADER","FRAGMENT_SHADER"];function B(r,e){return e.indexOf("frag")>=0?r.FRAGMENT_SHADER:e.indexOf("vert")>=0?r.VERTEX_SHADER:void 0}function U(r,e){e.forEach(function(e){r.deleteShader(e)})}function I(r,e,t,n,a){for(var u=m(t,n,a),f=[],i=[],v=0;v<e.length;++v){var l=e[v];if("string"==typeof l){var b=c(l),E=b?b.text:l,y=r[O[v]];b&&b.type&&(y=B(r,b.type)||y),l=F(r,E,y,u.errorCallback),i.push(l)}o.isShader(r,l)&&f.push(l)}if(f.length!==e.length)return u.errorCallback("not enough shaders for program"),U(r,i),null;var p=r.createProgram();f.forEach(function(e){r.attachShader(p,e)}),u.attribLocations&&Object.keys(u.attribLocations).forEach(function(e){r.bindAttribLocation(p,u.attribLocations[e],e)});var s=u.transformFeedbackVaryings;if(s&&(s.attribs&&(s=s.attribs),Array.isArray(s)||(s=Object.keys(s)),r.transformFeedbackVaryings(p,s,u.transformFeedbackMode||r.SEPARATE_ATTRIBS)),r.linkProgram(p),!r.getProgramParameter(p,r.LINK_STATUS)){var _=r.getProgramInfoLog(p);return u.errorCallback("Error in program linking:"+_),r.deleteProgram(p),U(r,i),null}return p}function M(r,e,t,n){var o,a=c(e);if(!a)throw"*** Error: unknown script element"+e;o=a.text;var u=t||B(r,a.type);if(!u)throw"*** Error: unknown shader type";return F(r,o,u,n)}function S(r,e,t,n,o){for(var a=m(t,n,o),u=[],f=0;f<e.length;++f){var c=F(r,e[f],r[O[f]],a.errorCallback);if(!c)return null;u.push(c)}return I(r,u,a)}function C(r){var e=r.name;return e.startsWith("gl_")||e.startsWith("webgl_")}function j(r,e){var t=0;function n(e,n){var o,a=r.getUniformLocation(e,n.name),u=n.size>1&&"[0]"===n.name.substr(-3),f=n.type,c=i[f];if(!c)throw"unknown type: 0x"+f.toString(16);if(c.bindPoint){var v=t;t+=n.size,o=u?c.arraySetter(r,f,v,a,n.size):c.setter(r,f,v,a,n.size)}else o=c.arraySetter&&u?c.arraySetter(r,a):c.setter(r,a);return o.location=a,o}for(var o={},a=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),u=0;u<a;++u){var f=r.getActiveUniform(e,u);if(!C(f)){var c=f.name;"[0]"===c.substr(-3)&&(c=c.substr(0,c.length-3));var v=n(e,f);o[c]=v}}return o}function w(r,e){for(var t={},n=r.getProgramParameter(e,r.TRANSFORM_FEEDBACK_VARYINGS),o=0;o<n;++o){var a=r.getTransformFeedbackVarying(e,o);t[a.name]={index:o,type:a.type,size:a.size}}return t}function L(r,e,t){for(var n in e.transformFeedbackInfo&&(e=e.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var o=e[n];if(o){var a=t[n];a.offset?r.bindBufferRange(r.TRANSFORM_FEEDBACK_BUFFER,o.index,a.buffer,a.offset,a.size):r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o.index,a.buffer)}}}function N(r,e){for(var t=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),n=[],o=[],a=0;a<t;++a){o.push(a),n.push({});var u=r.getActiveUniform(e,a);if(C(u))break;n[a].name=u.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var a=t[0],u=t[1];r.getActiveUniforms(e,o,r[a]).forEach(function(r,e){n[e][u]=r})});for(var f={},c=r.getProgramParameter(e,r.ACTIVE_UNIFORM_BLOCKS),i=0;i<c;++i){var v=r.getActiveUniformBlockName(e,i),l={index:i,usedByVertexShader:r.getActiveUniformBlockParameter(e,i,r.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:r.getActiveUniformBlockParameter(e,i,r.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:r.getActiveUniformBlockParameter(e,i,r.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:r.getActiveUniformBlockParameter(e,i,r.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};l.used=l.usedByVertexSahder||l.usedByFragmentShader,f[v]=l}return{blockSpecs:f,uniformData:n}}var D=/\[\d+\]\.$/;function G(r,e,t,n){var o=t.blockSpecs,a=t.uniformData,u=o[n];if(!u)return f("no uniform block object named:",n),{name:n,uniforms:{}};var c=new ArrayBuffer(u.size),v=r.createBuffer(),l=u.index;r.bindBuffer(r.UNIFORM_BUFFER,v),r.uniformBlockBinding(e,u.index,l);var b=n+".";D.test(b)&&(b=b.replace(D,"."));var E={};return u.uniformIndices.forEach(function(r){var e=a[r],t=i[e.type],n=t.Type,o=e.size*t.size,u=e.name;u.substr(0,b.length)===b&&(u=u.substr(b.length)),E[u]=new n(c,e.offset,o/n.BYTES_PER_ELEMENT)}),{name:n,array:c,asFloat:new Float32Array(c),buffer:v,uniforms:E}}function X(r,e,t){var n=(e.uniformBlockSpec||e).blockSpecs[t.name];if(n){var o=n.index;return r.bindBufferRange(r.UNIFORM_BUFFER,o,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function k(r,e){for(var t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES),o=0;o<n;++o){var a=r.getActiveAttrib(e,o);if(!C(a)){var u=r.getAttribLocation(e,a.name),f=x[a.type],c=f.setter(r,u,f);c.location=u,t[a.name]=c}}return t}function Y(r,e){for(var t in e){var n=r[t];n&&n(e[t])}}function V(r,e){var t={program:e,uniformSetters:j(r,e),attribSetters:k(r,e)};return n.isWebGL2(r)&&(t.uniformBlockSpec=N(r,e),t.transformFeedbackInfo=w(r,e)),t}},"./src/textures.js":function(r,e,t){"use strict";e.__esModule=!0,e.setTextureDefaults_=function(r){a.copyExistingProperties(r,f),r.textureColor&&d(r.textureColor)},e.createSampler=C,e.createSamplers=function(r,e){var t={};return Object.keys(e).forEach(function(n){t[n]=C(r,e[n])}),t},e.setSamplerParameters=S,e.createTexture=q,e.setEmptyTexture=H,e.setTextureFromArray=z,e.loadTextureFromUrl=K,e.setTextureFromElement=D,e.setTextureFilteringForSize=j,e.setTextureParameters=M,e.setDefaultTextureColor=d,e.createTextures=function(r,e,t){t=t||G;var n=0,o=[],a={},u={};function f(){0===n&&setTimeout(function(){t(o.length?o:void 0,a,u)},0)}return Object.keys(e).forEach(function(t){var c,i,v=e[t];("string"==typeof(i=v.src)||Array.isArray(i)&&"string"==typeof i[0])&&(c=function(r,e,a){u[t]=a,--n,r&&o.push(r),f()},++n),a[t]=q(r,v,c)}),f(),a},e.resizeTexture=function(r,e,t,n,o){n=n||t.width,o=o||t.height;var a=t.target||r.TEXTURE_2D;r.bindTexture(a,e);var u,f=t.level||0,i=t.internalFormat||t.format||r.RGBA,v=_(i),l=t.format||v.format,b=t.src;u=b&&(c(b)||Array.isArray(b)&&"number"==typeof b[0])?t.type||P(r,b,v.type):t.type||v.type;if(a===r.TEXTURE_CUBE_MAP)for(var E=0;E<6;++E)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+E,f,i,n,o,0,l,u,null);else r.texImage2D(a,f,i,n,o,0,l,u,null)},e.canGenerateMipmap=T,e.canFilter=R,e.getNumComponentsForFormat=function(r){var e=b[r];if(!e)throw"unknown format: "+r;return e.numColorComponents},e.getBytesPerElementForInternalFormat=s,e.getFormatAndTypeForInternalFormat=_;var n=u(t("./src/utils.js")),o=u(t("./src/typedarrays.js")),a=u(t("./src/helper.js"));function u(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}var f={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},c=o.isArrayBuffer,i="undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null,v=6407,l=33319,b={},E=b;E[6406]={numColorComponents:1},E[6409]={numColorComponents:1},E[6410]={numColorComponents:2},E[v]={numColorComponents:3},E[6408]={numColorComponents:4},E[6403]={numColorComponents:1},E[36244]={numColorComponents:1},E[l]={numColorComponents:2},E[33320]={numColorComponents:2},E[v]={numColorComponents:3},E[36248]={numColorComponents:3},E[6408]={numColorComponents:4},E[36249]={numColorComponents:4},E[6402]={numColorComponents:1},E[34041]={numColorComponents:2};var y={},p=y;function s(r,e){var t=y[r];if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[e];if(void 0===n)throw"unknown internal format";return n}function _(r){var e=y[r];if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function A(r){return 0==(r&r-1)}function T(r,e,t,o){if(!n.isWebGL2(r))return A(e)&&A(t);var a=y[o];if(!a)throw"unknown internal format";return a.colorRenderable&&a.textureFilterable}function R(r){var e=y[r];if(!e)throw"unknown internal format";return e.textureFilterable}function P(r,e,t){return c(e)?o.getGLTypeForTypedArray(e):t||r.UNSIGNED_BYTE}function x(r,e,t,n,o){if(o%1!=0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=o/n)%1)throw"can't guess dimensions"}else if((n=o/t)%1)throw"can't guess dimensions"}else{var a=Math.sqrt(o/(e===r.TEXTURE_CUBE_MAP?6:1));a%1==0?(t=a,n=a):(t=o,n=1)}return{width:t,height:n}}function d(r){f.textureColor=new Uint8Array([255*r[0],255*r[1],255*r[2],255*r[3]])}p[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},p[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},p[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]},p[v]={textureFormat:v,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},p[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},p[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},p[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},p[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},p[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},p[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},p[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},p[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},p[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},p[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},p[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},p[33323]={textureFormat:l,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},p[36757]={textureFormat:l,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},p[33327]={textureFormat:l,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},p[33328]={textureFormat:l,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},p[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},p[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},p[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},p[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},p[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},p[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},p[32849]={textureFormat:v,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},p[35905]={textureFormat:v,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},p[36194]={textureFormat:v,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},p[36758]={textureFormat:v,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},p[35898]={textureFormat:v,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},p[35901]={textureFormat:v,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},p[34843]={textureFormat:v,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},p[34837]={textureFormat:v,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},p[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},p[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},p[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},p[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},p[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},p[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},p[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},p[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},p[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},p[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},p[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},p[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},p[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},p[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},p[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},p[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},p[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},p[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},p[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},p[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},p[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},p[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},p[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},p[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},p[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},p[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(p).forEach(function(r){var e=p[r];e.bytesPerElementMap={},e.bytesPerElement.forEach(function(r,t){var n=e.type[t];e.bytesPerElementMap[n]=r})});var F={};function m(r,e){void 0!==e.colorspaceConversion&&(F.colorspaceConversion=r.getParameter(r.UNPACK_COLORSPACE_CONVERSION_WEBGL),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.colorspaceConversion)),void 0!==e.premultiplyAlpha&&(F.premultiplyAlpha=r.getParameter(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha)),void 0!==e.flipY&&(F.flipY=r.getParameter(r.UNPACK_FLIP_Y_WEBGL),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,e.flipY))}function O(r,e){void 0!==e.colorspaceConversion&&r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,F.colorspaceConversion),void 0!==e.premultiplyAlpha&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),void 0!==e.flipY&&r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,F.flipY)}function B(r){F.unpackAlignment=r.getParameter(r.UNPACK_ALIGNMENT),n.isWebGL2(r)&&(F.unpackRowLength=r.getParameter(r.UNPACK_ROW_LENGTH),F.unpackImageHeight=r.getParameter(r.UNPACK_IMAGE_HEIGHT),F.unpackSkipPixels=r.getParameter(r.UNPACK_SKIP_PIXELS),F.unpackSkipRows=r.getParameter(r.UNPACK_SKIP_ROWS),F.unpackSkipImages=r.getParameter(r.UNPACK_SKIP_IMAGES))}function U(r){r.pixelStorei(r.UNPACK_ALIGNMENT,F.unpackAlignment),n.isWebGL2(r)&&(r.pixelStorei(r.UNPACK_ROW_LENGTH,F.unpackRowLength),r.pixelStorei(r.UNPACK_IMAGE_HEIGHT,F.unpackImageHeight),r.pixelStorei(r.UNPACK_SKIP_PIXELS,F.unpackSkipPixels),r.pixelStorei(r.UNPACK_SKIP_ROWS,F.unpackSkipRows),r.pixelStorei(r.UNPACK_SKIP_IMAGES,F.unpackSkipImages))}function I(r,e,t,n){n.minMag&&(t.call(r,e,r.TEXTURE_MIN_FILTER,n.minMag),t.call(r,e,r.TEXTURE_MAG_FILTER,n.minMag)),n.min&&t.call(r,e,r.TEXTURE_MIN_FILTER,n.min),n.mag&&t.call(r,e,r.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(t.call(r,e,r.TEXTURE_WRAP_S,n.wrap),t.call(r,e,r.TEXTURE_WRAP_T,n.wrap),(e===r.TEXTURE_3D||a.isSampler(r,e))&&t.call(r,e,r.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&t.call(r,e,r.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&t.call(r,e,r.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&t.call(r,e,r.TEXTURE_WRAP_T,n.wrapT),n.minLod&&t.call(r,e,r.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&t.call(r,e,r.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&t.call(r,e,r.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&t.call(r,e,r.TEXTURE_MAX_LEVEL,n.maxLevel)}function M(r,e,t){var n=t.target||r.TEXTURE_2D;r.bindTexture(n,e),I(r,n,r.texParameteri,t)}function S(r,e,t){I(r,e,r.samplerParameteri,t)}function C(r,e){var t=r.createSampler();return S(r,t,e),t}function j(r,e,t,n,o,a,u){t=t||f.textureOptions,a=a||r.RGBA,u=u||r.UNSIGNED_BYTE;var c=t.target||r.TEXTURE_2D;if(n=n||t.width,o=o||t.height,r.bindTexture(c,e),T(r,n,o,a))r.generateMipmap(c);else{var i=R(a)?r.LINEAR:r.NEAREST;r.texParameteri(c,r.TEXTURE_MIN_FILTER,i),r.texParameteri(c,r.TEXTURE_MAG_FILTER,i),r.texParameteri(c,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(c,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)}}function w(r){return!0===r.auto||void 0===r.auto&&void 0===r.level}function L(r,e){return(e=e||{}).cubeFaceOrder||[r.TEXTURE_CUBE_MAP_POSITIVE_X,r.TEXTURE_CUBE_MAP_NEGATIVE_X,r.TEXTURE_CUBE_MAP_POSITIVE_Y,r.TEXTURE_CUBE_MAP_NEGATIVE_Y,r.TEXTURE_CUBE_MAP_POSITIVE_Z,r.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function N(r,e){var t=L(r,e).map(function(r,e){return{face:r,ndx:e}});return t.sort(function(r,e){return r.face-e.face}),t}function D(r,e,t,n){var o=(n=n||f.textureOptions).target||r.TEXTURE_2D,a=n.level||0,u=t.width,c=t.height,v=n.internalFormat||n.format||r.RGBA,l=_(v),b=n.format||l.format,E=n.type||l.type;if(m(r,n),r.bindTexture(o,e),o===r.TEXTURE_CUBE_MAP){var y,p,s=t.width,A=t.height;if(s/6===A)y=A,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(A/6===s)y=s,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(s/3==A/2)y=s/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(s/2!=A/3)throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);y=s/2,p=[0,0,1,0,0,1,1,1,0,2,1,2]}i?(i.canvas.width=y,i.canvas.height=y,u=y,c=y,N(r,n).forEach(function(e){var n=p[2*e.ndx+0]*y,o=p[2*e.ndx+1]*y;i.drawImage(t,n,o,y,y,0,0,y,y),r.texImage2D(e.face,a,v,b,E,i.canvas)}),i.canvas.width=1,i.canvas.height=1):"undefined"!=typeof createImageBitmap&&(u=y,c=y,N(r,n).forEach(function(f){var i=p[2*f.ndx+0]*y,l=p[2*f.ndx+1]*y;r.texImage2D(f.face,a,v,y,y,0,b,E,null),createImageBitmap(t,i,l,y,y,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(t){m(r,n),r.bindTexture(o,e),r.texImage2D(f.face,a,v,b,E,t),O(r,n),w(n)&&j(r,e,n,u,c,v,E)})}))}else if(o===r.TEXTURE_3D||o===r.TEXTURE_2D_ARRAY){var T=Math.min(t.width,t.height),R=Math.max(t.width,t.height),P=R/T;if(P%1!=0)throw"can not compute 3D dimensions of element";var x=t.width===R?1:0,d=t.height===R?1:0;B(r),r.pixelStorei(r.UNPACK_ALIGNMENT,1),r.pixelStorei(r.UNPACK_ROW_LENGTH,t.width),r.pixelStorei(r.UNPACK_IMAGE_HEIGHT,0),r.pixelStorei(r.UNPACK_SKIP_IMAGES,0),r.texImage3D(o,a,v,T,T,T,0,b,E,null);for(var F=0;F<P;++F){var I=F*T*x,S=F*T*d;r.pixelStorei(r.UNPACK_SKIP_PIXELS,I),r.pixelStorei(r.UNPACK_SKIP_ROWS,S),r.texSubImage3D(o,a,0,0,F,T,T,1,b,E,t)}U(r)}else r.texImage2D(o,a,v,b,E,t);O(r,n),w(n)&&j(r,e,n,u,c,v,E),M(r,e,n)}function G(){}function X(r,e){return void 0!==e||function(r){if("undefined"!=typeof document){var e=document.createElement("a");return e.href=r,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}var t=new URL(location.href).origin;return new URL(r,location.href).origin===t}(r)?e:"anonymous"}function k(r){return"undefined"!=typeof ImageBitmap&&r instanceof ImageBitmap||"undefined"!=typeof ImageData&&r instanceof ImageData||"undefined"!=typeof HTMLElement&&r instanceof HTMLElement}function Y(r,e,t){return k(r)?(setTimeout(function(){t(null,r)}),r):function(r,e,t){var n;if(t=t||G,e=void 0!==e?e:f.crossOrigin,e=X(r,e),"undefined"!=typeof Image){n=new Image,void 0!==e&&(n.crossOrigin=e);var o=function(){n.removeEventListener("error",u),n.removeEventListener("load",c),n=null},u=function(){var e="couldn't load image: "+r;a.error(e),t(e,n),o()},c=function(){t(null,n),o()};return n.addEventListener("error",u),n.addEventListener("load",c),n.src=r,n}if("undefined"!=typeof ImageBitmap){var i,v,l=function(){t(i,v)},b={};e&&(b.mode="cors"),fetch(r,b).then(function(r){if(!r.ok)throw r;return r.blob()}).then(function(r){return createImageBitmap(r,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(r){v=r,setTimeout(l)}).catch(function(r){i=r,setTimeout(l)}),n=null}return n}(r,e,t)}function V(r,e,t){var n=(t=t||f.textureOptions).target||r.TEXTURE_2D;if(r.bindTexture(n,e),!1!==t.color){var o=function(r){return r=r||f.textureColor,c(r)?r:new Uint8Array([255*r[0],255*r[1],255*r[2],255*r[3]])}(t.color);if(n===r.TEXTURE_CUBE_MAP)for(var a=0;a<6;++a)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,o);else n===r.TEXTURE_3D||n===r.TEXTURE_2D_ARRAY?r.texImage3D(n,0,r.RGBA,1,1,1,0,r.RGBA,r.UNSIGNED_BYTE,o):r.texImage2D(n,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,o)}}function K(r,e,t,n){return n=n||G,t=t||f.textureOptions,V(r,e,t),Y((t=Object.assign({},t)).src,t.crossOrigin,function(o,a){o?n(o,e,a):(D(r,e,a,t),n(null,e,a))})}function h(r,e,t,n){n=n||G;var o=t.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";var a=t.level||0,u=t.internalFormat||t.format||r.RGBA,f=_(u),c=t.format||f.format,i=t.type||r.UNSIGNED_BYTE,v=t.target||r.TEXTURE_2D;if(v!==r.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";V(r,e,t),t=Object.assign({},t);var l,b=6,E=[],y=L(r,t);l=o.map(function(o,f){return Y(o,t.crossOrigin,(p=y[f],function(o,f){--b,o?E.push(o):f.width!==f.height?E.push("cubemap face img is not a square: "+f.src):(m(r,t),r.bindTexture(v,e),5===b?L(r).forEach(function(e){r.texImage2D(e,a,u,c,i,f)}):r.texImage2D(p,a,u,c,i,f),O(r,t),w(t)&&r.generateMipmap(v)),0===b&&n(E.length?E:void 0,e,l)}));var p})}function W(r,e,t,n){n=n||G;var o=t.src,a=t.internalFormat||t.format||r.RGBA,u=_(a),f=t.format||u.format,c=t.type||r.UNSIGNED_BYTE,v=t.target||r.TEXTURE_2D_ARRAY;if(v!==r.TEXTURE_3D&&v!==r.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";V(r,e,t),t=Object.assign({},t);var l,b=o.length,E=[],y=t.level||0,p=t.width,s=t.height,A=o.length,T=!0;l=o.map(function(o,u){return Y(o,t.crossOrigin,(_=u,function(o,u){if(--b,o)E.push(o);else{if(m(r,t),r.bindTexture(v,e),T){T=!1,p=t.width||u.width,s=t.height||u.height,r.texImage3D(v,y,a,p,s,A,0,f,c,null);for(var R=0;R<A;++R)r.texSubImage3D(v,y,0,0,R,p,s,1,f,c,u)}else{var P=u;u.width===p&&u.height===s||(P=i.canvas,i.canvas.width=p,i.canvas.height=s,i.drawImage(u,0,0,p,s)),r.texSubImage3D(v,y,0,0,_,p,s,1,f,c,P),P===i.canvas&&(i.canvas.width=0,i.canvas.height=0)}O(r,t),w(t)&&r.generateMipmap(v)}0===b&&n(E.length?E:void 0,e,l)}));var _})}function z(r,e,t,a){var u=(a=a||f.textureOptions).target||r.TEXTURE_2D;r.bindTexture(u,e);var i=a.width,v=a.height,l=a.depth,b=a.level||0,E=a.internalFormat||a.format||r.RGBA,y=_(E),p=a.format||y.format,A=a.type||P(r,t,y.type);if(c(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{var T=o.getTypedArrayTypeForGLType(A);t=new T(t)}var R,d=s(E,A),F=t.byteLength/d;if(F%1)throw"length wrong size for format: "+n.glEnumToString(r,p);if(u===r.TEXTURE_3D)if(i||v||l)!i||v&&l?!v||i&&l?(R=x(r,u,i,v,F/l),i=R.width,v=R.height):(R=x(r,u,i,l,F/v),i=R.width,l=R.height):(R=x(r,u,v,l,F/i),v=R.width,l=R.height);else{var I=Math.cbrt(F);if(I%1!=0)throw"can't guess cube size of array of numElements: "+F;i=I,v=I,l=I}else R=x(r,u,i,v,F),i=R.width,v=R.height;if(B(r),r.pixelStorei(r.UNPACK_ALIGNMENT,a.unpackAlignment||1),m(r,a),u===r.TEXTURE_CUBE_MAP){var M=F/6*(d/t.BYTES_PER_ELEMENT);N(r,a).forEach(function(e){var n=M*e.ndx,o=t.subarray(n,n+M);r.texImage2D(e.face,b,E,i,v,0,p,A,o)})}else u===r.TEXTURE_3D?r.texImage3D(u,b,E,i,v,l,0,p,A,t):r.texImage2D(u,b,E,i,v,0,p,A,t);return O(r,a),U(r),{width:i,height:v,depth:l,type:A}}function H(r,e,t){var n=t.target||r.TEXTURE_2D;r.bindTexture(n,e);var o=t.level||0,a=t.internalFormat||t.format||r.RGBA,u=_(a),f=t.format||u.format,c=t.type||u.type;if(m(r,t),n===r.TEXTURE_CUBE_MAP)for(var i=0;i<6;++i)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+i,o,a,t.width,t.height,0,f,c,null);else n===r.TEXTURE_3D?r.texImage3D(n,o,a,t.width,t.height,t.depth,0,f,c,null):r.texImage2D(n,o,a,t.width,t.height,0,f,c,null);O(r,t)}function q(r,e,t){t=t||G,e=e||f.textureOptions;var n=r.createTexture(),o=e.target||r.TEXTURE_2D,a=e.width||1,u=e.height||1,i=e.internalFormat||r.RGBA,v=_(i),l=e.type||v.type;r.bindTexture(o,n),o===r.TEXTURE_CUBE_MAP&&(r.texParameteri(o,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(o,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));var b=e.src;if(b)if("function"==typeof b&&(b=b(r,e)),"string"==typeof b)K(r,n,e,t);else if(c(b)||Array.isArray(b)&&("number"==typeof b[0]||Array.isArray(b[0])||c(b[0]))){var E=z(r,n,b,e);a=E.width,u=E.height,l=E.type}else if(Array.isArray(b)&&("string"==typeof b[0]||k(b[0])))o===r.TEXTURE_CUBE_MAP?h(r,n,e,t):W(r,n,e,t);else{if(!k(b))throw"unsupported src type";D(r,n,b,e),a=b.width,u=b.height}else H(r,n,e);return w(e)&&j(r,n,e,a,u,i,l),M(r,n,e),n}},"./src/twgl-full.js":function(r,e,t){"use strict";e.__esModule=!0;var n={m4:!0,v3:!0,primitives:!0};e.primitives=e.v3=e.m4=void 0;var o=c(t("./src/m4.js"));e.m4=o;var a=c(t("./src/v3.js"));e.v3=a;var u=c(t("./src/primitives.js"));e.primitives=u;var f=t("./src/twgl.js");function c(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}Object.keys(f).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=f[r]))})},"./src/twgl.js":function(r,e,t){"use strict";e.__esModule=!0;var n={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};e.addExtensionsToContext=A,e.getContext=function(r,e){return function(r,e){for(var t=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=r.getContext(t[o],e)){y.addExtensionsToContext&&A(n);break}return n}(r,e)},e.getWebGLContext=function(r,e){return function(r,e){for(var t=["webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=r.getContext(t[o],e)){y.addExtensionsToContext&&A(n);break}return n}(r,e)},e.resizeCanvasToDisplaySize=function(r,e){e=e||1,e=Math.max(0,e);var t=r.clientWidth*e|0,n=r.clientHeight*e|0;if(r.width!==t||r.height!==n)return r.width=t,r.height=n,!0;return!1},e.setDefaults=function(r){u.copyExistingProperties(r,y),o.setAttributeDefaults_(r),a.setTextureDefaults_(r)};var o=E(t("./src/attributes.js"));Object.keys(o).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=o[r]))});var a=E(t("./src/textures.js"));Object.keys(a).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=a[r]))});var u=E(t("./src/helper.js")),f=E(t("./src/utils.js"));Object.keys(f).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=f[r]))});var c=t("./src/draw.js");Object.keys(c).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=c[r]))});var i=t("./src/framebuffers.js");Object.keys(i).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=i[r]))});var v=t("./src/programs.js");Object.keys(v).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=v[r]))});var l=t("./src/typedarrays.js");Object.keys(l).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=l[r]))});var b=t("./src/vertex-arrays.js");function E(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}Object.keys(b).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(n,r)||(e[r]=b[r]))});var y={addExtensionsToContext:!0};var p=/^(.*?)_/;function s(r,e){f.glEnumToString(r,0);var t=r.getExtension(e);if(t){var n={},o=p.exec(e)[1],a="_"+o;for(var c in t){var i=t[c],v="function"==typeof i,l=v?o:a,b=c;c.endsWith(l)&&(b=c.substring(0,c.length-l.length)),void 0!==r[b]?v||r[b]===i||u.warn(b,r[b],i,c):v?r[b]=function(r){return function(){return r.apply(t,arguments)}}(i):(r[b]=i,n[b]=i)}n.constructor={name:t.constructor.name},f.glEnumToString(n,0)}return t}var _=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function A(r){for(var e=0;e<_.length;++e)s(r,_[e])}},"./src/typedarrays.js":function(r,e,t){"use strict";e.__esModule=!0,e.getGLTypeForTypedArray=function(r){if(r instanceof Int8Array)return n;if(r instanceof Uint8Array)return o;if(r instanceof Uint8ClampedArray)return o;if(r instanceof Int16Array)return a;if(r instanceof Uint16Array)return u;if(r instanceof Int32Array)return f;if(r instanceof Uint32Array)return c;if(r instanceof Float32Array)return i;throw"unsupported typed array type"},e.getGLTypeForTypedArrayType=function(r){if(r===Int8Array)return n;if(r===Uint8Array)return o;if(r===Uint8ClampedArray)return o;if(r===Int16Array)return a;if(r===Uint16Array)return u;if(r===Int32Array)return f;if(r===Uint32Array)return c;if(r===Float32Array)return i;throw"unsupported typed array type"},e.getTypedArrayTypeForGLType=function(r){var e=v[r];if(!e)throw"unknown gl type";return e},e.isArrayBuffer=void 0;var n=5120,o=5121,a=5122,u=5123,f=5124,c=5125,i=5126,v={},l=v;l[n]=Int8Array,l[o]=Uint8Array,l[a]=Int16Array,l[u]=Uint16Array,l[f]=Int32Array,l[c]=Uint32Array,l[i]=Float32Array,l[32819]=Uint16Array,l[32820]=Uint16Array,l[33635]=Uint16Array,l[5131]=Uint16Array,l[33640]=Uint32Array,l[35899]=Uint32Array,l[35902]=Uint32Array,l[36269]=Uint32Array,l[34042]=Uint32Array;var b="undefined"!=typeof SharedArrayBuffer?function(r){return r&&r.buffer&&(r.buffer instanceof ArrayBuffer||r.buffer instanceof SharedArrayBuffer)}:function(r){return r&&r.buffer&&r.buffer instanceof ArrayBuffer};e.isArrayBuffer=b},"./src/utils.js":function(r,e,t){"use strict";e.__esModule=!0,e.isWebGL1=function(r){return!r.texStorage2D},e.isWebGL2=function(r){return!!r.texStorage2D},e.glEnumToString=void 0;var n=function(){var r={},e={};return function(t,n){return function(t){var n=t.constructor.name;if(!r[n]){for(var o in t)if("number"==typeof t[o]){var a=e[t[o]];e[t[o]]=a?"".concat(a," | ").concat(o):o}r[n]=!0}}(t),e[n]||"0x"+n.toString(16)}}();e.glEnumToString=n},"./src/v3.js":function(r,e,t){"use strict";e.__esModule=!0,e.add=function(r,e,t){return(t=t||new n(3))[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},e.copy=function(r,e){return(e=e||new n(3))[0]=r[0],e[1]=r[1],e[2]=r[2],e},e.create=function(r,e,t){var o=new n(3);r&&(o[0]=r);e&&(o[1]=e);t&&(o[2]=t);return o},e.cross=function(r,e,t){t=t||new n(3);var o=r[2]*e[0]-r[0]*e[2],a=r[0]*e[1]-r[1]*e[0];return t[0]=r[1]*e[2]-r[2]*e[1],t[1]=o,t[2]=a,t},e.distance=function(r,e){var t=r[0]-e[0],n=r[1]-e[1],o=r[2]-e[2];return Math.sqrt(t*t+n*n+o*o)},e.distanceSq=function(r,e){var t=r[0]-e[0],n=r[1]-e[1],o=r[2]-e[2];return t*t+n*n+o*o},e.divide=function(r,e,t){return(t=t||new n(3))[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t},e.divScalar=function(r,e,t){return(t=t||new n(3))[0]=r[0]/e,t[1]=r[1]/e,t[2]=r[2]/e,t},e.dot=function(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]},e.lerp=function(r,e,t,o){return(o=o||new n(3))[0]=r[0]+t*(e[0]-r[0]),o[1]=r[1]+t*(e[1]-r[1]),o[2]=r[2]+t*(e[2]-r[2]),o},e.lerpV=function(r,e,t,o){return(o=o||new n(3))[0]=r[0]+t[0]*(e[0]-r[0]),o[1]=r[1]+t[1]*(e[1]-r[1]),o[2]=r[2]+t[2]*(e[2]-r[2]),o},e.length=function(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])},e.lengthSq=function(r){return r[0]*r[0]+r[1]*r[1]+r[2]*r[2]},e.max=function(r,e,t){return(t=t||new n(3))[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},e.min=function(r,e,t){return(t=t||new n(3))[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},e.mulScalar=function(r,e,t){return(t=t||new n(3))[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},e.multiply=function(r,e,t){return(t=t||new n(3))[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t},e.negate=function(r,e){return(e=e||new n(3))[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e},e.normalize=function(r,e){e=e||new n(3);var t=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],o=Math.sqrt(t);o>1e-5?(e[0]=r[0]/o,e[1]=r[1]/o,e[2]=r[2]/o):(e[0]=0,e[1]=0,e[2]=0);return e},e.setDefaultType=function(r){var e=n;return n=r,e},e.subtract=function(r,e,t){return(t=t||new n(3))[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t};var n=Float32Array},"./src/vertex-arrays.js":function(r,e,t){"use strict";e.__esModule=!0,e.createVertexArrayInfo=function(r,e,t){var o=r.createVertexArray();r.bindVertexArray(o),e.length||(e=[e]);return e.forEach(function(e){n.setBuffersAndAttributes(r,e,t)}),r.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:o}},e.createVAOAndSetAttributes=o,e.createVAOFromBufferInfo=function(r,e,t){return o(r,e.attribSetters||e,t.attribs,t.indices)};var n=function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};n.get||n.set?Object.defineProperty(e,t,n):e[t]=r[t]}return e.default=r,e}(t("./src/programs.js"));function o(r,e,t,o){var a=r.createVertexArray();return r.bindVertexArray(a),n.setAttributes(e,t),o&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,o),r.bindVertexArray(null),a}}})});
},{}],"BjvI":[function(require,module,exports) {
function e(e){if(e===window||e===document.body)return[window.innerWidth,window.innerHeight];if(!e.parentNode){var r=!0;document.body.appendChild(e)}var n=e.getBoundingClientRect(),o=getComputedStyle(e),i=(0|n.height)+t(o.getPropertyValue("margin-top"))+t(o.getPropertyValue("margin-bottom")),d=(0|n.width)+t(o.getPropertyValue("margin-left"))+t(o.getPropertyValue("margin-right"));return r&&document.body.removeChild(e),[d,i]}function t(e){return parseFloat(e)||0}module.exports=e;
},{}],"Atir":[function(require,module,exports) {
var e=require("element-size");module.exports=n;var t=new Float32Array(2);function n(n,o,r){var l="SVG"===n.nodeName.toUpperCase();return n.style.position=n.style.position||"absolute",n.style.top=0,n.style.left=0,a.scale=parseFloat(r||1),a.parent=o,a();function a(){var o=a.parent||n.parentNode;if("function"==typeof o)var r=o(t)||t,u=r[0],y=r[1];else if(o&&o!==document.body){var f=e(o);u=0|f[0],y=0|f[1]}else u=window.innerWidth,y=window.innerHeight;return l?(n.setAttribute("width",u*a.scale+"px"),n.setAttribute("height",y*a.scale+"px")):(n.width=u*a.scale,n.height=y*a.scale),n.style.width=u+"px",n.style.height=y+"px",a}}
},{"element-size":"BjvI"}],"6ajC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeAttribs=void 0;const s=(s,e)=>{if(!e)return s;const t=Object.assign({},s,e);return s.class&&e.class&&(t.class=s.class+" "+e.class),s.style&&e.style&&(t.style=Object.assign({},s.style,e.style)),t};exports.mergeAttribs=s;
},{}],"woRN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.button=void 0;var t=require("./utils/merge-attribs");const e=e=>(!(e=Object.assign({tag:"a",tagDisabled:"span",preventDefault:!0,attribs:{}},e)).attribs.role&&(e.attribs.role="button"),(s,a,...r)=>a.disabled?[e.tagDisabled,Object.assign({},(0,t.mergeAttribs)(e.attribsDisabled,a.attribs),{disabled:!0}),...r]:[e.tag,Object.assign({},(0,t.mergeAttribs)(e.attribs,a.attribs),{onclick:e.preventDefault?t=>(t.preventDefault(),a.onclick(t)):a.onclick}),...r]);exports.button=e;
},{"./utils/merge-attribs":"6ajC"}],"L0KX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buttonGroup=void 0;var t=require("./utils/merge-attribs");const e=e=>(s,i,...n)=>["div",(0,t.mergeAttribs)(e.attribs,i.attribs),...r(e,i.disabled,n)];exports.buttonGroup=e;const r=(t,e,r)=>{switch(r.length){case 0:return;case 1:return[s(t.inner||t.first,e,r[0])];case 2:return[s(t.first,e,r[0]),s(t.last||t.first,e,r[1])];default:{const i=[s(t.first,e,r[0])],n=t.inner||t.first,a=r.length-1;for(let t=1;t<a;t++)i[t]=s(n,e,r[t]);return i[a]=s(t.last||t.first,e,r[a]),i}}},s=(t,e,r)=>e?[t,Object.assign({},r[0],{disabled:!0}),...r.slice(1)]:[t,...r];
},{"./utils/merge-attribs":"6ajC"}],"s0ZF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adaptDPI=exports.canvas2D=exports.canvasWebGL2=exports.canvasWebGL=void 0;const e=(e,{init:t,update:s,release:a},o)=>{let r,i,c=0,p=0;return{init(a,d,...x){n(r=a,r.width,r.height),i=r.getContext(e,o),p=Date.now(),t&&t(r,i,d,...x),s&&s(r,i,d,p,c++,...x)},render:(e,...t)=>(i&&s&&s(r,i,e,Date.now()-p,c++,...t),["canvas",t[0]]),release(e,...t){a&&a(r,i,e,...t)}}},t=(t,s)=>e("webgl",t,s);exports.canvasWebGL=t;const s=(t,s)=>e("webgl2",t,s);exports.canvasWebGL2=s;const a=(t,s)=>e("2d",t,s);exports.canvas2D=a;const n=(e,t,s)=>{const a=window.devicePixelRatio||1;return 1!=a&&(e.style.width=`${t}px`,e.style.height=`${s}px`),e.width=t*a,e.height=s*a,a};exports.adaptDPI=n;
},{}],"QmyF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupedDropdown=exports.dropdown=exports.optgroup=exports.option=void 0;const o=([o,e,p],t)=>["option",{value:o,disabled:!!p,selected:o===t},e];exports.option=o;const e=(e,p,t)=>["optgroup",Object.assign({},e,{label:e.label||"--"}),...p.map(e=>o(e,t))];exports.optgroup=e;const p=(e,p,t,s)=>["select",p,...t.map(e=>o(e,s))];exports.dropdown=p;const t=(o,p,t,s)=>["select",p,...t.map(o=>e(o[0],o[1],s))];exports.groupedDropdown=t;
},{}],"+3dz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mse=void 0;const e=(e,t)=>{let o=0;for(let r=e.length-1;r>=0;r--)o+=Math.pow(e[r]-t,2);return o};exports.mse=e;
},{}],"U7kD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DCons=void 0;var t=require("@thi.ng/checks"),e=require("@thi.ng/compare"),h=require("@thi.ng/equiv"),i=require("@thi.ng/errors"),s=require("@thi.ng/transducers");class r{constructor(t){this._length=0,t&&this.into(t)}get length(){return this._length}copy(){return new r(this)}empty(){return new r}clear(){this.release()}release(){let t,e=this.head;for(;e;)t=e.next,delete e.value,delete e.prev,delete e.next,e=t;return delete this.head,delete this.tail,this._length=0,!0}compare(t){if(this._length<t._length)return-1;if(this._length>t._length)return 1;{let h=this.head,i=t.head,s=0;for(;h&&0==s;)s=(0,e.compare)(h.value,i.value),h=h.next,i=i.next;return s}}equiv(e){if((e instanceof r||(0,t.isArrayLike)(e))&&this._length===e.length){let t=this.head;for(let i of e){if(!(0,h.equiv)(t.value,i))return!1;t=t.next}return!0}return!1}*[Symbol.iterator](){let t=this.head;for(;t;)yield t.value,t=t.next}*cycle(){for(;;)yield*this}$reduce(t,e){let h=this.head;for(;h&&!(0,s.isReduced)(e);)e=t(e,h.value),h=h.next;return e}drop(){const t=this.head;if(t)return this.head=t.next,this.head?delete this.head.prev:delete this.tail,this._length--,t.value}cons(t){const e={value:t,next:this.head};return this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}insertBefore(t,e){t||(0,i.illegalArgs)("cell is undefined");const h={value:e,next:t,prev:t.prev};return t.prev?t.prev.next=h:this.head=h,t.prev=h,this._length++,this}insertAfter(t,e){t||(0,i.illegalArgs)("cell is undefined");const h={value:e,next:t.next,prev:t};return t.next?t.next.prev=h:this.tail=h,t.next=h,this._length++,this}insertBeforeNth(t,e){return t<0&&(t+=this._length),t<=0?this.cons(e):this.insertBefore(this.nthCell(t),e)}insertAfterNth(t,e){return t<0&&(t+=this._length),t>=this._length-1?this.push(e):this.insertAfter(this.nthCell(t),e)}insertSorted(t,h){h=h||e.compare;let i=this.head;for(;i;){if(h(t,i.value)<=0)return this.insertBefore(i,t);i=i.next}return this.push(t)}find(t){let e=this.head;for(;e;){if(e.value===t)return e;e=e.next}}findWith(t){let e=this.head;for(;e;){if(t(e.value))return e;e=e.next}}concat(...t){const e=this.copy();for(let h of t)e.into(h);return e}into(t){for(let e of t)this.push(e)}slice(t=0,e=this.length){let h=t<0?t+this._length:t,s=e<0?e+this._length:e;(h<0||s<0)&&(0,i.illegalArgs)("invalid indices: ${from} / ${to}");const n=new r;let l=this.nthCell(h);for(;l&&++h<=s;)n.push(l.value),l=l.next;return n}splice(t,e=0,h){let i;"number"==typeof t?(t<0&&(t+=this._length),i=this.nthCell(t)):i=t;const s=new r;if(e>0)for(;i&&e-- >0;)this.remove(i),s.push(i.value),i=i.next;else i&&(i=i.next);if(h)if(i)for(let r of h)this.insertBefore(i,r);else for(let r of h)this.push(r);return s}remove(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,this._length--,this}swap(t,e){if(t!==e){const h=t.value;t.value=e.value,e.value=h}return this}push(t){if(this.tail){const e={value:t,prev:this.tail};return this.tail.next=e,this.tail=e,this._length++,this}return this.cons(t)}pop(){const t=this.tail;return!t&&(0,i.illegalState)("can't pop, empty"),this.tail=t.prev,this.tail?delete this.tail.next:delete this.head,this._length--,t.value}first(){return this.head&&this.head.value}peek(){return this.tail&&this.tail.value}setHead(t){return this.head?(this.head.value=t,this):this.cons(t)}setTail(t){return this.tail?(this.tail.value=t,this):this.push(t)}setNth(t,e){const h=this.nthCell(t);return!h&&(0,i.illegalArgs)(`index out of bounds: ${t}`),h.value=e,this}nth(t,e){const h=this.nthCell(t);return h?h.value:e}nthCell(t){if(t<0&&(t+=this._length),t<0||t>=this._length)return;let e,h;for(t<=this._length>>1?(e=this.head,h="next"):(e=this.tail,h="prev",t=this._length-t-1);t-- >0&&e;)e=e[h];return e}rotateLeft(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}rotateRight(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:const t=this.peek();return this.pop(),this.cons(t)}}map(t){const e=new r;let h=this.head;for(;h;)e.push(t(h.value)),h=h.next;return e}filter(t){const e=new r;let h=this.head;for(;h;)t(h.value)&&e.push(h.value),h=h.next;return e}reduce(t,e){let h=e,i=this.head;for(;i;)h=t(h,i.value),i=i.next;return h}shuffle(){let t=this._length,e=this.tail;for(;t>0;){let h=Math.floor(Math.random()*t);this.swap(this.nthCell(h),e),e=e.prev,t--}return this}reverse(){let t=this.head,e=this.tail,h=(this._length>>>1)+(1&this._length);for(;t&&e&&h>0;){const i=t.value;t.value=e.value,e.value=i,t=t.next,e=e.prev,h--}return this}asHead(t){return t===this.head?this:(this.remove(t),this.head.prev=t,t.next=this.head,t.prev=void 0,this.head=t,this._length++,this)}asTail(t){return t===this.tail?this:(this.remove(t),this.tail.next=t,t.prev=this.tail,t.next=void 0,this.tail=t,this._length++,this)}toString(){let t=[],e=this.head;for(;e;)t.push(null!=e.value?e.value.toString():void 0===e.value?"undefined":"null"),e=e.next;return t.join(", ")}toJSON(){return[...this]}}exports.DCons=r;
},{"@thi.ng/checks":"XYpc","@thi.ng/compare":"2vzO","@thi.ng/equiv":"U8cl","@thi.ng/errors":"j3Rf","@thi.ng/transducers":"GbKR"}],"1jMW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sma=n;var e=require("@thi.ng/dcons"),r=require("@thi.ng/errors"),t=require("@thi.ng/transducers");function n(s,o){return o?(0,t.iterator1)(n(s),o):((s|=0)<2&&(0,r.illegalArgs)("period must be >= 2"),r=>{const n=r[2],o=new e.DCons;let u=0;return(0,t.compR)(r,(e,r)=>{o.push(r);const t=o.length;return u+=r,t>s&&(u-=o.drop()),t>=s?n(e,u/s):e})})}
},{"@thi.ng/dcons":"U7kD","@thi.ng/errors":"j3Rf","@thi.ng/transducers":"GbKR"}],"XooN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bollinger=n;var e=require("@thi.ng/transducers"),r=require("./mse"),t=require("./sma");function n(...s){const i=(0,e.$iter)(n,s);if(i)return i;const o=s[0]||20,u=s[1]||2;return(0,e.comp)((0,e.multiplex)((0,e.partition)(o,1),(0,t.sma)(o)),(0,e.drop)(o-1),(0,e.map)(([e,t])=>{const n=Math.sqrt((0,r.mse)(e,t)/o)*u,s=t-n,i=t+n;return{min:s,max:i,mean:t,pb:(e[o-1]-s)/(i-s)}}))}
},{"@thi.ng/transducers":"GbKR","./mse":"+3dz","./sma":"1jMW"}],"QLdX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bounds=void 0;const e=e=>{let t=e[0],o=t;for(let s=e.length-1;s>0;s--){const r=e[s];t=Math.min(t,r),o=Math.max(o,r)}return[t,o]};exports.bounds=e;
},{}],"bdhw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.donchian=t;var e=require("@thi.ng/transducers"),r=require("./bounds");function t(n,o){return o?(0,e.iterator)(t(n),o):(0,e.comp)((0,e.partition)(n,1),(0,e.map)(r.bounds))}
},{"@thi.ng/transducers":"GbKR","./bounds":"QLdX"}],"lhjT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ema=t;var e=require("@thi.ng/errors"),r=require("@thi.ng/transducers");function t(n,u){if(u)return(0,r.iterator1)(t(n),u);(n|=0)<2&&(0,e.illegalArgs)("period must be >= 2");const s=2/(n+1);return e=>{const t=e[2];let u,i=[],l=0;return(0,r.compR)(e,(r,o)=>null!=u?(u+=(o-u)*s,e[2](r,u)):(i.push(o),l+=o,i.length==n?(i=null,t(r,u=l/n)):r))}}
},{"@thi.ng/errors":"j3Rf","@thi.ng/transducers":"GbKR"}],"MYoy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dot=void 0;const e=(e,t)=>{let o=0;for(let r=e.length-1;r>=0;r--)o+=e[r]*t[r];return o};exports.dot=e;
},{}],"CPmE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wma=i;var e=require("@thi.ng/checks"),r=require("@thi.ng/transducers"),t=require("./dot");function i(u,n){if(n)return(0,r.iterator1)(i(u),n);let o,s;return(0,e.isNumber)(u)?(o=0|u,u=[...(0,r.range)(1,o+1)],s=o*(o+1)/2):(o=u.length,s=u.reduce((e,r)=>e+r,0)),(0,r.comp)((0,r.partition)(o,1),(0,r.map)(e=>(0,t.dot)(e,u)/s))}
},{"@thi.ng/checks":"XYpc","@thi.ng/transducers":"GbKR","./dot":"MYoy"}],"ESI2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hma=t;var e=require("@thi.ng/transducers"),r=require("./wma");function t(a,u){return u?(0,e.iterator1)(t(a),u):(0,e.comp)((0,e.multiplex)((0,r.wma)(a/2|0),(0,r.wma)(a)),(0,e.drop)(a-1),(0,e.map)(e=>2*e[0]-e[1]),(0,r.wma)(Math.sqrt(a)))}
},{"@thi.ng/transducers":"GbKR","./wma":"CPmE"}],"h1fY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.macd=t;var e=require("@thi.ng/transducers"),r=require("./ema");function t(...s){return(0,e.$iter)(t,s)||(t=>{const n=t[2],u=(0,e.step)((0,r.ema)(s[0]||12)),a=(0,e.step)((0,r.ema)(s[1]||26)),c=(0,e.step)((0,r.ema)(s[2]||9));return(0,e.compR)(t,(e,r)=>{const t=u(r),s=a(r);if(null==s)return e;const i=t-s,o=c(i);return null==o?e:n(e,{macd:i,signal:o,div:i-o,fast:t,slow:s})})})}
},{"@thi.ng/transducers":"GbKR","./ema":"lhjT"}],"W2DY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.momentum=n;var r=require("@thi.ng/dcons"),e=require("@thi.ng/errors"),t=require("@thi.ng/transducers");function n(o,s){return s?(0,t.iterator1)(n(o),s):((o|=0)<1&&(0,e.illegalArgs)("period must be >= 1"),e=>{const n=e[2],s=new r.DCons;return(0,t.compR)(e,(r,e)=>{if(s.push(e),s.length<=o)return r;const t=s.drop();return n(r,e-t)})})}
},{"@thi.ng/dcons":"U7kD","@thi.ng/errors":"j3Rf","@thi.ng/transducers":"GbKR"}],"L06j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.roc=n;var r=require("@thi.ng/dcons"),e=require("@thi.ng/errors"),t=require("@thi.ng/transducers");function n(o,s){return s?(0,t.iterator1)(n(o),s):(o<1&&(0,e.illegalArgs)("period must be >= 1"),e=>{const n=e[2],s=new r.DCons;return(0,t.compR)(e,(r,e)=>{if(s.push(e),s.length<=o)return r;const t=s.drop();return n(r,(e-t)/t)})})}
},{"@thi.ng/dcons":"U7kD","@thi.ng/errors":"j3Rf","@thi.ng/transducers":"GbKR"}],"t6KJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rsi=t;var e=require("@thi.ng/transducers"),r=require("./momentum"),m=require("./sma");function t(a,o){return o?(0,e.iterator1)(t(a),o):(0,e.comp)((0,r.momentum)(1),(0,e.multiplex)((0,e.comp)((0,e.map)(e=>e>0?e:0),(0,m.sma)(a)),(0,e.comp)((0,e.map)(e=>e<0?-e:0),(0,m.sma)(a))),(0,e.drop)(a-1),(0,e.map)(e=>100-100/(1+e[0]/Math.max(1e-6,e[1]))))}
},{"@thi.ng/transducers":"GbKR","./momentum":"W2DY","./sma":"1jMW"}],"/a+A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sd=s;var e=require("@thi.ng/transducers"),r=require("./mse"),t=require("./sma");function s(...i){const u=(0,e.$iter)(s,i);if(u)return u;const n=i[0]||20,o=i[1]||1;return(0,e.comp)((0,e.multiplex)((0,e.partition)(n,1),(0,t.sma)(n)),(0,e.drop)(n-1),(0,e.map)(([e,t])=>Math.sqrt((0,r.mse)(e,t)/n)*o))}
},{"@thi.ng/transducers":"GbKR","./mse":"+3dz","./sma":"1jMW"}],"Sk7P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stochastic=n;var e=require("@thi.ng/transducers"),r=require("./donchian"),t=require("./sma");function n(...s){return(0,e.$iter)(n,s)||(n=>{const u=n[2],c=(0,e.step)((0,r.donchian)(s[0]||5)),i=(0,e.step)((0,t.sma)(s[1]||3)),o=(0,e.step)((0,t.sma)(s[2]||3));return(0,e.compR)(n,(e,r)=>{const t=c(r);if(null==t)return e;const n=(r-t[0])/(t[1]-t[0]),s=i(n);if(null==s)return e;const a=o(s);return null==a?e:u(e,{k:n,d1:s,d2:a})})})}
},{"@thi.ng/transducers":"GbKR","./donchian":"bdhw","./sma":"1jMW"}],"hsuS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trix=i;var e=require("@thi.ng/transducers"),r=require("./ema"),t=require("./roc");function i(o,u){return u?(0,e.iterator1)(i(o),u):(0,e.comp)((0,r.ema)(o),(0,r.ema)(o),(0,r.ema)(o),(0,t.roc)(1))}
},{"@thi.ng/transducers":"GbKR","./ema":"lhjT","./roc":"L06j"}],"i2CY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./bollinger");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./donchian");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./ema");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./hma");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./macd");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./momentum");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./roc");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./rsi");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./sd");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./sma");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./stochastic");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var d=require("./trix");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var l=require("./wma");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var b=require("./bounds");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./dot");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var _=require("./mse");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});
},{"./bollinger":"XooN","./donchian":"bdhw","./ema":"lhjT","./hma":"ESI2","./macd":"h1fY","./momentum":"W2DY","./roc":"L06j","./rsi":"t6KJ","./sd":"/a+A","./sma":"1jMW","./stochastic":"Sk7P","./trix":"hsuS","./wma":"CPmE","./bounds":"QLdX","./dot":"MYoy","./mse":"+3dz"}],"MRkx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sparkline=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/transducers");const i=(i,r,n)=>{r=Object.assign({min:0,max:100,width:50,height:16,col:"red",r:1.5},r);const s=n.length,l=r.width/s,h=r.r,o=r.height-h;return["svg",{width:r.width+2*h,height:r.height,stroke:r.col,fill:"none"},["polyline",{points:(0,t.str)(",",(0,t.mapIndexed)((t,i)=>[t*l|0,0|(0,e.fitClamped)(i,r.min,r.max,o,h)],0,n))}],["circle",{cx:(s-1)*l|0,cy:0|(0,e.fitClamped)(n[s-1],r.min,r.max,o,h),r:h,fill:r.col}]]};exports.sparkline=i;
},{"@thi.ng/math":"zoYr","@thi.ng/transducers":"GbKR"}],"p7Kz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fpsCounter=void 0;var s=require("@thi.ng/transducers"),t=require("@thi.ng/transducers-stats"),e=require("./sparkline");const i=i=>(i=Object.assign({history:25,smooth:5,labelPeriod:250,sparkline:{}},i),{init(){this.last=Date.now(),this.lastLabel=this.last,this.buffer=[],this.ma=(0,s.step)((0,t.sma)(i.smooth))},render(){const s=Date.now(),t=1e3/(s-this.last);if(this.last=s,!this.buffer)return["div"];const r=this.ma(t);if(!r)return["div"];this.buffer.push(r),this.buffer.length>i.history&&this.buffer.shift();const a=s-this.lastLabel>i.labelPeriod;return a&&(this.lastLabel=s),["div",[e.sparkline,Object.assign({min:0,max:65},i.sparkline),this.buffer],["span",{__skip:!a},r?r.toFixed(2)+" fps":""]]}});exports.fpsCounter=i;
},{"@thi.ng/transducers":"GbKR","@thi.ng/transducers-stats":"i2CY","./sparkline":"MRkx"}],"vCUv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appLink=exports.link=void 0;var e=require("@thi.ng/checks");const t=(t,r)=>["a",(0,e.isString)(t)?{href:t}:t,r];exports.link=t;const r=(e,t,r,s)=>["a",Object.assign({href:"#",onclick:e=>{e.preventDefault(),r(e)}},t),s];exports.appLink=r;
},{"@thi.ng/checks":"XYpc"}],"+1tr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.notification=void 0;var o=require("./link");const e=e=>(i,t,s)=>["div",Object.assign({},e.attribs,t.attribs),e.icon,s,e.close&&t.onclose?[o.appLink,e.attribsClose,t.onclose,e.close]:void 0];exports.notification=e;
},{"./link":"vCUv"}],"aBEB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pager=void 0;var e=require("@thi.ng/transducers");const r=r=>(r=Object.assign({root:(e,...r)=>["div.pager",...r],groupPrev:(e,...r)=>["div.pager-prev",...r],groupNext:(e,...r)=>["div.pager-next",...r],groupPages:(e,...r)=>["div.pager-pages",...r],navStep:1,labelFirst:"<<",labelPrev:"<",labelNext:">",labelLast:">>"},r),(t,o,p,s=10,n=5)=>{const g=r.button,l=r.navStep,i=Math.floor(Math.max(0,p-1)/s);return o=Math.max(Math.min(o,i),0),[r.root,[r.groupPrev,g(0,o,i,r.labelFirst,!o),g(Math.max(o-l,0),o,i,r.labelPrev,!o)],[r.groupPages,(0,e.map)(e=>g(e,o,i,e+1,e===o),a(o,i,n))],[r.groupNext,g(Math.min(o+l,i),o,i,r.labelNext,o>=i),g(i,o,i,r.labelLast,o>=i)]]});exports.pager=r;const a=(r,a,t)=>{if(a>t-1){const o=Math.max(Math.min(r-(t>>1),a-t+1),0);return(0,e.range)(o,o+t)}return(0,e.range)(0,a+1)};
},{"@thi.ng/transducers":"GbKR"}],"1Of5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.title=void 0;const t=t=>(t=Object.assign({element:"h1",attribs:{},subElement:"small",subAttribs:{}},t),(e,s,i)=>[t.element,t.attribs,s,i?[t.subElement,t.subAttribs,i]:void 0]);exports.title=t;
},{}],"nKZq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./button");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./button-group");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./canvas");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./dropdown");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./fps-counter");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./link");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./notification");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./pager");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./sparkline");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./title");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./utils/merge-attribs");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});
},{"./button":"woRN","./button-group":"L0KX","./canvas":"s0ZF","./dropdown":"QmyF","./fps-counter":"p7Kz","./link":"vCUv","./notification":"+1tr","./pager":"aBEB","./sparkline":"MRkx","./title":"1Of5","./utils/merge-attribs":"6ajC"}],"ACzj":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("twgl.js"),r=e(require("canvas-fit")),n=require("@thi.ng/hdom-components");function i(e,{init:i,update:s,release:a}){let u;return n.canvasWebGL({init(n,s,a){t.addExtensionsToContext(s),(u=r.default(n))(),e.init(s),i&&i(n,s)},update(t,r,n,i,a,u,o){e.params=o,e.render(i,a),s&&s(t,r)},release(e,t,r){a&&a(e,t)}})}exports.canvas=i;
},{"twgl.js":"Ubq3","canvas-fit":"Atir","@thi.ng/hdom-components":"nKZq"}],"bRKL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const r=require("twgl.js");class t{constructor(t,e){this.gl=t,this.programInfos={},this.objects=[],e.children.forEach(e=>{const o=e,s=this.getProgram(o.material),a=r.createBufferInfoFromArrays(t,o.attribs),i=r.createVertexArrayInfo(t,s,a);this.objects.push({programInfo:s,vertexArrayInfo:i,mesh:o,type:o.type,uniforms:{}})})}draw(t,e=null){const o=this.gl;o.viewport(0,0,t.width,t.height),r.bindFramebufferInfo(o,e),this.objects.forEach(r=>{const{mesh:e}=r;e.updateMatrices(t.view),r.uniforms=Object.assign({},e.material.uniforms,{matModel:e.model,matView:t.view,matProj:t.projection,matModelView:e.modelView,matNormal:e.normal})}),r.drawObjectList(o,this.objects)}getProgram({id:t,vert:e,frag:o}){return this.programInfos[t]||(this.programInfos[t]=r.createProgramInfo(this.gl,[e,o])),this.programInfos[t]}}exports.Command=t;
},{"twgl.js":"Ubq3"}],"FJr9":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SIZEOF=exports.Type=void 0,exports.Type=e,function(e){e[e.U8=0]="U8",e[e.U8C=1]="U8C",e[e.I8=2]="I8",e[e.U16=3]="U16",e[e.I16=4]="I16",e[e.U32=5]="U32",e[e.I32=6]="I32",e[e.F32=7]="F32",e[e.F64=8]="F64"}(e||(exports.Type=e={}));const t={0:1,1:1,2:1,3:2,4:2,5:4,6:4,7:4,8:8};exports.SIZEOF=t;
},{}],"j0sP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MASKS=void 0;const e=new Array(33).fill(0).map((e,t)=>Math.pow(2,t)-1);exports.MASKS=e;
},{}],"NdNd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAligned=exports.align=void 0;const e=(e,s)=>(s--,e+s&~s);exports.align=e;const s=(e,s)=>!(e&s-1);exports.isAligned=s;
},{}],"bkmp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ctz32=exports.clz32=exports.hammingDist=exports.popCount=void 0;const t=t=>(t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24);exports.popCount=t;const o=(o,e)=>t(o^e);exports.hammingDist=o;const e=t=>0!==t?31-(Math.log(t>>>0)/Math.LN2|0):32;exports.clz32=e;const s=t=>{let o=32;return(t&=-t)&&o--,65535&t&&(o-=16),16711935&t&&(o-=8),252645135&t&&(o-=4),858993459&t&&(o-=2),1431655765&t&&(o-=1),o};exports.ctz32=s;
},{}],"K0Rj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maskH=exports.maskL=exports.defMask=void 0;var e=require("./api");const s=(s,t)=>(~e.MASKS[s]&e.MASKS[t])>>>0;exports.defMask=s;const t=(s,t)=>(t&e.MASKS[s])>>>0;exports.maskL=t;const o=(s,t)=>(t&~e.MASKS[s])>>>0;exports.maskH=o;
},{"./api":"j0sP"}],"d+Oy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitClearWindow=exports.bitSetWindow=exports.bitSet=exports.bitFlip=exports.bitClear=void 0;var t=require("./mask");const e=(t,e)=>(t&~(1<<e))>>>0;exports.bitClear=e;const o=(t,e)=>(t^1<<e)>>>0;exports.bitFlip=o;const r=(t,e)=>(t|1<<e)>>>0;exports.bitSet=r;const s=(e,o,r,s)=>{const i=(0,t.defMask)(r,s);return e&~i|o<<(1<<r)&i};exports.bitSetWindow=s;const i=(e,o,r)=>e&~(0,t.defMask)(o,r);exports.bitClearWindow=i;
},{"./mask":"K0Rj"}],"Herc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.floatToSortableInt=exports.uintBitsToFloat=exports.intBitsToFloat=exports.floatToUintBits=exports.floatToIntBits=void 0;const t=new Float32Array(1),o=new Int32Array(t.buffer),s=new Uint32Array(t.buffer),e=s=>(t[0]=s,o[0]);exports.floatToIntBits=e;const r=o=>(t[0]=o,s[0]);exports.floatToUintBits=r;const n=s=>(o[0]=s,t[0]);exports.intBitsToFloat=n;const i=o=>(s[0]=o,t[0]);exports.uintBitsToFloat=i;const a=t=>{-0===t&&(t=0);const o=e(t);return t<0?~o|1<<31:o};exports.floatToSortableInt=a;
},{}],"Ay8c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeGray32=exports.encodeGray32=void 0;const e=e=>(e^e>>>1)>>>0;exports.encodeGray32=e;const o=e=>(e^=e>>>16,e^=e>>>8,e^=e>>>4,e^=e>>>2,(e^=e>>>1)>>>0);exports.decodeGray32=o;
},{}],"vMRu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitDemux=exports.bitMux=exports.bitOai22=exports.bitAoi22=exports.bitOai21=exports.bitAoi21=exports.bitImply=exports.bitXnor=exports.bitXor=exports.bitNor=exports.bitOr=exports.bitNand=exports.bitAnd=exports.bitNot=void 0;var t=require("./mask");const s=(s,o)=>(0,t.maskL)(s,~o);exports.bitNot=s;const o=(s,o,r)=>(0,t.maskL)(s,o&r);exports.bitAnd=o;const r=(s,o,r)=>(0,t.maskL)(s,~(o&r));exports.bitNand=r;const e=(s,o,r)=>(0,t.maskL)(s,o|r);exports.bitOr=e;const i=(s,o,r)=>(0,t.maskL)(s,~(o&r));exports.bitNor=i;const x=(s,o,r)=>(0,t.maskL)(s,o^r);exports.bitXor=x;const p=(s,o,r)=>(0,t.maskL)(s,~(o^r));exports.bitXnor=p;const b=(s,o,r)=>(0,t.maskL)(s,~o|r);exports.bitImply=b;const a=(s,o,r,e)=>(0,t.maskL)(s,~(o|r&e));exports.bitAoi21=a;const n=(s,o,r,e)=>(0,t.maskL)(s,~(o&(r|e)));exports.bitOai21=n;const m=(s,o,r,e,i)=>(0,t.maskL)(s,~(o&r|e&i));exports.bitAoi22=m;const c=(s,o,r,e,i)=>(0,t.maskL)(s,~((o|r)&(e|i)));exports.bitOai22=c;const k=(s,o,r,e)=>(0,t.maskL)(s,o&~e|r&e);exports.bitMux=k;const L=(s,o,r,e)=>[(0,t.maskL)(s,o&~e),(0,t.maskL)(s,r&e)];exports.bitDemux=L;
},{"./mask":"K0Rj"}],"Vmyt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.floorPow2=exports.ceilPow2=exports.isPow2=void 0;const o=o=>!(!o||o&o-1);exports.isPow2=o;const e=o=>(o+=0===o,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)+1);exports.ceilPow2=e;const s=o=>(o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1));exports.floorPow2=s;
},{}],"z1/v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateRight=exports.rotateLeft=void 0;const t=(t,e)=>(t<<e|t>>>32-e)>>>0;exports.rotateLeft=t;const e=(t,e)=>(t>>>e|t<<32-e)>>>0;exports.rotateRight=e;
},{}],"mleM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.same8=exports.same4=exports.splat16_32=exports.splat8_32=exports.splat8_24=exports.splat4_32=exports.splat4_24=void 0;const s=s=>(s&=15,e(s|s<<4));exports.splat4_24=s;const t=s=>(s&=15,p(s|s<<4));exports.splat4_32=t;const e=s=>65793*(255&s);exports.splat8_24=e;const p=s=>16843009*(255&s)>>>0;exports.splat8_32=p;const o=s=>(s&=65535,(s<<16|s)>>>0);exports.splat16_32=o;const r=s=>(s>>4&15)==(15&s);exports.same4=r;const a=s=>(s>>8&255)==(255&s);exports.same8=a;
},{}],"QhQA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flipBytes=exports.swizzle4=exports.swizzle8=exports.lane2=exports.lane4=exports.lane8=void 0;const e=(e,s)=>e>>>(3-s<<3)&255;exports.lane8=e;const s=(e,s)=>e>>>(7-s<<2)&15;exports.lane4=s;const t=(e,s)=>e>>>(15-s<<1)&3;exports.lane2=t;const o=(s,t,o,p,r)=>(e(s,t)<<24|e(s,o)<<16|e(s,p)<<8|e(s,r))>>>0;exports.swizzle8=o;const p=(e,t,o,p,r,l,n,x,i)=>(s(e,t)<<28|s(e,o)<<24|s(e,p)<<20|s(e,r)<<16|s(e,l)<<12|s(e,n)<<8|s(e,x)<<4|s(e,i))>>>0;exports.swizzle4=p;const r=e=>(e>>>24|e>>8&65280|(65280&e)<<8|e<<24)>>>0;exports.flipBytes=r;
},{}],"6qqr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./align");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./count");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./edit");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./float");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./gray");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./logic");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./mask");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./pow");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./rotate");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var l=require("./splat");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var s=require("./swizzle");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});
},{"./api":"j0sP","./align":"NdNd","./count":"bkmp","./edit":"d+Oy","./float":"Herc","./gray":"Ay8c","./logic":"vMRu","./mask":"K0Rj","./pow":"Vmyt","./rotate":"z1/v","./splat":"mleM","./swizzle":"QhQA"}],"odpT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrap=void 0;const r={0:(r,e,n)=>new Uint8Array(r,e,n),1:(r,e,n)=>new Uint8ClampedArray(r,e,n),2:(r,e,n)=>new Int8Array(r,e,n),3:(r,e,n)=>new Uint16Array(r,e,n),4:(r,e,n)=>new Int16Array(r,e,n),5:(r,e,n)=>new Uint32Array(r,e,n),6:(r,e,n)=>new Int32Array(r,e,n),7:(r,e,n)=>new Float32Array(r,e,n),8:(r,e,n)=>new Float64Array(r,e,n)},e=(e,n,t,a)=>r[e](n,t,a);exports.wrap=e;
},{}],"EgoR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MemPool=void 0;var t=require("@thi.ng/binary"),e=require("@thi.ng/checks"),i=require("@thi.ng/errors"),s=require("./api"),r=require("./wrap");class n{constructor(e={}){this.buf=e.buf?e.buf:new ArrayBuffer(e.size),this.u8=new Uint8Array(this.buf),this.start=null!=e.start?(0,t.align)(Math.max(e.start,8),8):8,this.end=null!=e.end?Math.min(e.end,this.buf.byteLength):this.buf.byteLength,this.start>=this.end&&(0,i.illegalArgs)(`invalid address range (0x${this.start.toString(16)} - 0x${this.end.toString(16)})`),this.top=this.start,this.doCompact=!1!==e.compact,this.doSplit=!1!==e.split,this.minSplit=e.minSplit||16,this._free=null,this._used=null}stats(){const t=t=>{let e=0,i=0;for(;t;)e++,i+=t.size,t=t.next;return{count:e,size:i}},e=t(this._free);return{free:e,used:t(this._used),top:this.top,available:this.end-this.top+e.size,total:this.buf.byteLength}}callocAs(t,e){const i=this.mallocAs(t,e);return i&&i.fill(0),i}mallocAs(t,e){const i=this.malloc(e*s.SIZEOF[t]);return i?(0,r.wrap)(t,this.buf,i,e):null}calloc(e){const i=this.malloc(e);return i&&this.u8.fill(0,i,(0,t.align)(i+e,8)),i}malloc(e){if(e<=0)return 0;e=(0,t.align)(e,8);let i=this.top;const s=this.end;let r=this._free,n=null;for(;r;){const t=r.addr+r.size>=i;if(t||r.size>=e){if(t&&r.addr+e>s)return 0;if(n?n.next=r.next:this._free=r.next,r.next=this._used,this._used=r,t)r.size=e,this.top=r.addr+e;else if(this.doSplit){const t=r.size-e;t>=this.minSplit&&(r.size=e,this.insert({addr:r.addr+e,size:t,next:null}),this.doCompact&&this.compact())}return r.addr}n=r,r=r.next}const h=(0,t.align)(i,8);return(i=h+e)<=s?(r={addr:h,size:e,next:this._used},this._used=r,this.top=i,h):0}realloc(e,i){if(i<=0)return 0;i=(0,t.align)(i,8);let s,r=this._used,n=0;for(;r;){if(r.addr===e){const t=(s=e+r.size)>=this.top;if(i<=r.size){if(this.doSplit){const s=r.size-i;s>=this.minSplit?(r.size=i,this.insert({addr:r.addr+i,size:s,next:null}),this.doCompact&&this.compact()):t&&(this.top=e+i)}else t&&(this.top=e+i);n=e;break}if(t&&e+i<this.end){r.size=i,this.top=e+i,n=e;break}this.free(e),n=this.malloc(i);break}r=r.next}return n&&n!==e&&this.u8.copyWithin(n,e,s),n}reallocArray(t,e){if(t.buffer!==this.buf)return null;const i=this.realloc(t.byteOffset,e*t.BYTES_PER_ELEMENT);return i?new t.constructor(this.buf,i,e):null}free(t){let i;if((0,e.isNumber)(t))i=t;else{if(t.buffer!==this.buf)return!1;i=t.byteOffset}let s=this._used,r=null;for(;s;){if(s.addr===i)return r?r.next=s.next:this._used=s.next,this.insert(s),this.doCompact&&this.compact(),!0;r=s,s=s.next}return!1}freeAll(){this._free=null,this._used=null,this.top=this.start}release(){return delete this._free,delete this._used,delete this.u8,delete this.buf,delete this.top,delete this.start,delete this.end,!0}compact(){let t,e,i,s=this._free,r=!1;for(;s;){for(i=s,e=s.next;e&&i.addr+i.size===e.addr;)i=e,e=e.next;if(i!==s){const t=i.addr-s.addr+i.size;s.size=t;const e=i.next;let n=s.next;for(;n!==i.next;){const t=n.next;n.next=null,n=t}s.next=e,r=!0}s.addr+s.size>=this.top&&(this.top=s.addr,t?t.next=s.next:this._free=s.next),t=s,s=s.next}return r}insert(t){let e=this._free,i=null;for(;e&&!(t.addr<=e.addr);)i=e,e=e.next;i?i.next=t:this._free=t,t.next=e}}exports.MemPool=n;
},{"@thi.ng/binary":"6qqr","@thi.ng/checks":"XYpc","@thi.ng/errors":"j3Rf","./api":"FJr9","./wrap":"odpT"}],"BqzY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./pool");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./wrap");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./api":"FJr9","./pool":"EgoR","./wrap":"odpT"}],"wkR7":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TYPE2GL=exports.GL2TYPE=exports.GLType=void 0,exports.GLType=e,function(e){e[e.I8=5120]="I8",e[e.U8=5121]="U8",e[e.I16=5122]="I16",e[e.U16=5123]="U16",e[e.I32=5124]="I32",e[e.U32=5125]="U32",e[e.F32=5126]="F32"}(e||(exports.GLType=e={}));const t={5120:2,5121:0,5122:4,5123:3,5124:6,5124:6,5125:5,5126:7};exports.GL2TYPE=t;const o={2:5120,0:5121,4:5122,3:5123,6:5124,6:5124,5:5125,7:5126};exports.TYPE2GL=o;
},{}],"wUAY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrap=void 0;var e=require("@thi.ng/vectors");const r=(r,t,c,s)=>{switch(t){case 2:return new e.Vec2(r,c,s);case 3:return new e.Vec3(r,c,s);case 4:return new e.Vec4(r,c,s);default:return(0,e.gvec)(r,t,c,s)}};exports.wrap=r;
},{"@thi.ng/vectors":"n72+"}],"o1uQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AVecList=void 0;var t=require("./wrap");class s{constructor(s,e,i,r=0,h=1,c=i,f=t.wrap){this.buffer=s||new Float32Array(i*e),this.size=i,this.factory=f,this.cstride=h,this.estride=c,this.start=this.curr=r,this.capacity=e,this.freeIDs=[]}indices(t=[],s=0,e=!0){const i=this.start,r=this.estride;if(e)for(let h of this)t[s++]=(h.offset-i)/r;else for(let h of this)t[s++]=h.offset;return t}alloc(){let t;if(this.freeIDs.length>0)t=this.freeIDs.pop();else{if(this.length>=this.capacity)return;t=this.curr,this.curr+=this.estride}return this.factory(this.buffer,this.size,t,this.cstride)}}exports.AVecList=s;
},{"./wrap":"wUAY"}],"AjJj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VecArrayList=void 0;var t=require("./alist");class e extends t.AVecList{constructor(t,e,s,i=0,r=1,h=s,n){super(t,e,s,r,h,i,n),this.items=[]}*[Symbol.iterator](){yield*this.items}get length(){return this.items.length}add(){const t=this.alloc();return t&&this.items.push(t),t}insert(t){if(!this.length&&0!==t)return;const e=this.alloc();return e&&this.items.splice(t,0,e),e}remove(t){const e=this.items.indexOf(t);if(e>=0)return this.freeIDs.push(t.offset),this.items.splice(e,1),!0}has(t){return this.items.indexOf(t)>=0}nth(t){return this.items[t]}}exports.VecArrayList=e;
},{"./alist":"o1uQ"}],"4UOh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asGLType=exports.asNativeType=void 0;var e=require("./api");const t=t=>{const s=e.GL2TYPE[t];return void 0!==s?s:t};exports.asNativeType=t;const s=t=>{const s=e.TYPE2GL[t];return void 0!==s?s:t};exports.asGLType=s;
},{"./api":"wkR7"}],"hGkp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AttribPool=void 0;var t=require("@thi.ng/api"),e=require("@thi.ng/binary"),s=require("@thi.ng/malloc"),i=require("@thi.ng/transducers"),r=require("@thi.ng/vectors"),a=require("./convert");class o{constructor(t){t=Object.assign({resizable:!0},t),this.pool=t.mem instanceof s.MemPool?t.mem:new s.MemPool(t.mem),this.capacity=t.num,this.resizable=t.resizable,this.specs={},this.attribs={},this.order=[],this.byteStride=1,this.maxAttribSize=1,t.attribs&&this.addAttribs(t.attribs,!0)}bytes(){return new Uint8Array(this.pool.buf,this.addr,this.capacity*this.byteStride)}release(t=!0){return t&&this.pool&&this.pool.release(),delete this.pool,delete this.attribs,delete this.specs,!0}addAttribs(e,s=!1){const[i,r]=this.computeStride(e);if(this.maxAttribSize=r,i!=this.byteStride&&this.realign(i),this.validateSpecs(e,i),this.byteStride=i,s){const e=this.pool.malloc(this.capacity*this.byteStride);(0,t.assert)(e>0,"out of memory"),this.addr=e}this.initDefaults(e)}attribValue(e,s){const i=this.specs[e];if((0,t.assert)(!!i,`invalid attrib: ${e}`),!(s>=this.capacity))return s*=i.stride,i.size>1?this.attribs[e].subarray(s,s+i.size):this.attribs[e][s]}*attribValues(e){const s=this.attribs[e];(0,t.assert)(!!s,`invalid attrib: ${e}`);const i=this.specs[e],r=i.stride,a=i.size;if(a>1)for(let t=0,o=0,h=this.capacity;t<h;t++,o+=r)yield s.subarray(o,o+a);else for(let t=0,o=this.capacity;t<o;t++)yield s[t*r]}setAttribValue(e,s,i){const r=this.specs[e];(0,t.assert)(!!r,`invalid attrib: ${e}`),this.ensure(s+1);const a=this.attribs[e];s*=r.stride;const o="number"==typeof i;return(0,t.assert)(()=>!o&&r.size>1||o&&1===r.size,`incompatible value for attrib: ${e}`),o?a[s]=i:((0,t.assert)(i.length<=r.size,`wrong attrib val size, expected ${r.size}, got ${i.length}`),a.set(i,s)),this}setAttribValues(e,s){const i=this.specs[e];(0,t.assert)(!!i,`invalid attrib: ${e}`);const r=s.length,a=s[0],o=i.stride;this.ensure(r);const h=this.attribs[e],l="number"==typeof a;if((0,t.assert)(()=>!l&&i.size>1||l&&1===i.size,`incompatible value(s) for attrib: ${e}`),l)for(let t=0;t<r;t++)h[t*o]=s[t];else{(0,t.assert)(a.length<=i.size,`wrong attrib val size, expected ${i.size}, got ${a.length}`);for(let t=0;t<r;t++)h.set(s[t],t*o)}}removeAttrib(t){if(!this.attribs[t])return!1;delete this.attribs[t],delete this.specs[t],this.updateOrder();const[e,s]=this.computeStride(this.specs,!1);this.maxAttribSize=s,this.realign(e)}ensure(e,i=!1){if(e<=this.capacity)return;(0,t.assert)(this.resizable,"pool resizing disabled");const r=this.pool.realloc(this.addr,e*this.byteStride);(0,t.assert)(r>0,"out of memory");for(let t in this.specs){const i=this.specs[t],o=(0,s.wrap)((0,a.asNativeType)(i.type),this.pool.buf,r+(i.byteOffset||0),(e-1)*i.stride+i.size);o.set(this.attribs[t]),this.attribs[t]=o}i&&this.setDefaults(this.specs,this.capacity,e),this.addr=r,this.capacity=e}computeStride(t,i=!0){let r=i?this.byteStride:1,o=i?this.maxAttribSize:1;for(let e in t){const i=t[e],h=s.SIZEOF[(0,a.asNativeType)(i.type)];o=Math.max(o,h),r=Math.max(r,i.byteOffset+i.size*h)}return[(0,e.align)(r,o),o]}validateSpecs(e,i=this.byteStride){for(let o in e){(0,t.assert)(!this.attribs[o],`attrib: ${o} already exists`);const h=e[o];(0,t.assert)(h.size>0,`attrib ${o}: illegal or missing size`);const l=s.SIZEOF[(0,a.asNativeType)(h.type)];null==h.default&&(h.default=h.size>1?(0,r.zeroes)(h.size):0);const c="number"==typeof h.default;(0,t.assert)(()=>!c&&h.size===h.default.length||c&&1===h.size,`attrib ${o}: incompatible default value, expected size ${h.size}`),(0,t.assert)(h.byteOffset%l==0,`attrib ${o}: invalid offset, expected multiple of ${l}`),h.stride=i/l,this.specs[o]=h}this.updateOrder()}updateOrder(){this.order=Object.keys(this.specs).sort((t,e)=>this.specs[t].byteOffset-this.specs[e].byteOffset)}initDefaults(t,e=0,i=this.capacity){for(let r in t){const e=t[r];this.attribs[r]=(0,s.wrap)((0,a.asNativeType)(e.type),this.pool.buf,this.addr+(e.byteOffset||0),(this.capacity-1)*e.stride+e.size)}this.setDefaults(t,e,i)}setDefaults(t,e=0,s=this.capacity){for(let i in t){const r=t[i];if(null==r.default)continue;const a=this.attribs[i],o=r.stride,h=r.default;if("number"==typeof h)for(let t=e;t<s;t++)a[t*o]=h;else for(let t=e;t<s;t++)a.set(h,t*o)}}realign(e){if(0===this.order.length||e===this.byteStride)return;console.warn(`realigning ${this.byteStride} -> ${e}...`);const r=e>this.byteStride;let o=this.addr;if(r)(0,t.assert)(this.resizable,"pool resizing disabled"),o=this.pool.realloc(this.addr,this.capacity*e),(0,t.assert)(o>0,"out of memory");else if(!this.resizable)return;const h=o===this.addr,l=this.capacity-1,c=this.attribs,n={},b=this.specs,p=r?[...this.order].reverse():this.order;for(let t in b){const i=b[t],r=(0,a.asNativeType)(i.type),h=e/s.SIZEOF[r];n[t]=[(0,s.wrap)(r,this.pool.buf,o+i.byteOffset,l*h+i.size),h]}for(let t of e<this.byteStride?(0,i.range)(l+1):(0,i.range)(l,-1,-1))for(let e of p){const s=b[e],i=s.stride,a=c[e],[o,l]=n[e];if("number"==typeof s.default)o[t*l]=a[t*i];else{const e=t*i;h?(r?o:a).copyWithin(t*l,e,e+s.size):o.set(a.subarray(e,e+s.size),t*l)}}this.addr=o,this.byteStride=e;for(let t in n){const e=n[t];c[t]=e[0],b[t].stride=e[1]}}}exports.AttribPool=o;
},{"@thi.ng/api":"MOSf","@thi.ng/binary":"6qqr","@thi.ng/malloc":"BqzY","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+","./convert":"4UOh"}],"dvWd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VecLinkedList=void 0;var t=require("./alist");class e extends t.AVecList{constructor(t,e,h,i,s=0,n=1,l=i,r){super(e,h,i,n,l,s,r),this.closed=t,this.head=null,this.tail=null,this._length=0}*[Symbol.iterator](){if(this._length){let t=this.head;const e=t;do{yield t,t=t.next}while(t&&t!==e)}}get length(){return this._length}add(){const t=this.alloc();return t&&(this.tail?(t.prev=this.tail,this.tail.next=t,this.tail=t,this.closed&&(t.next=this.head,this.head.prev=t),this._length++):(this.tail=this.head=t,t.next=t.prev=this.closed?t:null,this._length++)),t}insert(t){if(!this._length)return 0===t?this.add():void 0;const e=this.nth(t);if(!e)return;const h=this.alloc();return h&&(this.head===e&&(this.head=h),h.next=e,h.prev=e.prev,e.prev&&(e.prev.next=h),e.prev=h,this._length++),h}remove(t){if(this.has(t)){this._length--,this.freeIDs.push(t.offset);const e=t;return e.prev&&(e.prev.next=e.next),this.head===e&&(this.head=this._length?e.next:null),e.next&&(e.next.prev=e.prev),this.tail===e&&(this.tail=this._length?e.prev:null),delete e.prev,delete e.next,!0}}has(t){let e=this.head;const h=e;do{if(e===t)return!0;e=e.next}while(e&&e!==h);return!1}nth(t){if(t<0&&(t+=this._length),t<0||t>=this._length)return;let e;if(t<=this._length>>1)for(e=this.head;t-- >0&&e;)e=e.next;else for(e=this.tail,t=this._length-t-1;t-- >0&&e;)e=e.prev;return e}}exports.VecLinkedList=e;
},{"./alist":"o1uQ"}],"cldE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VecPool=void 0;var e=require("@thi.ng/checks"),o=require("@thi.ng/malloc"),r=require("./convert"),t=require("./wrap");class s{constructor(e){this.pool=e instanceof o.MemPool?e:new o.MemPool(e)}stats(){return this.pool.stats()}malloc(e,o=7){return this.pool.callocAs((0,r.asNativeType)(o),e)}mallocWrapped(e,o=1,s=7){const l=this.pool.callocAs((0,r.asNativeType)(s),e*o);return(0,t.wrap)(l,e,0,o)}mallocArray(e,o,s=1,l=o,a=7){const c=this.malloc(Math.max(s,l,o)*e,(0,r.asNativeType)(a));if(!c)return;const i=[];for(let r=0;r<e;r+=l)i.push((0,t.wrap)(c,o,r,s));return i}free(o){const r=o.buf;return r?!!(0,e.isTypedArray)(r)&&this.pool.free(r):this.pool.free(o)}freeAll(){this.pool.freeAll()}release(){const e=this.pool.release();return e&&delete this.pool,e}}exports.VecPool=s;
},{"@thi.ng/checks":"XYpc","@thi.ng/malloc":"BqzY","./convert":"4UOh","./wrap":"wUAY"}],"6rQF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./alist");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./array-list");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./attrib-pool");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./linked-list");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./vec-pool");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./wrap");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});
},{"./api":"wkR7","./alist":"o1uQ","./array-list":"AjJj","./attrib-pool":"hGkp","./linked-list":"dvWd","./vec-pool":"cldE","./wrap":"wUAY"}],"N7yF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pointAtTheta=exports.pointAt=void 0;var t=require("@thi.ng/math"),e=require("@thi.ng/vectors");const o=(e,o,i,s,n,p,u=[])=>r(e,o,i,(0,t.fit01)(p,s,n),u);exports.pointAt=o;const r=(o,r,i,s,n=[])=>(0,e.add2)(null,(0,e.rotateZ)(null,(0,e.mul2)(n,(0,t.cossin)(s),r),i),o);exports.pointAtTheta=r;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"mMW/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bounds=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors"),o=require("./point-at");const r=(r,n,s,i,u)=>{const a=(0,t.set2)([],t.MAX2),d=(0,t.set2)([],t.MIN2),l=[],c=e=>{(0,o.pointAtTheta)(r,n,s,e,l),(0,t.min2)(null,a,l),(0,t.max2)(null,d,l)};if(c(i),c(u),i>u){const e=i;i=u,u=e}for(let t=(0,e.roundTo)(i,e.HALF_PI),o=(0,e.roundTo)(u,e.HALF_PI);t<o;t+=e.HALF_PI)(0,e.inRange)(t,i,u)&&c(t);return[a,d]};exports.bounds=r;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./point-at":"N7yF"}],"zAPo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closestPoint=void 0;var t=require("@thi.ng/math"),e=require("@thi.ng/vectors"),r=require("./point-at");const o=(o,i,s,n,c,u,p=[],a,d)=>{const h=e=>(0,r.pointAtTheta)(i,s,n,(0,t.fit01)(e,c,u),p);return h((0,t.minError)(h,e.distSq2,o,a,d))};exports.closestPoint=o;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./point-at":"N7yF"}],"Jnfd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEndPoints=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors");const n=(n,r,s,o=0,a=!1,i=!1)=>{const l=(0,t.abs2)([],s);if((0,t.eqDelta2)(n,r)||l[0]<e.EPS||l[1]<e.EPS)return;o%=e.TAU;const u=(0,t.submN2)([],n,r,.5),c=Math.cos(o),d=Math.sin(o),h=[c*u[0]+d*u[1],-d*u[0]+c*u[1]],[m,v]=(0,t.powN2)([],h,2),x=m/(l[0]*l[0])+v/(l[1]*l[1]);x>1&&(0,t.mulN2)(l,l,Math.sqrt(x));const[M,b]=l,g=M*M,p=b*b,q=Math.max(0,(g*p-g*v-p*m)/(g*v+p*m)),P=(a!==i?1:-1)*Math.sqrt(q),f=[P*(M*h[1]/b),P*(-b*h[0]/M)],w=[c*f[0]-d*f[1]+(n[0]+r[0])/2,d*f[0]+c*f[1]+(n[1]+r[1])/2],A=(0,t.div2)(null,(0,t.sub2)([],h,f),l),E=(0,t.div2)(null,(0,t.sub2)(null,(0,t.neg)([],h),f),l),T=(0,t.angleBetween2)(t.X2,A);let U=(0,t.angleBetween2)(A,E);return!i&&U>0?U-=e.TAU:i&&U<0&&(U+=e.TAU),{center:w,r:l,axis:o,start:T,end:T+(U%=e.TAU),xl:a,cw:i}};exports.fromEndPoints=n;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"1u0u":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Convexity=void 0,exports.Convexity=e,function(e){e[e.ILLEGAL=-1]="ILLEGAL",e[e.COLINEAR=0]="COLINEAR",e[e.CONVEX=1]="CONVEX",e[e.CONCAVE=2]="CONCAVE"}(e||(exports.Convexity=e={}));
},{}],"qOss":[function(require,module,exports) {
"use strict";var E;Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntersectionType=void 0,exports.IntersectionType=E,function(E){E[E.NONE=0]="NONE",E[E.PARALLEL=1]="PARALLEL",E[E.COINCIDENT=2]="COINCIDENT",E[E.COINCIDENT_NO_INTERSECT=3]="COINCIDENT_NO_INTERSECT",E[E.INTERSECT=4]="INTERSECT",E[E.INTERSECT_OUTSIDE=5]="INTERSECT_OUTSIDE"}(E||(exports.IntersectionType=E={}));
},{}],"ClYU":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SegmentType=void 0,exports.SegmentType=e,function(e){e[e.MOVE=0]="MOVE",e[e.LINE=1]="LINE",e[e.POLYLINE=2]="POLYLINE",e[e.ARC=3]="ARC",e[e.CUBIC=4]="CUBIC",e[e.QUADRATIC=5]="QUADRATIC",e[e.CLOSE=6]="CLOSE"}(e||(exports.SegmentType=e={}));
},{}],"spN1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setDefaultSamples=exports.DEFAULT_SAMPLES=void 0;let e=20;exports.DEFAULT_SAMPLES=e;const t=t=>exports.DEFAULT_SAMPLES=e=t;exports.setDefaultSamples=t;
},{}],"HidZ":[function(require,module,exports) {
"use strict";var A;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Type=void 0,exports.Type=A,function(A){A[A.AABB=1]="AABB",A[A.ARC=2]="ARC",A[A.CIRCLE=3]="CIRCLE",A[A.CUBIC=4]="CUBIC",A[A.CUBIC3=5]="CUBIC3",A[A.ELLIPSE=6]="ELLIPSE",A[A.GROUP=7]="GROUP",A[A.LINE=8]="LINE",A[A.LINE3=9]="LINE3",A[A.PATH=10]="PATH",A[A.POINTS=11]="POINTS",A[A.POINTS3=12]="POINTS3",A[A.POLYGON=13]="POLYGON",A[A.POLYGON3=14]="POLYGON3",A[A.POLYLINE=15]="POLYLINE",A[A.POLYLINE3=16]="POLYLINE3",A[A.QUAD=17]="QUAD",A[A.QUAD3=18]="QUAD3",A[A.QUADRATIC=19]="QUADRATIC",A[A.QUADRATIC3=20]="QUADRATIC3",A[A.RECT=21]="RECT",A[A.SPHERE=22]="SPHERE",A[A.TRIANGLE=23]="TRIANGLE",A[A.TRIANGLE3=24]="TRIANGLE3",A[A.RAY=25]="RAY",A[A.RAY3=26]="RAY3"}(A||(exports.Type=A={}));
},{}],"1nW6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./convex");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./isec");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./path");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./sample");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./shape");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});
},{"./convex":"1u0u","./isec":"qOss","./path":"ClYU","./sample":"spN1","./shape":"HidZ"}],"hwgR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closestPointArray=exports.farthestPointSegment=exports.closestPointPolyline=exports.distToSegment=exports.closestPointSegment=exports.closestT=void 0;var t=require("@thi.ng/vectors");const e=(e,s,o)=>{const r=(0,t.sub)([],o,s),n=(0,t.magSq)(r);return n>1e-6?(0,t.dot)((0,t.sub)([],e,s),r)/n:void 0};exports.closestT=e;const s=(s,o,r,n,i=!1,c=0)=>{const l=e(s,o,r);if(void 0!==l&&(!i||l>=c&&l<=1-c))return n=n||(0,t.empty)(s),l<=0?(0,t.set)(n,o):l>=1?(0,t.set)(n,r):(0,t.mixN)(n,o,r,l)};exports.closestPointSegment=s;const o=(e,o,r)=>(0,t.dist)(e,s(e,o,r)||o);exports.distToSegment=o;const r=(e,o,r=!1,n=[])=>{const i=[],c=o.length-1;let l,p,x=1/0;for(r?(l=c,p=0):(l=0,p=1);p<=c;l=p,p++)if(s(e,o[l],o[p],i)){const s=(0,t.distSq)(e,i);s<x&&(x=s,(0,t.set)(n,i))}return n};exports.closestPointPolyline=r;const n=(e,o,r,n=0,i=r.length)=>{let c,l=-1;const p=(0,t.empty)(e);for(let x=n;x<i;x++){const n=r[x],i=(0,t.distSq)(n,s(n,e,o,p)||e);i>l&&(l=i,c=x)}return[c,Math.sqrt(l)]};exports.farthestPointSegment=n;const i=(e,s)=>{let o,r=1/0;for(let n=s.length;--n>=0;){const i=(0,t.distSq)(s[n],e);i<r&&(r=i,o=s[n])}return o};exports.closestPointArray=i;
},{"@thi.ng/vectors":"n72+"}],"Xjz3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sampler=void 0;var t=require("@thi.ng/math"),s=require("@thi.ng/vectors"),e=require("@thi.ng/geom-closest-point");class i{constructor(t,s=!1){s?(this.points=t.slice(),this.points.push(t[0])):this.points=t,this.buildIndex()}totalLength(){return this.index[this.index.length-1]}pointAt(t){const e=this.points,i=e.length-1;if(i<0)return;if(0===i||t<=0)return e[0];if(t>=1)return e[i];const n=this.index,o=t*n[i];for(let r=1;r<=i;r++)if(n[r]>=o)return(0,s.mixN)([],e[r-1],e[r],(o-n[r-1])/(n[r]-n[r-1]))}closestPoint(t){const i=this.points,n=[],o=[];let r=1/0;for(let h=0,l=i.length-1;h<l;h++)if((0,e.closestPointSegment)(t,i[h],i[h+1],n)){const e=(0,s.distSq)(t,n);e<r&&(r=e,(0,s.set)(o,n))}return o}closestT(i){const n=this.points,o=this.index,r=[],h=[];let l,u=1/0;for(let t=0,p=o.length-1;t<p;t++)if((0,e.closestPointSegment)(i,n[t],n[t+1],r)){const e=(0,s.distSq)(i,r);e<u&&(u=e,l=t,(0,s.set)(h,r))}return(0,t.fit01)((0,e.closestT)(i,n[l],n[l+1]),o[l],o[l+1])/this.totalLength()}segmentAt(t){let s=this.indexAt(t);if(void 0!==s)return s=Math.max(1,s),[this.points[s-1],this.points[s]]}tangentAt(t,e=1){const i=this.segmentAt(t);return i?(0,s.normalize)(null,(0,s.sub)([],i[1],i[0]),e):void 0}splitAt(t){if(t<=0||t>=1)return[this.points];const e=this.pointAt(t),i=Math.max(1,this.indexAt(t)),n=this.points.slice(0,i),o=this.points.slice(i);return(0,s.eqDelta)(n[i-1],e)||n.push(e),(0,s.eqDelta)(o[0],e)||o.unshift(e),[n,o]}splitNear(t){return this.splitAt(this.closestT(t))}indexAt(t){const s=this.points.length-1;if(s<0)return;if(0===s||t<=0)return 0;if(t>=1)return s;const e=this.index,i=t*e[s];for(let n=1;n<=s;n++)if(e[n]>=i)return n}sampleUniform(t,e=!1,i=[]){const n=this.index,o=this.points,r=this.totalLength(),h=t/r,l=n.length;for(let u=0,p=1;u<1;u+=h){const t=u*r;for(;t>=n[p]&&p<l;)p++;if(p>=l)break;const e=n[p-1];i.push((0,s.mixN)([],o[p-1],o[p],(t-e)/(n[p]-e)))}return e&&i.push((0,s.set)([],o[o.length-1])),i}sampleFixedNum(t,s=!1,e){return this.sampleUniform(this.totalLength()/t,s,e)}buildIndex(){const t=[0],e=this.points,i=e.length;for(let n=0,o=1;o<i;n=o,o++)t[o]=t[n]+(0,s.dist)(e[n],e[o]);this.index=t}}exports.Sampler=i;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","@thi.ng/geom-closest-point":"hwgR"}],"B2+j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resample=void 0;var e=require("@thi.ng/checks"),s=require("@thi.ng/vectors"),r=require("@thi.ng/geom-api"),t=require("./sampler");const i=(i,a,m=!1,l=!1)=>{if(void 0!==a){const s=new t.Sampler(i,m);return(0,e.isPlainObject)(a)?m?a.dist?s.sampleUniform(a.dist,a.last):s.sampleFixedNum(a.num,a.last):a.dist?s.sampleUniform(a.dist,!1!==a.last):s.sampleFixedNum(a.num,!1!==a.last):s.sampleFixedNum(a||r.DEFAULT_SAMPLES,!m)}return l?(0,s.copyVectors)(i):i};exports.resample=i;
},{"@thi.ng/checks":"XYpc","@thi.ng/vectors":"n72+","@thi.ng/geom-api":"1nW6","./sampler":"Xjz3"}],"Jq7x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplify=void 0;var e=require("@thi.ng/geom-closest-point"),t=require("@thi.ng/math"),r=require("@thi.ng/vectors");const s=(s,i=0,o=!1)=>{let n=s.length;const c=[];if(n<=2)return s.slice();o&&!(0,r.eqDelta)(s[0],s[n-1],t.EPS)&&((s=s.slice()).push(s[0]),n++);const l=(t,r)=>{if(c[t]=c[r]=!0,r<=t+1)return;const[o,n]=(0,e.farthestPointSegment)(s[t],s[r],s,t+1,r);n<=i||(l(t,o),l(o,r))};l(0,n-1);const u=[];for(let e=0,t=o?n-1:n;e<t;e++)c[e]&&u.push(s[e]);return u};exports.simplify=s;
},{"@thi.ng/geom-closest-point":"hwgR","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"xvni":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./resample");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./sampler");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./simplify");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./resample":"B2+j","./sampler":"Xjz3","./simplify":"Jq7x"}],"6EOh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sample=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/geom-api"),r=require("@thi.ng/geom-resample"),i=require("./point-at");const s=(n,a,o,u,l,m)=>{if((0,e.isPlainObject)(m)&&void 0!==m.dist)return new r.Sampler(s(n,a,o,u,l,m.num||t.DEFAULT_SAMPLES)).sampleUniform(m.dist,!1!==m.last);let p=l-u,c=(m=(0,e.isNumber)(m)?{num:m,last:!0}:Object.assign({num:t.DEFAULT_SAMPLES},m)).theta?Math.round(p/m.theta):m.num;p/=c,!1!==m.last&&c++;const h=new Array(c);for(let e=0;e<c;e++)h[e]=(0,i.pointAtTheta)(n,a,o,u+e*p);return h};exports.sample=s;
},{"@thi.ng/checks":"XYpc","@thi.ng/geom-api":"1nW6","@thi.ng/geom-resample":"xvni","./point-at":"N7yF"}],"ul8f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./bounds");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./closest-point");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./from-endpoints");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./point-at");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./sample");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});
},{"./bounds":"mMW/","./closest-point":"zAPo","./from-endpoints":"Jnfd","./point-at":"N7yF","./sample":"6EOh"}],"uYqO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Triangle=exports.Sphere=exports.Rect=exports.Ray=exports.Quadratic=exports.Quad=exports.Polyline=exports.Polygon=exports.Points=exports.Path=exports.Line=exports.Group=exports.Ellipse=exports.Cubic=exports.Circle=exports.Arc=exports.AABB=exports.APC=void 0;var t=require("@thi.ng/checks"),s=require("@thi.ng/equiv"),i=require("@thi.ng/errors"),e=require("@thi.ng/geom-arc"),r=require("@thi.ng/vectors");class o{constructor(t,s){this.points=t,this.attribs=s}*[Symbol.iterator](){yield*this.points}}exports.APC=o;class n{constructor(t=[0,0,0],s=[1,1,1],i){this.pos=t,this.size=s,this.attribs=i}get type(){return 1}copy(){return new n((0,r.set)([],this.pos),(0,r.set)([],this.size),Object.assign({},this.attribs))}max(){return(0,r.add3)([],this.pos,this.size)}}exports.AABB=n;class h{constructor(t,s,i,e,r,o=!1,n=!1,h){this.pos=t,this.r=s,this.axis=i,this.start=e,this.end=r,this.xl=o,this.cw=n,this.attribs=h}get type(){return 2}copy(){return new h((0,r.set)([],this.pos),(0,r.set)([],this.r),this.axis,this.start,this.end,this.xl,this.cw,Object.assign({},this.attribs))}equiv(t){return t instanceof h&&(0,s.equiv)(this.pos,t.pos)&&(0,s.equiv)(this.r,t.r)&&this.start===t.start&&this.end===t.end&&this.axis===t.axis&&this.xl===t.xl&&this.cw&&t.cw}pointAt(t,s=[]){return(0,e.pointAt)(this.pos,this.r,this.axis,this.start,this.end,t,s)}pointAtTheta(t,s=[]){return(0,e.pointAtTheta)(this.pos,this.r,this.axis,t,s)}toHiccup(){return["path",this.attribs,[["M",this.pointAt(0)],...this.toHiccupPathSegments()]]}toHiccupPathSegments(){return[["A",this.r[0],this.r[1],this.axis,this.xl,this.cw,this.pointAt(1)]]}}exports.Arc=h;class c{constructor(t=[0,0],s=1,i){this.pos=t,this.r=s,this.attribs=i}get type(){return 3}copy(){return new c((0,r.set)([],this.pos),this.r,Object.assign({},this.attribs))}toHiccup(){return["circle",this.attribs,this.pos,this.r]}}exports.Circle=c;class p extends o{get type(){return 4}copy(){return new p((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["path",this.attribs,[["M",this.points[0]],...this.toHiccupPathSegments()]]}toHiccupPathSegments(){const t=this.points;return[["C",t[1],t[2],t[3]]]}}exports.Cubic=p;class a{constructor(s=[0,0],i=[1,1],e){this.pos=s,this.r=(0,t.isNumber)(i)?[i,i]:i,this.attribs=e}get type(){return 6}copy(){return new a((0,r.set)([],this.pos),(0,r.set)([],this.r),Object.assign({},this.attribs))}toHiccup(){return["ellipse",this.attribs,this.pos,this.r]}}exports.Ellipse=a;class u{constructor(t,s){this.attribs=t,this.children=s||[]}get type(){return 7}*[Symbol.iterator](){yield*this.children}copy(){return new u(Object.assign({},this.attribs),this.children.map(t=>t.copy()))}equiv(t){return t instanceof u&&(0,s.equiv)(this.children,t.children)}toHiccup(){return["g",this.attribs,...this.children.map(t=>t.toHiccup())]}}exports.Group=u;class l extends o{get type(){return 8}copy(){return new l((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["line",this.attribs,this.points[0],this.points[1]]}toHiccupPathSegments(){const[t,s]=this.points;return[t[0]===s[0]?["V",s[1]]:t[1]===s[1]?["H",s[0]]:["L",s]]}}exports.Line=l;class b{constructor(t,s){this.segments=t||[],this.attribs=s,this.closed=!1}get type(){return 10}*[Symbol.iterator](){yield*this.segments}copy(){const t=new b([...this.segments],Object.assign({},this.attribs));return t.closed=this.closed,t}equiv(t){return t instanceof b&&(0,s.equiv)(this.segments,t.segments)}add(t){this.closed&&(0,i.illegalState)("path already closed"),this.segments.push(t)}toHiccup(){let t=[];const s=this.segments,i=s.length;if(i>1){t.push(["M",s[0].point]);for(let e=1;e<i;e++)t=t.concat(s[e].geo.toHiccupPathSegments());this.closed&&t.push(["Z"])}return["path",this.attribs||{},t]}}exports.Path=b;class g extends o{get type(){return 11}copy(){return new g((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["points",this.attribs,this.points]}}exports.Points=g;class y extends o{get type(){return 13}copy(){return new y((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["polygon",this.attribs,this.points]}}exports.Polygon=y;class x extends o{get type(){return 15}copy(){return new x((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["polyline",Object.assign({},this.attribs,{fill:"none"}),this.points]}toHiccupPathSegments(){const t=[];for(let s=this.points,i=s.length,e=1;e<i;e++)t.push(["L",s[e]]);return t}}exports.Polyline=x;class d extends o{get type(){return 17}copy(){return new d((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["polygon",this.attribs,this.points]}}exports.Quad=d;class m extends o{get type(){return 19}copy(){return new m((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["path",this.attribs,[["M",this.points[0]],...this.toHiccupPathSegments()]]}toHiccupPathSegments(){const t=this.points;return[["Q",t[1],t[2]]]}}exports.Quadratic=m;class H{constructor(t,s,i){this.pos=t,this.dir=s,this.attribs=i}get type(){return 25}copy(){return new H((0,r.set)([],this.pos),(0,r.set)([],this.dir),Object.assign({},this.attribs))}toHiccup(){return["line",this.attribs,this.pos,(0,r.maddN2)([],this.pos,this.dir,1e6)]}}exports.Ray=H;class w{constructor(s=[0,0],i=[1,1],e){this.pos=s,this.size=(0,t.isNumber)(i)?[i,i]:i,this.attribs=e}get type(){return 21}copy(){return new w((0,r.set)([],this.pos),(0,r.set)([],this.size),Object.assign({},this.attribs))}max(){return(0,r.add2)([],this.pos,this.size)}toHiccup(){return["rect",this.attribs,this.pos,this.size[0],this.size[1]]}}exports.Rect=w;class P{constructor(t=[0,0,0],s=1,i){this.pos=t,this.r=s,this.attribs=i}get type(){return 22}copy(){return new P((0,r.set)([],this.pos),this.r,Object.assign({},this.attribs))}toHiccup(){return["sphere",this.attribs,this.pos,this.r]}}exports.Sphere=P;class j extends o{get type(){return 23}copy(){return new j((0,r.copyVectors)(this.points),Object.assign({},this.attribs))}toHiccup(){return["polygon",this.attribs,this.points]}}exports.Triangle=j;
},{"@thi.ng/checks":"XYpc","@thi.ng/equiv":"U8cl","@thi.ng/errors":"j3Rf","@thi.ng/geom-arc":"ul8f","@thi.ng/vectors":"n72+"}],"oAj5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.arcFrom2Points=exports.arc=void 0;var r=require("@thi.ng/checks"),e=require("@thi.ng/geom-arc"),t=require("../api");const o=(e,o,s,c,n,i=!1,a=!1)=>new t.Arc(e,(0,r.isNumber)(o)?[o,o]:o,s,c,n,i,a);exports.arc=o;const s=(r,o,s,c=0,n=!1,i=!1,a)=>{const u=(0,e.fromEndPoints)(r,o,s,c,n,i);return new t.Arc(u.center,u.r,u.axis,u.start,u.end,u.xl,u.cw,a)};exports.arcFrom2Points=s;
},{"@thi.ng/checks":"XYpc","@thi.ng/geom-arc":"ul8f","../api":"uYqO"}],"MMoB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.triArea2=exports.polyArea2=void 0;var e=require("@thi.ng/vectors");const r=r=>{const t=r.length-1;if(t<2)return 0;let o=0,s=r[t],i=r[0];for(let n=0;n<=t;s=i,i=r[++n])o+=(0,e.cross2)(s,i);return o/2};exports.polyArea2=r;const t=e.signedArea2;exports.triArea2=t;
},{"@thi.ng/vectors":"n72+"}],"TYOj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromBarycentric=exports.toBarycentric=void 0;var t=require("@thi.ng/vectors");const r=(r,e,o,s,c=[])=>{const n=(0,t.sub)([],e,r),a=(0,t.sub)([],o,r),i=(0,t.sub)([],s,r),d=(0,t.magSq)(n),u=(0,t.magSq)(a),p=(0,t.dot)(n,a),x=(0,t.dot)(n,i),y=(0,t.dot)(a,i),b=1/(p*p-d*u),m=b*(p*y-u*x),v=b*(p*x-d*y);return(0,t.setC3)(c,1-(m+v),m,v)};exports.toBarycentric=r;const e=(r,e,o,s,c)=>(0,t.addW3)(c,r,e,o,s[0],s[1],s[2]);exports.fromBarycentric=e;
},{"@thi.ng/vectors":"n72+"}],"/O4A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bounds=void 0;var e=require("@thi.ng/vectors");const t=(t,r,o)=>{for(let n=t.length;--n>=0;){const s=t[n];(0,e.min)(null,r,s),(0,e.max)(null,o,s)}return[r,o]};exports.bounds=t;
},{"@thi.ng/vectors":"n72+"}],"f30B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centerOfWeight2=void 0;var e=require("@thi.ng/vectors");const t=(t,r=[])=>{const o=t.length-1;let s=0,c=0,n=0,i=t[o],l=t[0];for(let u=0;u<=o;i=l,l=t[++u]){const t=(0,e.cross2)(i,l);s+=t,c+=(i[0]+l[0])*t,n+=(i[1]+l[1])*t}return s=1/(3*s),r[0]=c*s,r[1]=n*s,r};exports.centerOfWeight2=t;
},{"@thi.ng/vectors":"n72+"}],"JiWp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centroid=void 0;var e=require("@thi.ng/errors"),r=require("@thi.ng/vectors");const t=(t,o)=>{const i=t.length;!i&&(0,e.illegalArgs)("no points"),!o&&(o=(0,r.empty)(t[0]));for(let e=i;--e>=0;)(0,r.add)(o,o,t[e]);return(0,r.divN)(o,o,i)};exports.centroid=t;
},{"@thi.ng/errors":"j3Rf","@thi.ng/vectors":"n72+"}],"Bomk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circumCenter2=void 0;var t=require("@thi.ng/math");const e=(e,r,s,a=t.EPS)=>{const c=e[0],n=e[1],o=r[0],i=r[1],u=s[0],h=s[1],b=o-c,M=i-n,p=u-o,d=h-i,l=Math.abs(M),m=Math.abs(d);if(l<a&&m<a||Math.abs(b)<a&&Math.abs(p)<a)return;let v,x,f,C,P,_,g,j;const q=(c+o)/2,y=(n+i)/2,E=(o+u)/2,O=(i+h)/2;return l<a?j=(x=-p/d)*((g=q)-(C=E))+(_=O):m<a?j=(v=-b/M)*((g=E)-(f=q))+(P=y):(g=((v=-b/M)*(f=q)-(x=-p/d)*(C=E)+(_=O)-(P=y))/(v-x),j=l>m?v*(g-f)+P:x*(g-C)+_),[g,j]};exports.circumCenter2=e;
},{"@thi.ng/math":"zoYr"}],"VRKV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.convexity=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors");const r=(r,o=e.EPS)=>{let n=r.length;if(n<3)return n<2?-1:0;let i=0,s=r[n-2],c=r[n-1],u=r[0];for(let e=0;e<n;s=c,c=u,u=r[++e]){const e=(0,t.corner2)(s,c,u,o);if(e<0?i|=1:e>0&&(i|=2),3===i)return 2}return i>0?1:0};exports.convexity=r;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"9kB4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equilateralTriangle2=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors");const t=(t,a)=>{const i=(0,r.sub2)([],a,t),l=(0,r.normalize)(null,(0,r.perpendicularLeft2)([],i),(0,r.mag)(i)*Math.sin(e.THIRD_PI));return[t,a,(0,r.maddN2)(null,l,i,.5)]};exports.equilateralTriangle2=t;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"vqkN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.perimeter=void 0;var e=require("@thi.ng/vectors");const r=(r,t=r.length,i=!1)=>{if(t<2)return 0;let s=0,o=r[0],n=r[1];for(let p=1;p<t;o=n,n=r[++p])s+=(0,e.dist)(o,n);return i?s+(0,e.dist)(o,r[0]):s};exports.perimeter=r;
},{"@thi.ng/vectors":"n72+"}],"IH2M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./area");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./barycentric");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./bounds");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./center-of-weight");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./centroid");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./circumcenter");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./convexity");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./equilateral");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./perimeter");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});
},{"./area":"MMoB","./barycentric":"TYOj","./bounds":"/O4A","./center-of-weight":"f30B","./centroid":"JiWp","./circumcenter":"Bomk","./convexity":"VRKV","./equilateral":"9kB4","./perimeter":"vqkN"}],"7x0+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsVN=exports.argsVV=exports.argAttribs=void 0;var e=require("@thi.ng/arrays"),r=require("@thi.ng/checks");const t=t=>(0,r.isPlainObject)((0,e.peek)(t))?t.pop():void 0;exports.argAttribs=t;const s=e=>{const r=t(e);return e.length?2===e.length?[e[0],e[1],r]:[void 0,e[0],r]:[void 0,void 0,r]};exports.argsVV=s;const o=e=>{const s=t(e);return e.length?2===e.length?[e[0],e[1],s]:(0,r.isNumber)(e[0])?[void 0,e[0],s]:[e[0],void 0,s]:[void 0,void 0,s]};exports.argsVN=o;
},{"@thi.ng/arrays":"89iK","@thi.ng/checks":"XYpc"}],"k2by":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circle=o,exports.circleFrom3Points=exports.circleFrom2Points=void 0;var e=require("@thi.ng/geom-poly-utils"),r=require("@thi.ng/vectors"),i=require("../api"),t=require("../internal/args");function o(...e){return new i.Circle(...(0,t.argsVN)(e))}const c=(e,t,o)=>new i.Circle((0,r.mixN2)([],e,t,.5),(0,r.dist)(e,t)/2,o);exports.circleFrom2Points=c;const s=(t,o,c,s)=>{const n=(0,e.circumCenter2)(t,o,c);return n?new i.Circle(n,(0,r.dist)(t,n),s):void 0};exports.circleFrom3Points=s;
},{"@thi.ng/geom-poly-utils":"IH2M","@thi.ng/vectors":"n72+","../api":"uYqO","../internal/args":"7x0+"}],"JVOD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubicFromLine=void 0;var e=require("@thi.ng/vectors");const r=(r,t)=>[(0,e.set)([],r),(0,e.mixN)([],r,t,1/3),(0,e.mixN)([],t,r,1/3),(0,e.set)([],t)];exports.cubicFromLine=r;
},{"@thi.ng/vectors":"n72+"}],"zS61":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubicFromArc=void 0;var e=require("@thi.ng/geom-arc"),r=require("@thi.ng/math"),t=require("@thi.ng/vectors"),i=require("./cubic-line");const c=(c,o,n,s,u)=>{const a=(0,e.pointAtTheta)(c,o,n,s),h=(0,e.pointAtTheta)(c,o,n,u),[m,p]=o,[b,F]=(0,r.sincos)(n),g=F*(a[0]-h[0])/2+b*(a[1]-h[1])/2,q=-b*(a[0]-h[0])/2+F*(a[1]-h[1])/2;if(0===g&&0===q||(0,t.magSq2)(o)<r.EPS)return[(0,i.cubicFromLine)(a,h)];const A=(e,r)=>[F*(e*=m)-b*(r*=p)+c[0],b*e+F*r+c[1]],d=[],f=u-s,l=Math.max((0,r.roundEps)(Math.abs(f)/r.HALF_PI,.001),1),v=f/l,x=8/6*Math.tan(.25*v);if(!isFinite(x))return[(0,i.cubicFromLine)(a,h)];for(let e=l,t=s;e>0;e--,t+=v){const[e,i]=(0,r.sincos)(t),[c,o]=(0,r.sincos)(t+v);d.push([A(i,e),A(i-e*x,e+i*x),A(o+c*x,c-o*x),A(o,c)])}return d};exports.cubicFromArc=c;
},{"@thi.ng/geom-arc":"ul8f","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./cubic-line":"JVOD"}],"R3gG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubicBounds=void 0;var t=require("@thi.ng/math");const e=(e,o,r,s,c,i,n)=>{let u=3*n-9*i+9*c-3*s,d=6*s-12*c+6*i,l=d*d-4*u*(3*c-3*s),a=s,b=s;if(n<a&&(a=n),n>b&&(b=n),l>=0){const e=e=>{if(e>0&&e<1){const o=(0,t.mixCubic)(s,c,i,n,e);o<a&&(a=o),o>b&&(b=o)}};e((-d+(l=Math.sqrt(l)))/(u*=2)),e((-d-l)/u)}e[r]=a,o[r]=b},o=(t,o,r,s)=>{const c=[],i=[];for(let n=t.length;--n>=0;)e(c,i,n,t[n],o[n],r[n],s[n]);return[c,i]};exports.cubicBounds=o;
},{"@thi.ng/math":"zoYr"}],"H1u0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closestPointCubic=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors");const r=(r,i,o,s,c,n=[],u,b,d)=>{const l=e=>(0,t.mixCubic)(n,i,o,s,c,e);return l((0,e.minError)(l,t.distSq,r,u,b,0,1,d))};exports.closestPointCubic=r;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"JRJA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubicFromQuadratic=void 0;var e=require("@thi.ng/vectors");const r=(r,t,i)=>[(0,e.set)([],r),(0,e.mixN)([],r,t,2/3),(0,e.mixN)([],i,t,2/3),(0,e.set)([],i)];exports.cubicFromQuadratic=r;
},{"@thi.ng/vectors":"n72+"}],"nI5o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sampleCubic=void 0;var e=require("@thi.ng/checks"),s=require("@thi.ng/geom-api"),i=require("@thi.ng/geom-resample"),r=require("@thi.ng/vectors");const t=(u,n)=>{if((0,e.isPlainObject)(n)&&void 0!==n.dist)return new i.Sampler(t(u,n.num||s.DEFAULT_SAMPLES)).sampleUniform(n.dist,!1!==n.last);n=(0,e.isNumber)(n)?{num:n,last:!0}:Object.assign({num:s.DEFAULT_SAMPLES},n);const m=[],[o,a,c,l]=u,p=1/n.num;for(let e=0;e<n.num;e++)m.push((0,r.mixCubic)([],o,a,c,l,e*p));return n.last&&m.push((0,r.set)([],l)),m};exports.sampleCubic=t;
},{"@thi.ng/checks":"XYpc","@thi.ng/geom-api":"1nW6","@thi.ng/geom-resample":"xvni","@thi.ng/vectors":"n72+"}],"DVSK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.splitCubicNearPoint=exports.cubicSplitAt=void 0;var t=require("@thi.ng/math"),e=require("@thi.ng/vectors");const i=(t,i,s,r,o)=>{if(o<=0||o>=1){const c=o<=0?t:r,n=[(0,e.set)([],c),(0,e.set)([],c),(0,e.set)([],c),(0,e.set)([],c)],u=[(0,e.set)([],t),(0,e.set)([],i),(0,e.set)([],s),(0,e.set)([],r)];return o<=0?[n,u]:[u,n]}const c=(0,e.mixN)([],t,i,o),n=(0,e.mixN)([],i,s,o),u=(0,e.mixN)([],s,r,o),x=(0,e.mixN)([],c,n,o),p=(0,e.mixN)([],n,u,o),m=(0,e.mixN)([],x,p,o);return[[(0,e.set)([],t),c,x,(0,e.set)([],m)],[m,p,u,(0,e.set)([],r)]]};exports.cubicSplitAt=i;const s=(s,r,o,c,n,u,x)=>i(r,o,c,n,(0,t.minError)(t=>(0,e.mixCubic)([],r,o,c,n,t),e.distSq,s,u,x));exports.splitCubicNearPoint=s;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"mTep":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quadraticBounds=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors");const r=(t,r,n)=>{const o=(0,e.clamp01)((t-r)/(t-2*r+n)),i=1-o;return i*i*t+2*i*o*r+o*o*n},n=(t,r,n)=>{for(let o=t.length;--o>=0;)if(!(0,e.inRange)(t[o],r[o],n[o]))return!1},o=(e,o,i)=>{const u=(0,t.min)([],e,i),s=(0,t.max)([],e,i);if(!n(o,u,s)){const n=[];for(let t=e.length;--t>=0;)n[t]=r(e[t],o[t],i[t]);(0,t.min)(null,u,n),(0,t.max)(null,s,n)}return[u,s]};exports.quadraticBounds=o;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"SApF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closestPointQuadratic=void 0;var t=require("@thi.ng/math"),r=require("@thi.ng/vectors");const e=(e,i,o,s,c=[],a,n,u)=>{const d=t=>(0,r.mixQuadratic)(c,i,o,s,t);return d((0,t.minError)(d,r.distSq,e,a,n,0,1,u))};exports.closestPointQuadratic=e;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"QaV0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quadraticFromLine=void 0;var e=require("@thi.ng/vectors");const r=(r,t)=>[(0,e.set)([],r),(0,e.addmN)([],r,t,.5),(0,e.set)([],t)];exports.quadraticFromLine=r;
},{"@thi.ng/vectors":"n72+"}],"Q+iW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sampleQuadratic=void 0;var e=require("@thi.ng/checks"),r=require("@thi.ng/geom-api"),t=require("@thi.ng/geom-resample"),s=require("@thi.ng/vectors");const i=(u,a)=>{if((0,e.isPlainObject)(a)&&void 0!==a.dist)return new t.Sampler(i(u,a.num||r.DEFAULT_SAMPLES)).sampleUniform(a.dist,!1!==a.last);const n=[],m=1/(a=(0,e.isNumber)(a)?{num:a,last:!0}:Object.assign({num:r.DEFAULT_SAMPLES},a)).num,[o,c,l]=u;for(let e=0;e<a.num;e++)n.push((0,s.mixQuadratic)([],o,c,l,e*m));return a.last&&n.push((0,s.set)([],l)),n};exports.sampleQuadratic=i;
},{"@thi.ng/checks":"XYpc","@thi.ng/geom-api":"1nW6","@thi.ng/geom-resample":"xvni","@thi.ng/vectors":"n72+"}],"2puq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quadraticSplitNearPoint=exports.quadraticSplitAt=void 0;var t=require("@thi.ng/math"),e=require("@thi.ng/vectors");const r=(t,r,i,s)=>{if(s<=0||s>=1){const o=s<=0?t:i,a=[(0,e.set)([],o),(0,e.set)([],o),(0,e.set)([],o)],c=[(0,e.set)([],t),(0,e.set)([],r),(0,e.set)([],i)];return s<=0?[a,c]:[c,a]}const o=(0,e.mixN)([],t,r,s),a=(0,e.mixN)([],r,i,s),c=(0,e.mixN)([],o,a,s);return[[(0,e.set)([],t),o,c],[c,a,(0,e.set)([],i)]]};exports.quadraticSplitAt=r;const i=(i,s,o,a,c,n)=>r(s,o,a,(0,t.minError)(t=>(0,e.mixQuadratic)([],s,o,a,t),e.distSq,i,c,n));exports.quadraticSplitNearPoint=i;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"URIA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quadraticPointAt=exports.cubicPointAt=void 0;var t=require("@thi.ng/vectors");const i=t.mixCubic;exports.cubicPointAt=i;const e=t.mixQuadratic;exports.quadraticPointAt=e;
},{"@thi.ng/vectors":"n72+"}],"LV04":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./cubic-arc");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./cubic-bounds");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./cubic-closest-point");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./cubic-line");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./cubic-quadratic");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var c=require("./cubic-sample");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var o=require("./cubic-split");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var i=require("./quadratic-bounds");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./quadratic-closest-point");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var f=require("./quadratic-line");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var s=require("./quadratic-sample");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var b=require("./quadratic-split");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var d=require("./point-at");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});
},{"./cubic-arc":"zS61","./cubic-bounds":"R3gG","./cubic-closest-point":"H1u0","./cubic-line":"JVOD","./cubic-quadratic":"JRJA","./cubic-sample":"nI5o","./cubic-split":"DVSK","./quadratic-bounds":"mTep","./quadratic-closest-point":"SApF","./quadratic-line":"QaV0","./quadratic-sample":"Q+iW","./quadratic-split":"2puq","./point-at":"URIA"}],"rIg6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubic=i,exports.cubicFromQuadratic=exports.cubicFromLine=exports.cubicFromArc=void 0;var r=require("@thi.ng/geom-splines"),c=require("../api"),e=require("../internal/args");function i(...r){const i=(0,e.argAttribs)(r);return new c.Cubic(1===r.length?r[0]:r,i)}const t=e=>(0,r.cubicFromArc)(e.pos,e.r,e.axis,e.start,e.end).map(r=>new c.Cubic(r,Object.assign({},e.attribs)));exports.cubicFromArc=t;const o=(e,i,t)=>new c.Cubic((0,r.cubicFromLine)(e,i),t);exports.cubicFromLine=o;const s=(e,i,t,o)=>new c.Cubic((0,r.cubicFromQuadratic)(e,i,t),o);exports.cubicFromQuadratic=s;
},{"@thi.ng/geom-splines":"LV04","../api":"uYqO","../internal/args":"7x0+"}],"kubp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ellipse=i;var e=require("../api"),r=require("../internal/args");function i(...i){return new e.Ellipse(...(0,r.argsVV)(i))}
},{"../api":"uYqO","../internal/args":"7x0+"}],"svjK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.group=void 0;var e=require("../api");const r=(r={},o)=>new e.Group(r,o);exports.group=r;
},{"../api":"uYqO"}],"DBIX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.liangBarsky2=void 0;var e=require("@thi.ng/math");const t=(t,r,s,n,i,o)=>{const u=t[0],c=t[1],f=r[0]-u,d=r[1]-c;let g=0,v=1;const x=(t,r)=>{if(r<0&&Math.abs(t)<e.EPS)return!1;const s=r/t;if(t<0){if(s>v)return!1;s>g&&(g=s)}else{if(s<g)return!1;s<v&&(v=s)}return!0};if(x(-f,-(s[0]-u))&&x(f,n[0]-u)&&x(-d,-(s[1]-c))&&x(d,n[1]-c))return!i&&(i=[]),!o&&(o=[]),i[0]=g*f+u,i[1]=g*d+c,o[0]=v*f+u,o[1]=v*d+c,[i,o,g,v]};exports.liangBarsky2=t;
},{"@thi.ng/math":"zoYr"}],"uHH0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pointInRect=exports.pointInAABB=exports.classifyPointPolyPair=exports.pointInPolygon2=exports.classifyPointInTriangle2=exports.pointInTriangle2=exports.pointInCircumCircle=exports.classifyPointInCircle=exports.pointInSphere=exports.pointInCircle=exports.pointInSegment2=void 0;var n=require("@thi.ng/math"),e=require("@thi.ng/vectors");const t=(e,t,o,s=n.EPS)=>{const r=t[0],i=t[1],p=(e[0]-r)/(o[0]-r),c=(e[1]-i)/(o[1]-i);return Math.abs(p-c)<=s&&!(p<0||p>1||c<0||c>1)};exports.pointInSegment2=t;const o=(n,t,o)=>(0,e.distSq)(t,n)<=o*o;exports.pointInCircle=o;const s=o;exports.pointInSphere=s;const r=(t,o,s,r=n.EPS)=>(0,n.sign)(s*s-(0,e.distSq)(o,t),r);exports.classifyPointInCircle=r;const i=(n,t,o,s)=>(0,e.magSq)(n)*(0,e.signedArea2)(t,o,s)-(0,e.magSq)(t)*(0,e.signedArea2)(n,o,s)+(0,e.magSq)(o)*(0,e.signedArea2)(n,t,s)-(0,e.magSq)(s)*(0,e.signedArea2)(n,t,o)>0;exports.pointInCircumCircle=i;const p=(n,t,o,s)=>{const r=(0,e.clockwise2)(t,o,s)?1:-1;return r*(0,e.signedArea2)(t,s,n)>=0&&r*(0,e.signedArea2)(o,t,n)>=0&&r*(0,e.signedArea2)(s,o,n)>=0};exports.pointInTriangle2=p;const c=(t,o,s,r,i=n.EPS)=>{const p=(0,e.clockwise2)(o,s,r)?1:-1;return(0,n.sign)(Math.min(p*(0,e.signedArea2)(o,r,t),p*(0,e.signedArea2)(s,o,t),p*(0,e.signedArea2)(r,s,t)),i)};exports.classifyPointInTriangle2=c;const a=(n,e)=>{const t=e.length-1,o=n[0],s=n[1];let r=e[t],i=e[0],p=0;for(let c=0;c<=t;r=i,i=e[++c])p=g(o,s,r[0],r[1],i[0],i[1],p);return p};exports.pointInPolygon2=a;const g=(n,e,t,o,s,r,i)=>(o<e&&r>=e||r<e&&o>=e)&&(t<=n||s<=n)?i^(t+(e-o)/(r-o)*(s-t)<n?1:0):i;exports.classifyPointPolyPair=g;const l=([n,e,t],o,s)=>n>=o[0]&&n<=o[0]+s[0]&&e>=o[1]&&e<=o[1]+s[1]&&t>=o[2]&&t<=o[2]+s[2];exports.pointInAABB=l;const x=([n,e],t,o)=>n>=t[0]&&n<=t[0]+o[0]&&e>=t[1]&&e<=t[1]+o[1];exports.pointInRect=x;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"vK3z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NONE=void 0;const e=Object.freeze({type:0});exports.NONE=e;
},{}],"F0sl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testCircleCircle=exports.intersectCircleCircle=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors"),r=require("./api");const i=(i,s,c,l)=>{const n=(0,t.sub)([],s,i),u=(0,t.mag)(n);if((0,e.eqDeltaFixed)(u,0))return{type:2};if(u<=c+l&&u>=Math.abs(c-l)){const e=((c*=c)-l*l+u*u)/(2*u),r=Math.sqrt(c-e*e),s=(0,t.maddN)([],i,n,e/u),o=(0,t.mulN)(null,(0,t.perpendicularLeft2)(null,n),r/u);return{type:4,isec:[(0,t.add)([],s,o),(0,t.sub)([],s,o)]}}return r.NONE};exports.intersectCircleCircle=i;const s=(e,r,i,s)=>(0,t.distSq)(e,r)<=Math.pow(i+s,2);exports.testCircleCircle=s;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./api":"vK3z"}],"gZxY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isParallelLine=exports.intersectLineLine=void 0;var e=require("@thi.ng/geom-closest-point"),t=require("@thi.ng/math"),i=require("@thi.ng/vectors");const r=(r,s,n,o,l=t.EPS)=>{const a=s[0]-r[0],c=s[1]-r[1],p=o[0]-n[0],d=o[1]-n[1],x=r[0]-n[0],u=r[1]-n[1],q=d*a-p*c;let g=p*u-d*x,v=a*u-c*x;if((0,t.eqDeltaFixed)(q,0,l)){if((0,t.eqDeltaFixed)(g,0,l)&&(0,t.eqDeltaFixed)(v,0,l)){let t=(0,e.closestPointSegment)(n,r,s,void 0,!0)||(0,e.closestPointSegment)(o,r,s,void 0,!0);return{type:t?2:3,isec:t}}return{type:1}}v/=q;const L=1-l;return{type:l<(g/=q)&&g<L&&l<v&&v<L?4:5,isec:(0,i.mixN2)([],r,s,g),alpha:g,beta:v,det:q}};exports.intersectLineLine=r;const s=(e,i,r,s)=>(0,t.eqDeltaFixed)((s[1]-r[1])*(i[0]-e[0])-(s[0]-r[0])*(i[1]-e[1]),0);exports.isParallelLine=s;
},{"@thi.ng/geom-closest-point":"hwgR","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"uGde":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectRayCircle=void 0;var e=require("@thi.ng/vectors"),t=require("./api");const r=(r,d,s,i)=>{const a=(0,e.sub)([],s,r),o=(0,e.dot)(a,d);let c=i*i+o*o-(0,e.magSq)(a);if(c>=0){const s=o+(c=Math.sqrt(c)),i=o-c,n=s>=0?i>=0?s>i?[(0,e.maddN)(a,r,d,i),(0,e.maddN)([],r,d,s)]:[(0,e.maddN)(a,r,d,s),(0,e.maddN)([],r,d,i)]:[(0,e.maddN)(a,r,d,s)]:i>=0?[(0,e.maddN)(a,r,d,i)]:void 0;return n?{type:4,isec:n}:t.NONE}};exports.intersectRayCircle=r;
},{"@thi.ng/vectors":"n72+","./api":"vK3z"}],"iWTF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectRayLine=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors"),r=require("./api");const i=(i,s,n,a)=>{const o=a[0]-n[0],c=a[1]-n[1],p=s[0]*c-s[1]*o;if((0,e.eqDeltaFixed)(p,0))return{type:0};const u=n[0]-i[0],d=n[1]-i[1],y=(c*u-o*d)/p,h=(s[1]*u-s[0]*d)/p;return y>=0&&h>=0&&h<=1?{type:4,isec:(0,t.maddN)([],i,s,y),alpha:y}:r.NONE};exports.intersectRayLine=i;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./api":"vK3z"}],"CV1E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectRayPolylineAll=exports.intersectRayPolyline=void 0;var e=require("@thi.ng/vectors"),t=require("./api"),r=require("./ray-line");const n=(n,i,s,l=!1)=>{const o=s.length-1;let a,c,p=1/0,y=0;l?(a=s[o],c=s[0]):(a=s[0],c=s[1]);for(let e=0;e<=o;a=c,c=s[++e]){const e=(0,r.intersectRayLine)(n,i,a,c).alpha;void 0!==e&&(y++,e<p&&(p=e))}return y>0?{type:4,isec:(0,e.maddN2)([],n,i,p),inside:!(1&y),alpha:p}:t.NONE};exports.intersectRayPolyline=n;const i=(n,i,s,l=!1)=>{const o=s.length-1;let a,c;l?(a=s[o],c=s[0]):(a=s[0],c=s[1]);const p=[];for(let t=0;t<=o;a=c,c=s[++t]){const t=(0,r.intersectRayLine)(n,i,a,c).alpha;void 0!==t&&p.push([t,(0,e.maddN2)([],n,i,t)])}return p.length?{type:4,isec:p.sort((e,t)=>e[0]-t[0]).map(e=>e[1])}:t.NONE};exports.intersectRayPolylineAll=i;
},{"@thi.ng/vectors":"n72+","./api":"vK3z","./ray-line":"iWTF"}],"xCaF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testRayAABB=exports.testRayRect=exports.intersectRayAABB=exports.intersectRayRect=void 0;var t=require("@thi.ng/vectors"),e=require("./api");const r=Math.min,s=Math.max,a=(t,e,a,c)=>{let n=t[0],o=1/e[0],i=(a[0]-n)*o,p=(c[0]-n)*o,R=r(i,p),y=s(i,p);return n=t[1],o=1/e[1],i=(a[1]-n)*o,p=(c[1]-n)*o,[s(R,r(i,p)),r(y,s(i,p))]},c=(t,e,a,c)=>{let n=t[0],o=1/e[0],i=(a[0]-n)*o,p=(c[0]-n)*o,R=r(i,p),y=s(i,p);return n=t[1],o=1/e[1],i=(a[1]-n)*o,p=(c[1]-n)*o,n=t[2],o=1/e[2],i=(a[2]-n)*o,p=(c[2]-n)*o,R=s(R,r(i,p)),y=r(y,s(i,p)),[s(R,r(i,p)),r(y,s(i,p))]},n=r=>(a,c,n,o)=>{const i=r(a,c,n,o),p=i[0],R=i[1],y=p<0;return R>s(p,0)?y?{type:4,inside:y,isec:[(0,t.maddN)([],a,c,R)],alpha:R}:{type:4,isec:[(0,t.maddN)([],a,c,p),(0,t.maddN)([],a,c,R)],alpha:p,beta:R}:e.NONE},o=n(a);exports.intersectRayRect=o;const i=n(c);exports.intersectRayAABB=i;const p=(t,e,r,c)=>{const n=a(t,e,r,c);return n[1]>s(n[0],0)};exports.testRayRect=p;const R=(t,e,r,a)=>{const n=c(t,e,r,a);return n[1]>s(n[0],0)};exports.testRayAABB=R;
},{"@thi.ng/vectors":"n72+","./api":"vK3z"}],"IEqr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testAABBSphere=exports.testRectCircle=void 0;const e=([e,t],[o,r],[c,p],i)=>s(c,e,o)+s(p,t,r)<=i*i;exports.testRectCircle=e;const t=([e,t,o],[r,c,p],[i,x,l],n)=>s(i,e,r)+s(x,t,c)+s(l,o,p)<=n*n;exports.testAABBSphere=t;const s=(e,t,s)=>Math.pow(e<t?e-t:e>t+s?e-t-s:0,2);
},{}],"f+qG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testAabbAabb=exports.testRectRect=void 0;const t=([t,e],[s,o],[b,c],[r,p])=>!(t>b+r||b>t+s||e>c+p||c>e+o);exports.testRectRect=t;const e=([t,e,s],[o,b,c],[r,p,a],[x,A,R])=>!(t>r+x||r>t+o||e>p+A||p>e+b||s>a+R||a>s+c);exports.testAabbAabb=e;
},{}],"SVAX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./point");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./circle-circle");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./line-line");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./ray-circle");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./ray-line");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var c=require("./ray-poly");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var o=require("./ray-rect");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var f=require("./rect-circle");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./rect-rect");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});
},{"./point":"uHH0","./circle-circle":"F0sl","./line-line":"gZxY","./ray-circle":"uGde","./ray-line":"iWTF","./ray-poly":"CV1E","./ray-rect":"xCaF","./rect-circle":"IEqr","./rect-rect":"f+qG"}],"RRZE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sutherlandHodgeman=void 0;var e=require("@thi.ng/geom-isec"),r=require("@thi.ng/geom-poly-utils"),t=require("@thi.ng/math"),n=require("@thi.ng/vectors");const i=(i,o,s,c=t.EPS)=>{s=s||(0,r.centroid)(o);for(let r=o.length,t=r-1,u=0;u<r;t=u,u++){const r=[],h=o[t],g=o[u],l=(0,n.corner2)(h,g,s,c);for(let t=i.length,o=t-1,s=0;s<t;o=s,s++){const t=i[o],u=i[s],d=(0,n.corner2)(h,g,u,c);(0,n.corner2)(h,g,t,c)===l?r.push(d!==l?(0,e.intersectLineLine)(h,g,t,u).isec:u):d===l&&r.push((0,e.intersectLineLine)(h,g,t,u).isec,u)}if(r.length<2)return[];i=r}return i};exports.sutherlandHodgeman=i;
},{"@thi.ng/geom-isec":"SVAX","@thi.ng/geom-poly-utils":"IH2M","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"euHj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./liang-barsky");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./sutherland-hodgeman");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});
},{"./liang-barsky":"DBIX","./sutherland-hodgeman":"RRZE"}],"Bztv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.line=t,exports.clippedLine=void 0;var e=require("@thi.ng/geom-clip"),i=require("../api"),n=require("../internal/args");function t(...e){const t=(0,n.argAttribs)(e);return new i.Line(1===e.length?e[0]:e,t)}const r=(n,t)=>{const r=t instanceof i.Rect?(0,e.liangBarsky2)(n.points[0],n.points[1],t.pos,t.max()):(0,e.liangBarsky2)(n.points[0],n.points[1],t[0],t[1]);if(r)return new i.Line([r[0],r[1]],Object.assign({},n.attribs))};exports.clippedLine=r;
},{"@thi.ng/geom-clip":"euHj","../api":"uYqO","../internal/args":"7x0+"}],"7fpp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defmulti=n,exports.implementations=exports.defmultiN=exports.DEFAULT=void 0;var e=require("@thi.ng/errors");const t=Symbol();function n(n,l){const i={},d=l?s(l):{},a=(...o)=>{const s=n(...o),l=i[s]||r(i,d,s)||i[t];return l?l(...o):(0,e.unsupported)(`missing implementation for: "${s.toString()}"`)};return a.add=((e,t)=>!i[e]&&(i[e]=t,!0)),a.addAll=(e=>{let t=!0;for(let n in e)t=a.add(n,e[n])&&t;return t}),a.remove=(e=>!!i[e]&&(delete i[e],!0)),a.callable=((...e)=>{const o=n(...e);return!!(i[o]||r(i,d,o)||i[t])}),a.isa=((e,t)=>{let n=d[e];!n&&(d[e]=n=new Set),n.add(t)}),a.impls=(()=>{const e=new Set(Object.keys(i));for(let t in d)r(i,d,t)&&e.add(t);return i[t]&&e.add(t),e}),a.rels=(()=>d),a.parents=(e=>d[e]),a.ancestors=(e=>new Set(o([],d,e))),a}exports.DEFAULT=t;const r=(e,t,n)=>{const o=t[n];if(o)for(let s of o){let n=e[s]||r(e,t,s);if(n)return n}},o=(e,t,n)=>{const r=t[n];if(r)for(let s of r)e.push(s),o(e,t,s);return e},s=e=>{const t={};for(let n in e){const r=e[n];t[n]=r instanceof Set?r:new Set(r)}return t},l=(r,o)=>{const s=n((...e)=>e.length);s.add(t,o||((...t)=>(0,e.illegalArity)(t.length)));for(let e in r)s.add(e,r[e]);return s};exports.defmultiN=l;const i=(t,n,...r)=>{if(1&r.length&&(0,e.illegalArgs)("expected an even number of implementation items"),n)for(let e in n)for(let r of n[e])r.isa(t,e);for(let e=0;e<r.length;e+=2)r[e].add(t,r[e+1])};exports.implementations=i;
},{"@thi.ng/errors":"j3Rf"}],"/iki":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dispatch2=exports.dispatch=void 0;const t=t=>t.type;exports.dispatch=t;const e=(t,e)=>t.type+"-"+e.type;exports.dispatch2=e;
},{}],"r4E3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asCubic=void 0;var t=require("@thi.ng/defmulti"),i=require("@thi.ng/math"),e=require("@thi.ng/transducers"),s=require("@thi.ng/vectors"),r=require("../ctors/cubic"),n=require("../internal/dispatch"),a=require("../api");const c=(0,t.defmulti)(n.dispatch);exports.asCubic=c,c.addAll({2:t=>{const e=t.pointAtTheta(t.start),n=t.pointAtTheta(t.end),[c,u]=t.r,[o,b]=(0,i.sincos)(t.axis),d=b*(e[0]-n[0])/2+o*(e[1]-n[1])/2,p=-o*(e[0]-n[0])/2+b*(e[1]-n[1])/2;if(0===d&&0===p||(0,s.magSq2)(t.r)<i.EPS)return[(0,r.cubicFromLine)(e,n,Object.assign({},t.attribs))];const h=(i,e)=>(i*=c,e*=u,(0,s.add2)(null,[b*i-o*e,o*i+b*e],t.pos)),g=[],l=t.end-t.start,m=Math.max((0,i.roundEps)(Math.abs(l)/i.HALF_PI,.001),1),q=l/m,f=8/6*Math.tan(.25*q);if(!isFinite(f))return[(0,r.cubicFromLine)(e,n)];for(let s=m,r=t.start;s>0;s--,r+=q){const[e,s]=(0,i.sincos)(r),[n,c]=(0,i.sincos)(r+q),u=new a.Cubic([h(s,e),h(s-e*f,e+s*f),h(c+n*f,n-c*f),h(c,n)],Object.assign({},t.attribs));g.push(u)}return g},4:t=>[t],8:({attribs:t,points:i})=>[(0,r.cubicFromLine)(i[0],i[1],Object.assign({},t))],10:t=>[...(0,e.mapcat)(t=>t.geo?c(t.geo):null,t.segments)],19:({attribs:t,points:i})=>[(0,r.cubicFromQuadratic)(i[0],i[1],i[2],Object.assign({},t))]});
},{"@thi.ng/defmulti":"7fpp","@thi.ng/math":"zoYr","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+","../ctors/cubic":"rIg6","../internal/dispatch":"/iki","../api":"uYqO"}],"oGUj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pathFromSvg=exports.pathBuilder=exports.PathBuilder=exports.roundedRect=exports.normalizedPath=exports.path=void 0;var r=require("@thi.ng/arrays"),t=require("@thi.ng/checks"),e=require("@thi.ng/math"),s=require("@thi.ng/transducers"),i=require("@thi.ng/vectors"),h=require("../api"),a=require("../ops/as-cubic"),u=require("./arc");const c=(r,t)=>new h.Path(r,t);exports.path=c;const o=r=>new h.Path([...(0,s.mapcat)(r=>r.geo?(0,s.map)(r=>({type:4,geo:r}),(0,a.asCubic)(r.geo)):[Object.assign({},r)],r.segments)],r.attribs);exports.normalizedPath=o;const n=(r,e,s,h)=>{s=(0,t.isNumber)(s)?[s,s]:s;const[a,u]=(0,i.maddN2)([],e,s,-2);return new l(h).moveTo([r[0]+s[0],r[1]]).hlineTo(a,!0).arcTo(s,s,0,!1,!0,!0).vlineTo(u,!0).arcTo([-s[0],s[1]],s,0,!1,!0,!0).hlineTo(-a,!0).arcTo([-s[0],-s[1]],s,0,!1,!0,!0).vlineTo(-u,!0).arcTo([s[0],-s[1]],s,0,!1,!0,!0).current()};exports.roundedRect=n;class l{constructor(r){this.paths=[],this.attribs=r,this.newPath()}*[Symbol.iterator](){yield*this.paths}current(){return this.curr}newPath(){this.curr=new h.Path([],this.attribs),this.paths.push(this.curr),this.currP=(0,i.zeroes)(2),this.bezierP=(0,i.zeroes)(2),this.startP=(0,i.zeroes)(2)}moveTo(r,t=!1){return this.curr.segments.length>0&&(this.curr=new h.Path,this.paths.push(this.curr)),r=this.updateCurrent(r,t),(0,i.set2)(this.startP,r),(0,i.set2)(this.bezierP,r),this.curr.add({point:r,type:0}),this}lineTo(r,t=!1){return this.curr.add({geo:new h.Line([(0,i.copy)(this.currP),this.updateCurrent(r,t)]),type:1}),(0,i.set2)(this.bezierP,this.currP),this}hlineTo(r,t=!1){const e=(0,i.copy)(this.currP);return this.currP[0]=t?this.currP[0]+r:r,(0,i.set2)(this.bezierP,this.currP),this.curr.add({geo:new h.Line([e,(0,i.copy)(this.currP)]),type:1}),this}vlineTo(r,t=!1){const e=(0,i.copy)(this.currP);return this.currP[1]=t?this.currP[1]+r:r,(0,i.set2)(this.bezierP,this.currP),this.curr.add({geo:new h.Line([e,(0,i.copy)(this.currP)]),type:1}),this}cubicTo(r,t,e,s=!1){const a=this.absPoint(t,s);return(0,i.set2)(this.bezierP,a),this.curr.add({geo:new h.Cubic([(0,i.copy)(this.currP),this.absPoint(r,s),a,this.updateCurrent(e,s)]),type:4}),this}quadraticTo(r,t,e=!1){const s=this.absPoint(r,e);return(0,i.set2)(this.bezierP,s),this.curr.add({geo:new h.Quadratic([(0,i.copy)(this.currP),s,this.updateCurrent(t,e)]),type:5}),this}cubicChainTo(t,e,s=!1){const a=(0,r.peek)(this.curr.segments).type,u=(0,i.copy)(this.currP);4===a&&(0,i.add2)(null,(0,i.sub2)([],u,this.bezierP),u);const c=this.absPoint(t,s);return(0,i.set2)(this.bezierP,c),this.curr.add({geo:new h.Cubic([(0,i.copy)(this.currP),u,c,this.updateCurrent(e,s)]),type:4}),this}quadraticChainTo(t,e=!1){const s=(0,r.peek)(this.curr.segments).type,a=(0,i.copy)(this.currP);return 5===s&&(0,i.sub2)(null,(0,i.mulN2)(null,a,2),this.bezierP),(0,i.set2)(this.bezierP,a),this.curr.add({geo:new h.Quadratic([(0,i.copy)(this.currP),a,this.updateCurrent(t,e)]),type:4}),this}arcTo(r,t,s,h,a,c=!1){if((0,e.eqDelta)(t[0],0)||(0,e.eqDelta)(t[1],0))return this.lineTo(r,c);const o=(0,i.copy)(this.currP);return this.curr.add({geo:(0,u.arcFrom2Points)(o,this.updateCurrent(r,c),t,s,h,a),type:3}),(0,i.set2)(this.bezierP,this.currP),this}closePath(){return this.curr.add({geo:new h.Line([(0,i.copy)(this.currP),(0,i.copy)(this.startP)]),type:1}),this.curr.closed=!0,this}updateCurrent(r,t){return r=(0,i.copy)(t?(0,i.add2)(null,this.currP,r):(0,i.set2)(this.currP,r))}absPoint(r,t){return t?(0,i.add2)(null,r,this.currP):r}}exports.PathBuilder=l;const p=r=>new l(r);exports.pathBuilder=p;const P=/[achlmqstvz]/i,d=r=>{const t=new l;try{let i;for(let s=r.length,h=0;h<s;){h=T(r,h);const s=r.charAt(h);let a,u,c,o,n,l;switch(P.test(s)&&(i=s,h++),i.toLowerCase()){case"m":[a,h]=b(r,h),t.moveTo(a,"m"===i);break;case"l":[a,h]=b(r,h),t.lineTo(a,"l"===i);break;case"h":[a,h]=w(r,h),t.hlineTo(a,"h"===i);break;case"v":[a,h]=w(r,h),t.vlineTo(a,"v"===i);break;case"q":[u,h]=b(r,h),[a,h]=b(r,h),t.quadraticTo(u,a,"q"===i);break;case"c":[u,h]=b(r,h),[c,h]=b(r,h),[a,h]=b(r,h),t.cubicTo(u,c,a,"c"===i);break;case"s":[u,h]=b(r,h),[a,h]=b(r,h),t.cubicChainTo(u,a,"s"===i);break;case"t":[a,h]=b(r,h),t.quadraticChainTo(a,"t"===i);break;case"a":[u,h]=b(r,h),[o,h]=w(r,h),[n,h]=w(r,h),[l,h]=w(r,h),[c,h]=b(r,h),t.arcTo(c,u,(0,e.rad)(o),!!n,!!l,"a"===i);break;case"z":t.closePath();break;default:throw new Error(`unsupported segment type: ${s} @ pos ${h}`)}}return t.paths}catch(s){throw s instanceof Error?s:new Error(`illegal char '${r.charAt(s)}' @ ${s}`)}};exports.pathFromSvg=d;const b=(r,t)=>{let e,s;return[e,t]=w(r,t),t=T(r,t),[s,t]=w(r,t),[[e,s],t]},y=r=>" "===r||"\n"===r||"\r"===r||"\t"===r,T=(r,t)=>{const e=r.length;for(;t<e&&y(r.charAt(t));)t++;return t},w=(r,t)=>{let e=!0,s=!0,i=!1,h=!1,a=t=T(r,t);for(let u=r.length;a<u;a++){const t=r.charAt(a);if("0"<=t&&t<="9")i=!0,h=!0,e=!1;else if("-"!==t&&"+"!==t)if("."!==t){if("e"!==t){if(","===t){if(!h)throw a;a++}break}if(!i)throw a;i=!1,s=!1,e=!0}else{if(!s)break;s=!1}else{if(!e)break;e=!1}}if(a===t)throw new Error(`expected coordinate @ pos: ${a}`);return[parseFloat(r.substring(t,a)),a]};
},{"@thi.ng/arrays":"89iK","@thi.ng/checks":"XYpc","@thi.ng/math":"zoYr","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+","../api":"uYqO","../ops/as-cubic":"r4E3","./arc":"oAj5"}],"y4fG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.points=void 0;var e=require("../api");const t=(t,o)=>new e.Points(t,o);exports.points=t;
},{"../api":"uYqO"}],"vURX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.star=exports.polygon=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/transducers"),t=require("@thi.ng/vectors"),o=require("../api");const n=(e,r)=>new o.Polygon(e,r);exports.polygon=n;const s=(n,s,i,a)=>new o.Polygon((0,r.transduce)((0,r.map)(([r,o])=>(0,t.cartesian2)(null,[n*o,r*e.TAU])),(0,r.push)(),(0,r.zip)((0,r.normRange)(s*i.length,!1),(0,r.cycle)(i))),a);exports.star=s;
},{"@thi.ng/math":"zoYr","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+","../api":"uYqO"}],"nHYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.polyline=void 0;var e=require("../api");const o=(o,r)=>new e.Polyline(o,r);exports.polyline=o;
},{"../api":"uYqO"}],"w8YP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quad=t;var e=require("../api"),r=require("../internal/args");function t(...t){const n=(0,r.argAttribs)(t);return new e.Quad(1===t.length?t[0]:t,n)}
},{"../api":"uYqO","../internal/args":"7x0+"}],"WTYS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quadratic=i,exports.quadraticFromLine=void 0;var r=require("@thi.ng/geom-splines"),e=require("../api"),t=require("../internal/args");function i(...r){const i=(0,t.argAttribs)(r);return new e.Quadratic(1===r.length?r[0]:r,i)}const a=(t,i,a)=>new e.Quadratic((0,r.quadraticFromLine)(t,i),a);exports.quadraticFromLine=a;
},{"@thi.ng/geom-splines":"LV04","../api":"uYqO","../internal/args":"7x0+"}],"92GM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ray=void 0;var e=require("@thi.ng/vectors"),r=require("../api");const t=(t,o,i,s=!0)=>new r.Ray(t,s?(0,e.normalize)(null,o):o,i);exports.ray=t;
},{"@thi.ng/vectors":"n72+","../api":"uYqO"}],"Hc3x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rect=i,exports.rectFromMinMax=void 0;var e=require("@thi.ng/vectors"),r=require("../api"),t=require("../internal/args");function i(...e){return new r.Rect(...(0,t.argsVV)(e))}const n=(t,i,n)=>new r.Rect(t,(0,e.sub2)([],i,t),n);exports.rectFromMinMax=n;
},{"@thi.ng/vectors":"n72+","../api":"uYqO","../internal/args":"7x0+"}],"T+pm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.triangle=i,exports.equilateralTriangle=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors"),t=require("../api"),n=require("../internal/args");function i(...e){const r=(0,n.argAttribs)(e);return new t.Triangle(1===e.length?e[0]:e,r)}const a=(n,i,a)=>{const l=(0,r.sub2)([],i,n),u=(0,r.normalize)(null,(0,r.perpendicularLeft2)([],l),(0,r.mag)(l)*Math.sin(e.THIRD_PI));return new t.Triangle([n,i,(0,r.maddN2)(null,u,l,.5)],a)};exports.equilateralTriangle=a;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../api":"uYqO","../internal/args":"7x0+"}],"/kRr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.arcLength=void 0;var e=require("@thi.ng/defmulti"),t=require("@thi.ng/geom-poly-utils"),i=require("@thi.ng/math"),r=require("@thi.ng/vectors"),s=require("../internal/dispatch");const n=(0,e.defmulti)(s.dispatch);exports.arcLength=n,n.addAll({3:e=>i.TAU*e.r,6:({r:[e,t]})=>i.PI*(3*(e+t)-Math.sqrt((3*e+t)*(3*t+e))),7:({children:e})=>e.reduce((e,t)=>e+n(t),0),8:({points:e})=>(0,r.dist)(e[0],e[1]),13:({points:e})=>(0,t.perimeter)(e,e.length,!0),15:({points:e})=>(0,t.perimeter)(e,e.length),21:({size:e})=>2*(e[0]+e[1]),23:({points:e})=>(0,r.dist)(e[0],e[1])+(0,r.dist)(e[1],e[2])+(0,r.dist)(e[2],e[0])}),n.isa(17,13),n.isa(23,13);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-poly-utils":"IH2M","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki"}],"D94A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.area=void 0;var e=require("@thi.ng/defmulti"),r=require("@thi.ng/geom-poly-utils"),i=require("@thi.ng/math"),t=require("@thi.ng/vectors"),s=require("../internal/dispatch");const a=(0,e.defmulti)(s.dispatch);exports.area=a,a.addAll({1:({size:[e,r,i]})=>2*(e*r+e*i+r*i),2:e=>.5*Math.abs(e.start-e.end)*e.r[0]*e.r[1],3:e=>i.PI*e.r*e.r,6:e=>i.PI*e.r[0]*e.r[1],7:({children:e})=>e.reduce((e,r)=>e+a(r,!1),0),11:()=>0,13:(e,i)=>{const t=(0,r.polyArea2)(e.points);return i?t:Math.abs(t)},21:e=>e.size[0]*e.size[1],23:(e,r)=>{const i=.5*(0,t.signedArea2)(...e.points);return r?i:Math.abs(i)}}),a.isa(2,11),a.isa(4,11),a.isa(8,11),a.isa(15,11),a.isa(17,13),a.isa(19,11),a.isa(25,11);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-poly-utils":"IH2M","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki"}],"1yDE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertices=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/defmulti"),r=require("@thi.ng/geom-api"),s=require("@thi.ng/geom-arc"),i=require("@thi.ng/geom-resample"),n=require("@thi.ng/geom-splines"),o=require("@thi.ng/math"),a=require("@thi.ng/vectors"),c=require("../internal/dispatch"),l=require("../api");const u=(0,t.defmulti)(c.dispatch);exports.vertices=u,u.addAll({2:(e,t)=>(0,s.sample)(e.pos,e.r,e.axis,e.start,e.end,t),3:(e,t=r.DEFAULT_SAMPLES)=>{const s=e.pos,i=e.r;let[n,c]=p(t,i);const l=o.TAU/n;c&&n++;const u=new Array(n);for(let r=0;r<n;r++)u[r]=(0,a.cartesian2)(null,[i,r*l],s);return u},4:(e,t)=>(0,n.sampleCubic)(e.points,t),6:(e,t=r.DEFAULT_SAMPLES)=>{const s=[],i=e.pos,n=e.r;let[c,l]=p(t,Math.max(e.r[0],e.r[1]));const u=o.TAU/c;l&&c++;for(let r=0;r<c;r++)s[r]=(0,a.madd2)([],i,(0,o.cossin)(r*u),n);return s},7:({children:e})=>e.reduce((e,t)=>e.concat(u(t)),[]),10:(t,r)=>{const s=(0,e.isNumber)(r)?{num:r}:r;let i=[];for(let e=t.segments,n=e.length-1,o=0;o<=n;o++){const r=e[o];r.geo&&(i=i.concat(u(r.geo,Object.assign({},s,{last:o===n&&!t.closed}))))}return i},11:e=>e.points,13:(e,t)=>(0,i.resample)(e.points,t,!0),15:(e,t)=>(0,i.resample)(e.points,t),19:(e,t)=>(0,n.sampleQuadratic)(e.points,t),21:(e,t)=>{const r=e.pos,s=(0,a.add2)([],r,e.size),i=[(0,a.set2)([],r),[s[0],r[1]],s,[r[0],s[1]]];return null!=t?u(new l.Polygon(i),t):i}}),u.isa(8,15),u.isa(17,13),u.isa(23,13);const p=(t,s)=>(0,e.isNumber)(t)?[t,!1]:[t.theta?Math.floor(o.TAU/t.theta):t.dist?Math.floor(o.TAU/(t.dist/s)):t.num||r.DEFAULT_SAMPLES,!0===t.last];
},{"@thi.ng/checks":"XYpc","@thi.ng/defmulti":"7fpp","@thi.ng/geom-api":"1nW6","@thi.ng/geom-arc":"ul8f","@thi.ng/geom-resample":"xvni","@thi.ng/geom-splines":"LV04","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki","../api":"uYqO"}],"M6Zk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asPolygon=void 0;var e=require("@thi.ng/defmulti"),i=require("../api"),s=require("../internal/dispatch"),a=require("./vertices");const r=(0,e.defmulti)(s.dispatch);exports.asPolygon=r,r.addAll({11:(e,s)=>new i.Polygon((0,a.vertices)(e,s),Object.assign({},e.attribs))}),r.isa(3,11),r.isa(6,11),r.isa(8,11),r.isa(10,11),r.isa(13,11),r.isa(15,11),r.isa(17,11),r.isa(21,11),r.isa(23,11);
},{"@thi.ng/defmulti":"7fpp","../api":"uYqO","../internal/dispatch":"/iki","./vertices":"1yDE"}],"lWxT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asPolyline=void 0;var e=require("@thi.ng/defmulti"),i=require("../api"),s=require("../internal/dispatch"),t=require("./vertices");const r=(0,e.defmulti)(s.dispatch);exports.asPolyline=r,r.addAll({11:(e,s)=>new i.Polyline((0,t.vertices)(e,s),Object.assign({},e.attribs)),10:(e,s)=>{const r=(0,t.vertices)(e,s);return new i.Polyline(e.closed?r.concat([r[0]]):r,Object.assign({},e.attribs))},13:(e,s)=>{const r=(0,t.vertices)(e,s);return new i.Polyline(r.concat([r[0]]),Object.assign({},e.attribs))}}),r.isa(3,13),r.isa(6,13),r.isa(8,11),r.isa(15,11),r.isa(17,13),r.isa(21,13),r.isa(23,13);
},{"@thi.ng/defmulti":"7fpp","../api":"uYqO","../internal/dispatch":"/iki","./vertices":"1yDE"}],"ekBx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.camel=exports.snake=exports.kebab=exports.capitalize=exports.lower=exports.upper=void 0;const e=e=>e.toUpperCase();exports.upper=e;const s=e=>e.toLowerCase();exports.lower=s;const t=e=>e[0].toUpperCase()+e.substr(1);exports.capitalize=t;const o=(e,t="-")=>s(e.replace(/([a-z0-9\u00e0-\u00fd])([A-Z\u00c0-\u00dd])/g,(e,s,o)=>s+t+o));exports.kebab=o;const p=e=>o(e,"_");exports.snake=p;const r=(t,o="-")=>s(t).replace(new RegExp(`\\${o}+(\\w)`,"g"),(s,t)=>e(t));exports.camel=r;
},{}],"KncT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=void 0;var e=require("@thi.ng/memoize");const r=(0,e.memoizeJ)((e,r)=>e.repeat(r));exports.repeat=r;
},{"@thi.ng/memoize":"MIci"}],"igUV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncate=void 0;var e=require("@thi.ng/memoize");const t=(0,e.memoizeJ)((e,t="")=>r=>r.length>e?r.substr(0,e-t.length)+t:r);exports.truncate=t;
},{"@thi.ng/memoize":"MIci"}],"J11U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.center=void 0;var e=require("@thi.ng/memoize"),t=require("./repeat"),r=require("./truncate");const n=(0,e.memoizeJ)((e,n=" ")=>{const u=(0,t.repeat)(n,e);return t=>{if(null==t)return u;t=t.toString();const n=(e-t.length)/2;return t.length<e?u.substr(0,n)+t+u.substr(0,n+((1&e)==(1&t.length)?0:1)):(0,r.truncate)(e)(t)}});exports.center=n;
},{"@thi.ng/memoize":"MIci","./repeat":"KncT","./truncate":"igUV"}],"bS0V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.padLeft=void 0;var e=require("@thi.ng/memoize"),t=require("./repeat");const r=(0,e.memoizeJ)((e,r=" ")=>{const o=(0,t.repeat)(r,e);return t=>null!=t?(t=t.toString(),t.length<e?o.substr(t.length)+t:t):o});exports.padLeft=r;
},{"@thi.ng/memoize":"MIci","./repeat":"KncT"}],"POVV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.floatFixedWidth=exports.float=void 0;var t=require("@thi.ng/memoize"),e=require("./pad-left");const o=(0,t.memoizeJ)(t=>e=>r(e)||e.toFixed(t));exports.float=o;const a=(0,t.memoizeJ)((t,o=3)=>{const a=t-o-1,s=Math.pow(10,a),d=-Math.pow(10,a-1),p=Math.pow(10,-(o-1)),h=(0,e.padLeft)(t);return e=>{const a=Math.abs(e);return h(r(e)||(0===e?"0":a<p||a>=s?i(e,t):e.toFixed(o-(e<d?1:0))))}});exports.floatFixedWidth=a;const i=(t,e)=>t.toExponential(Math.max(e-4-(Math.log(Math.abs(t))/Math.LN10>=10?2:1)-(t<0?1:0),0)),r=t=>isNaN(t)?"NaN":t===1/0?"+∞":t===-1/0?"-∞":void 0;
},{"@thi.ng/memoize":"MIci","./pad-left":"bS0V"}],"ECvz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.format=void 0;const t=(t,...e)=>{const o=[];for(let r=0,s=0,n=t.length;r<n;r++){const n=t[r],c=typeof n;o.push("function"===c?n(e[s++]):"object"===c?n[e[s++]]:n)}return o.join("")};exports.format=t;
},{}],"GjQT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.padRight=void 0;var e=require("@thi.ng/memoize"),t=require("./repeat");const r=(0,e.memoizeJ)((e,r=" ")=>{const i=(0,t.repeat)(r,e);return t=>null!=t?(t=t.toString(),t.length<e?t+i.substr(t.length):t):i});exports.padRight=r;
},{"@thi.ng/memoize":"MIci","./repeat":"KncT"}],"XX2b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maybeParseFloat=exports.maybeParseInt=void 0;const e=(e,t=0,s=10)=>{const r=parseInt(e,s);return isNaN(r)?t:r};exports.maybeParseInt=e;const t=(e,t=0)=>{const s=parseFloat(e);return isNaN(s)?t:s};exports.maybeParseFloat=t;
},{}],"XyIM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.percent=void 0;const e=(e=0)=>t=>(100*t).toFixed(e)+"%";exports.percent=e;
},{}],"+wLQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.U64=exports.U32=exports.U24=exports.U16=exports.U8=exports.B8=exports.radix=void 0;var e=require("@thi.ng/memoize"),t=require("./repeat");const r=(0,e.memoizeJ)((e,r,o="")=>{const s=(0,t.repeat)("0",r);return t=>(t=(t>>>0).toString(e),o+(t.length<r?s.substr(t.length)+t:t))});exports.radix=r;const o=r(2,8);exports.B8=o;const s=r(16,2);exports.U8=s;const p=r(16,4);exports.U16=p;const x=r(16,6);exports.U24=x;const n=r(16,8);exports.U32=n;const i=(e,t)=>n(e)+n(t);exports.U64=i;
},{"@thi.ng/memoize":"MIci","./repeat":"KncT"}],"EjTW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slugify=void 0;const e="àáäâãåèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/_,:;",a="aaaaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------",o=new RegExp(e.split("").join("|"),"g"),r=r=>r.toLowerCase().replace(/\s+/g,"-").replace(o,o=>a[e.indexOf(o)]).replace(/&+/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"");exports.slugify=r;
},{}],"wfgG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.splice=void 0;var e=require("@thi.ng/errors");const s=(s,t,r,l=r)=>(r<0&&(r+=s.length),l<0&&(l+=s.length),r>l&&(0,e.illegalArgs)("'from' index must be <= 'to'"),l=Math.max(l,0),r<=0?t+s.substr(l):r>=s.length?s+t:s.substr(0,r)+t+s.substr(l));exports.splice=s;
},{"@thi.ng/errors":"j3Rf"}],"odH5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncateLeft=void 0;var e=require("@thi.ng/memoize");const t=(0,e.memoizeJ)((e,t="")=>r=>r.length>e?t+r.substr(r.length-e+t.length):r);exports.truncateLeft=t;
},{"@thi.ng/memoize":"MIci"}],"YoUV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.grams=exports.meters=exports.seconds=exports.bytes=exports.bits=exports.units=void 0;var e=require("@thi.ng/memoize");const s=(0,e.memoizeJ)((e,s,t=2)=>{const o=e.map(e=>[e[0],null!=e[2]?e[2]:t,e[1]]).sort((e,s)=>e[0]-s[0]);return e=>{if(0===e)return`0${s}`;const t=Math.abs(e);for(let s=o.length;--s>=0;){const r=o[s];if(t>=r[0]||0===s)return(e/r[0]).toFixed(r[1])+r[2]}}});exports.units=s;const t=1024,o=1048576,r=s([[1," bits",0],[t," Kb"],[o," Mb"],[t*o," Gb"]]," bits",2);exports.bits=r;const n=s([[1," bytes",0],[t," KB"],[o," MB"],[t*o," GB"],[o*o," TB"],[t*o*o," PB"]]," bytes",2);exports.bytes=n;const m=s([[1e-12," ps"],[1e-9," ns"],[1e-6," µs"],[.001," ms"],[1," secs"],[60," mins"],[3600," hours"],[86400," days"]]," secs",3);exports.seconds=m;const p=s([[1e-12," pm"],[1e-9," nm"],[1e-6," µm"],[.001," mm"],[.01," cm"],[1," m"],[1e3," km"]]," m",2);exports.meters=p;const i=s([[1e-12," pg"],[1e-9," ng"],[1e-6," µg"],[.001," mg"],[1," g"],[1e3," kg"],[1e6," t"],[1e9," kt"],[1e12," Mt"]]," g",2);exports.grams=i;
},{"@thi.ng/memoize":"MIci"}],"PNFo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrap=void 0;var e=require("@thi.ng/memoize");const r=(0,e.memoizeJ)(e=>r=>e+r+e);exports.wrap=r;
},{"@thi.ng/memoize":"MIci"}],"Gi32":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./case");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./center");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./float");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./format");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./pad-left");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./pad-right");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./parse");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./percent");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./radix");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./repeat");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./slugify");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./splice");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./truncate");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./truncate-left");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./units");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./wrap");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});
},{"./case":"ekBx","./center":"J11U","./float":"POVV","./format":"ECvz","./pad-left":"bS0V","./pad-right":"GjQT","./parse":"XX2b","./percent":"XyIM","./radix":"+wLQ","./repeat":"KncT","./slugify":"EjTW","./splice":"wfgG","./truncate":"igUV","./truncate-left":"odH5","./units":"YoUV","./wrap":"PNFo"}],"66Ea":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INV8BIT=exports.PC=exports.FF=exports.XYZ_RGB=exports.RGB_XYZ=exports.SRGB_ALPHA=exports.RGB_LUMINANCE=exports.YELLOW=exports.MAGENTA=exports.CYAN=exports.BLUE=exports.GREEN=exports.RED=exports.WHITE=exports.BLACK=void 0;var e=require("@thi.ng/strings");const t=Object.freeze([0,0,0,1]);exports.BLACK=t;const s=Object.freeze([1,1,1,1]);exports.WHITE=s;const o=Object.freeze([1,0,0,1]);exports.RED=o;const r=Object.freeze([0,1,0,1]);exports.GREEN=r;const p=Object.freeze([0,0,1,1]);exports.BLUE=p;const x=Object.freeze([0,1,1,1]);exports.CYAN=x;const c=Object.freeze([1,0,1,1]);exports.MAGENTA=c;const n=Object.freeze([1,1,0,1]);exports.YELLOW=n;const E=[.299,.587,.114];exports.RGB_LUMINANCE=E;const A=.055;exports.SRGB_ALPHA=.055;const B=[.4124564,.3575761,.1804375,.2126729,.7151522,.072175,.0193339,.119192,.9503041];exports.RGB_XYZ=B;const G=[3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252];exports.XYZ_RGB=G;const L=(0,e.float)(2);exports.FF=L;const N=(0,e.percent)(2);exports.PC=N;const R=1/255;exports.INV8BIT=1/255;
},{"@thi.ng/strings":"Gi32"}],"ZEAo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSS_NAMES=void 0;const e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};exports.CSS_NAMES=e;
},{}],"mVnU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureHue=void 0;const e=e=>(e%=1,e<0?e+1:e);exports.ensureHue=e;
},{}],"epkx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.namedHueRgba=exports.hueRgba=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors"),a=require("./internal/ensure-hue");const r=(r,s,u=1)=>(s=6*(0,a.ensureHue)(s),(0,t.setC4)(r,(0,e.clamp01)(Math.abs(s-3)-1),(0,e.clamp01)(2-Math.abs(s-2)),(0,e.clamp01)(2-Math.abs(s-4)),u));exports.hueRgba=r;const s=(e,t,a=1)=>r(e,t/12,a);exports.namedHueRgba=s;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./internal/ensure-hue":"mVnU"}],"V7Ys":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureAlpha=void 0;var e=require("@thi.ng/math");const r=(r,t=1)=>null!=r?(0,e.clamp01)(r):t;exports.ensureAlpha=r;
},{"@thi.ng/math":"zoYr"}],"vjaW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hcyaRgba=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors"),t=require("./api"),a=require("./hue-rgba"),s=require("./internal/ensure-alpha");const u=(u,i)=>{const c=i[0];let n=i[1];const o=i[2],p=(0,a.hueRgba)(u||i,c,(0,s.ensureAlpha)(i[3])),h=(0,r.dot3)(p,t.RGB_LUMINANCE);return o<h?n*=o/h:h<1&&(n*=(1-o)/(1-h)),(0,r.setC3)(p,(0,e.clamp01)((p[0]-h)*n+o),(0,e.clamp01)((p[1]-h)*n+o),(0,e.clamp01)((p[2]-h)*n+o))};exports.hcyaRgba=u;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./api":"66Ea","./hue-rgba":"epkx","./internal/ensure-alpha":"V7Ys"}],"HxmS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clampH=exports.clamp=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors"),t=require("./internal/ensure-alpha"),a=require("./internal/ensure-hue");const p=(a,p,s=1)=>(0,r.setC4)(a||p,(0,e.clamp01)(p[0]),(0,e.clamp01)(p[1]),(0,e.clamp01)(p[2]),(0,t.ensureAlpha)(p[3],s));exports.clamp=p;const s=(p,s,l=1)=>(0,r.setC4)(p||s,(0,a.ensureHue)(s[0]),(0,e.clamp01)(s[1]),(0,e.clamp01)(s[2]),(0,t.ensureAlpha)(s[3],l));exports.clampH=s;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./internal/ensure-alpha":"V7Ys","./internal/ensure-hue":"mVnU"}],"67os":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsiaRgba=void 0;var e=require("@thi.ng/vectors"),t=require("./clamp");const s=(s,r)=>{const a=(s=(0,t.clampH)(s||r,r))[1],c=s[2];if(a<1e-6)return(0,e.setC3)(s,c,c,c);const n=6*s[0]%6,u=c*(1-a),o=1-Math.abs(n%2-1);let i=3*c*a/(1+o);const C=i*o+u;switch(i+=u,0|n){case 0:return(0,e.setC3)(s,i,C,u);case 1:return(0,e.setC3)(s,C,i,u);case 2:return(0,e.setC3)(s,u,i,C);case 3:return(0,e.setC3)(s,u,C,i);case 4:return(0,e.setC3)(s,C,u,i);case 5:return(0,e.setC3)(s,i,u,C);default:return(0,e.setC3)(s,u,u,u)}};exports.hsiaRgba=s;
},{"@thi.ng/vectors":"n72+","./clamp":"HxmS"}],"0/77":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hslaCss=void 0;var e=require("@thi.ng/math"),r=require("./api"),s=require("./internal/ensure-alpha"),a=require("./internal/ensure-hue");const t=t=>{const u=(0,r.FF)(360*(0,a.ensureHue)(t[0])),n=(0,r.PC)((0,e.clamp01)(t[1])),l=(0,r.PC)((0,e.clamp01)(t[2])),i=(0,s.ensureAlpha)(t[3]);return i<1?`hsla(${u},${n},${l},${(0,r.FF)(i)})`:`hsl(${u},${n},${l})`};exports.hslaCss=t;
},{"@thi.ng/math":"zoYr","./api":"66Ea","./internal/ensure-alpha":"V7Ys","./internal/ensure-hue":"mVnU"}],"uC/B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hslaHsva=void 0;var e=require("./clamp");const s=(s,r)=>{const t=(s=(0,e.clampH)(s||r,r))[1],a=s[2],o=2*a,c=.5*(o+t*(1-Math.abs(o-1)));return s[1]=2*(c-a)/c,s[2]=c,s};exports.hslaHsva=s;
},{"./clamp":"HxmS"}],"4rZa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hslaRgba=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors"),t=require("./hue-rgba"),a=require("./internal/ensure-alpha");const s=(s,u)=>{const n=(0,e.clamp01)(u[1]),h=(0,e.clamp01)(u[2]);s=(0,t.hueRgba)(s||u,u[0],(0,a.ensureAlpha)(u[3]));const i=(1-Math.abs(2*h-1))*n;return(0,r.setC3)(s,(s[0]-.5)*i+h,(s[1]-.5)*i+h,(s[2]-.5)*i+h)};exports.hslaRgba=s;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./hue-rgba":"epkx","./internal/ensure-alpha":"V7Ys"}],"hnO4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsvaHsla=void 0;var e=require("./clamp");const s=(s,r)=>{const t=(s=(0,e.clampH)(s||r,r))[1],a=s[2],o=(2-t)*a/2;return s[2]=o,s[1]=o&&o<1?t*a/(o<.5?2*o:2-2*o):t,s};exports.hsvaHsla=s;
},{"./clamp":"HxmS"}],"vdjl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsvaCss=void 0;var s=require("./hsva-hsla"),e=require("./hsla-css");const r=r=>(0,e.hslaCss)((0,s.hsvaHsla)([],r));exports.hsvaCss=r;
},{"./hsva-hsla":"hnO4","./hsla-css":"0/77"}],"lGBV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsvaRgba=void 0;var e=require("@thi.ng/vectors"),r=require("./clamp"),t=require("./hue-rgba");const s=(s,a)=>{const o=(s=(0,r.clampH)(s||a,a))[1],u=s[2];return(0,t.hueRgba)(s,a[0],s[3]),(0,e.setC3)(s,((s[0]-1)*o+1)*u,((s[1]-1)*o+1)*u,((s[2]-1)*o+1)*u)};exports.hsvaRgba=s;
},{"@thi.ng/vectors":"n72+","./clamp":"HxmS","./hue-rgba":"epkx"}],"TyD3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.int24Css=exports.int32Css=void 0;var e=require("@thi.ng/strings"),r=require("./api");const s=s=>{const t=(s="number"==typeof s?s:s.deref())>>>24;return t<255?`rgba(${s>>16&255},${s>>8&255},${255&s},${(0,r.FF)(t*r.INV8BIT)})`:`#${(0,e.U24)(16777215&s)}`};exports.int32Css=s;const t=e=>(e="number"==typeof e?e:e.deref(),s(4278190080|e));exports.int24Css=t;
},{"@thi.ng/strings":"Gi32","./api":"66Ea"}],"SVcl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.int24Rgba=exports.int32Rgba=void 0;var e=require("@thi.ng/vectors"),t=require("./api");const r=(r,o)=>(o="number"==typeof o?o:o.deref(),(0,e.setC4)(r||[],(o>>>16&255)*t.INV8BIT,(o>>>8&255)*t.INV8BIT,(255&o)*t.INV8BIT,(o>>>24&255)*t.INV8BIT));exports.int32Rgba=r;const o=(e,t)=>(t="number"==typeof t?t:t.deref(),r(e,4278190080|t));exports.int24Rgba=o;
},{"@thi.ng/vectors":"n72+","./api":"66Ea"}],"8TR0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.kelvinRgba=void 0;var e=require("@thi.ng/math");const t=-.6088425710866344,a=-.001748900018414868,l=.4097731842899564,o=1.2762722061615583,r=.0003115080994769546,p=.11013841706194392,c=1.3803015908551253,g=.0004478684462124118,i=-.15785750232675008,s=-.9990954974165059,h=.0032447435545127036,n=.453646839257496,m=(m,u=1)=>{let v;return(m*=.01)<66?[1,(0,e.clamp01)(t+a*(v=m-2)+l*Math.log(v)),m<20?0:(0,e.clamp01)(s+h*(v=m-10)+n*Math.log(v)),u]:[(0,e.clamp01)(c+g*(v=m-55)+i*Math.log(v)),(0,e.clamp01)(o+r*(v=m-50)-p*Math.log(v)),1,u]};exports.kelvinRgba=m;
},{"@thi.ng/math":"zoYr"}],"F2na":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaCss=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/strings"),s=require("./api"),t=require("./internal/ensure-alpha");const a=a=>{const i=255*(0,e.clamp01)(a[0])+.5|0,n=255*(0,e.clamp01)(a[1])+.5|0,p=255*(0,e.clamp01)(a[2])+.5|0,u=(0,t.ensureAlpha)(a[3]);return u<1?`rgba(${i},${n},${p},${(0,s.FF)(u)})`:`#${(0,r.U24)(i<<16|n<<8|p)}`};exports.rgbaCss=a;
},{"@thi.ng/math":"zoYr","@thi.ng/strings":"Gi32","./api":"66Ea","./internal/ensure-alpha":"V7Ys"}],"xEoS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaHcva=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors"),t=require("./clamp");const a=(a,c)=>{const s=(a=(0,t.clamp)(a||c,c))[1]<a[2]?[a[2],a[1],-1,2/3]:[a[1],a[2],0,-1/3],i=a[0]<s[0]?[s[0],s[1],s[3],a[0]]:[a[0],s[1],s[2],s[0]],o=i[0]-Math.min(i[1],i[3]);return(0,r.setC3)(a,(0,e.clamp01)(Math.abs((i[3]-i[1])/(6*o+e.EPS)+i[2])),(0,e.clamp01)(o),(0,e.clamp01)(i[0]))};exports.rgbaHcva=a;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./clamp":"HxmS"}],"8l0P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.luminanceInt=exports.luminanceRGB=void 0;var e=require("@thi.ng/vectors"),t=require("./api");const n=(n,r=t.RGB_LUMINANCE)=>(0,e.dot3)(n,r);exports.luminanceRGB=n;const r=e=>(76*(e>>>16&255)+150*(e>>>8&255)+29*(255&e))/65025;exports.luminanceInt=r;
},{"@thi.ng/vectors":"n72+","./api":"66Ea"}],"8skH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaHcya=void 0;var e=require("@thi.ng/math"),r=require("./hue-rgba"),a=require("./luminance-rgb"),t=require("./rgba-hcva");const u=(u,c)=>{const n=(0,a.luminanceRGB)(c);u=(0,t.rgbaHcva)(u,c);const i=(0,a.luminanceRGB)((0,r.hueRgba)([],u[0]));return u[1]*=n<i?i/(n+e.EPS):(1-i)/(1+e.EPS-n),u[2]=n,u};exports.rgbaHcya=u;
},{"@thi.ng/math":"zoYr","./hue-rgba":"epkx","./luminance-rgb":"8l0P","./rgba-hcva":"xEoS"}],"cR9k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaHsia=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors"),t=require("./clamp");const s=e.SQRT3/2,a=(a,i)=>{const o=(a=(0,t.clamp)(a||i,i))[0],n=a[1],c=a[2],u=e.THIRD*(o+n+c);return u<1e-6||o===n&&o===c?(0,r.setC3)(a,0,0,u):(0,r.setC3)(a,(0,e.atan2Abs)(s*(n-c),.5*(2*o-n-c))/e.TAU,1-Math.min(o,n,c)/u,u)};exports.rgbaHsia=a;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./clamp":"HxmS"}],"03a3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaHsla=void 0;var e=require("@thi.ng/math"),r=require("./rgba-hcva");const a=(a,t)=>((a=(0,r.rgbaHcva)(a,t))[2]-=.5*a[1],a[1]/=1+e.EPS-Math.abs(2*a[2]-1),a);exports.rgbaHsla=a;
},{"@thi.ng/math":"zoYr","./rgba-hcva":"xEoS"}],"wb1s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaHsva=void 0;var e=require("@thi.ng/math"),r=require("./rgba-hcva");const a=(a,t)=>((a=(0,r.rgbaHcva)(a,t))[1]/=a[2]+e.EPS,a);exports.rgbaHsva=a;
},{"@thi.ng/math":"zoYr","./rgba-hcva":"xEoS"}],"CXNV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaInt=void 0;var e=require("@thi.ng/math"),r=require("./internal/ensure-alpha");const t=t=>(255*(0,r.ensureAlpha)(t[3])<<24|255*(0,e.clamp01)(t[0])<<16|255*(0,e.clamp01)(t[1])<<8|255*(0,e.clamp01)(t[2]))>>>0;exports.rgbaInt=t;
},{"@thi.ng/math":"zoYr","./internal/ensure-alpha":"V7Ys"}],"IuGE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mulM45=exports.mulV45=exports.mulV33=void 0;var t=require("@thi.ng/math"),o=require("@thi.ng/vectors"),e=require("./ensure-alpha");const d=(d,S,r,s=!0)=>{const l=(0,o.dotS3)(S,r,0,0,3),p=(0,o.dotS3)(S,r,1,0,3),u=(0,o.dotS3)(S,r,2,0,3),c=(0,e.ensureAlpha)(r[3]);return s?(0,o.setC4)(d||r,(0,t.clamp01)(l),(0,t.clamp01)(p),(0,t.clamp01)(u),c):(0,o.setC4)(d||r,l,p,u,c)};exports.mulV33=d;const S=(d,S,r,s=!0)=>{d=(0,o.setC4)(d||r,r[0],r[1],r[2],(0,e.ensureAlpha)(r[3]));const l=(0,o.dotS4)(d,S,0,0)+S[4],p=(0,o.dotS4)(d,S,0,5)+S[9],u=(0,o.dotS4)(d,S,0,10)+S[14],c=(0,o.dotS4)(d,S,0,15)+S[19];return s?(0,o.setC4)(d,(0,t.clamp01)(l),(0,t.clamp01)(p),(0,t.clamp01)(u),(0,t.clamp01)(c)):(0,o.setC4)(d,l,p,u,c)};exports.mulV45=S;const r=(t,e)=>[(0,o.dotS4)(e,t,0,0,1,5),(0,o.dotS4)(e,t,0,1,1,5),(0,o.dotS4)(e,t,0,2,1,5),(0,o.dotS4)(e,t,0,3,1,5),(0,o.dotS4)(e,t,0,4,1,5)+e[4],(0,o.dotS4)(e,t,5,0,1,5),(0,o.dotS4)(e,t,5,1,1,5),(0,o.dotS4)(e,t,5,2,1,5),(0,o.dotS4)(e,t,5,3,1,5),(0,o.dotS4)(e,t,5,4,1,5)+e[9],(0,o.dotS4)(e,t,10,0,1,5),(0,o.dotS4)(e,t,10,1,1,5),(0,o.dotS4)(e,t,10,2,1,5),(0,o.dotS4)(e,t,10,3,1,5),(0,o.dotS4)(e,t,10,4,1,5)+e[14],(0,o.dotS4)(e,t,15,0,1,5),(0,o.dotS4)(e,t,15,1,1,5),(0,o.dotS4)(e,t,15,2,1,5),(0,o.dotS4)(e,t,15,3,1,5),(0,o.dotS4)(e,t,15,4,1,5)+e[19]];exports.mulM45=r;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./ensure-alpha":"V7Ys"}],"lQkf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaXyza=void 0;var e=require("./api"),r=require("./clamp"),a=require("./internal/matrix-ops"),i=require("./internal/ensure-alpha");const l=(l,t)=>((l=(0,a.mulV33)(null,e.RGB_XYZ,(0,r.clamp)(l||t,t),!1))[3]=(0,i.ensureAlpha)(t[3]),l);exports.rgbaXyza=l;
},{"./api":"66Ea","./clamp":"HxmS","./internal/matrix-ops":"IuGE","./internal/ensure-alpha":"V7Ys"}],"JSGT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbaYcbcra=void 0;var e=require("@thi.ng/vectors"),r=require("./clamp"),c=require("./luminance-rgb");const t=(t,a)=>{t=(0,r.clamp)(t||a,a);const s=(0,c.luminanceRGB)(a);return(0,e.setC3)(t,s,.565*(a[2]-s),.713*(a[0]-s))};exports.rgbaYcbcra=t;
},{"@thi.ng/vectors":"n72+","./clamp":"HxmS","./luminance-rgb":"8l0P"}],"vgA6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.srgbaRgba=exports.rgbaSrgba=exports.srgbLinear=exports.linearSrgb=void 0;var r=require("@thi.ng/vectors"),e=require("./api"),s=require("./internal/ensure-alpha");const t=r=>r<=.0031308?12.92*r:(1+e.SRGB_ALPHA)*Math.pow(r,1/2.4)-e.SRGB_ALPHA;exports.linearSrgb=t;const a=r=>r<=.04045?r/12.92:Math.pow((r+e.SRGB_ALPHA)/(1+e.SRGB_ALPHA),2.4);exports.srgbLinear=a;const o=(e,a)=>(0,r.setC4)(e||a,t(a[0]),t(a[1]),t(a[2]),(0,s.ensureAlpha)(a[3]));exports.rgbaSrgba=o;const p=(e,t)=>(0,r.setC4)(e||t,a(t[0]),a(t[1]),a(t[2]),(0,s.ensureAlpha)(t[3]));exports.srgbaRgba=p;
},{"@thi.ng/vectors":"n72+","./api":"66Ea","./internal/ensure-alpha":"V7Ys"}],"oPZV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.xyzaRgba=void 0;var e=require("./api"),r=require("./internal/matrix-ops");const t=(t,a)=>(0,r.mulV33)(t||a,e.XYZ_RGB,a);exports.xyzaRgba=t;
},{"./api":"66Ea","./internal/matrix-ops":"IuGE"}],"Kti/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ycbcraRgba=void 0;var e=require("@thi.ng/math"),r=require("@thi.ng/vectors"),t=require("./internal/ensure-alpha");const a=(a,c)=>{const s=c[0],n=c[1],i=c[2];return(0,r.setC4)(a,(0,e.clamp01)(s+1.403*i),(0,e.clamp01)(s-.344*n-.714*i),(0,e.clamp01)(s+1.77*n),(0,t.ensureAlpha)(c[3]))};exports.ycbcraRgba=a;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","./internal/ensure-alpha":"V7Ys"}],"oEa5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseHex=exports.parseCss=void 0;var e=require("@thi.ng/errors"),r=require("@thi.ng/math"),s=require("@thi.ng/strings"),a=require("./api"),t=require("./hsla-rgba"),n=require("./int-rgba"),i=require("./names");const o=/^#?([0-9a-f]{3,8})$/i,l=/^(rgb|hsl)a?\(\s*([0-9.]+?),\s*([0-9.]+%?),\s*([0-9.]+%?),?\s*([0-9.]+)?\s*\)$/,c=r=>{if("#"===(r="string"==typeof r?r:r.deref()).charAt(0))return(0,n.int32Rgba)([],b(r));{const a=l.exec(r);if(a)return"rgb"===a[1]||"rgba"===a[1]?[g(a[2]),g(a[3]),g(a[4]),(0,s.maybeParseFloat)(a[5],1)]:(0,t.hslaRgba)(null,[(0,s.maybeParseFloat)(a[2])/360,g(a[3]),g(a[4]),(0,s.maybeParseFloat)(a[5],1)]);{const s=i.CSS_NAMES[r];return!s&&(0,e.illegalArgs)(`invalid color: "${r}"`),(0,n.int32Rgba)([],b(s))}}};exports.parseCss=c;const b=r=>{const a=o.exec(r);if(a){const e=a[1];switch(e.length){case 3:{const[r,a,t]=e;return(4278190080|(0,s.maybeParseInt)(`${r}${r}${a}${a}${t}${t}`,0,16))>>>0}case 4:{const[r,a,t,n]=e;return(0,s.maybeParseInt)(`${r}${r}${a}${a}${t}${t}${n}${n}`,0,16)>>>0}case 6:return(4278190080|(0,s.maybeParseInt)(e,0,16))>>>0;case 8:return(0,s.maybeParseInt)(e,0,16)>>>0}}(0,e.illegalArgs)(`invalid hex color: "${r}"`)};exports.parseHex=b;const g=e=>(0,r.clamp01)(e.indexOf("%")>0?.01*(0,s.maybeParseFloat)(e):(0,s.maybeParseFloat)(e)*a.INV8BIT);
},{"@thi.ng/errors":"j3Rf","@thi.ng/math":"zoYr","@thi.ng/strings":"Gi32","./api":"66Ea","./hsla-rgba":"4rZa","./int-rgba":"SVcl","./names":"ZEAo"}],"OWZT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asCSS=H,exports.asRGBA=R,exports.asHCYA=$,exports.asHSIA=S,exports.asHSLA=z,exports.asHSVA=E,exports.asXYZA=Y,exports.asYCbCrA=I,exports.convert=void 0;var r=require("@thi.ng/defmulti"),e=require("@thi.ng/errors"),a=require("./hcya-rgba"),s=require("./hsia-rgba"),i=require("./hsla-css"),t=require("./hsla-hsva"),o=require("./hsla-rgba"),u=require("./hsva-css"),n=require("./hsva-hsla"),g=require("./hsva-rgba"),c=require("./int-css"),b=require("./int-rgba"),h=require("./parse-css"),q=require("./rgba-css"),l=require("./rgba-hcya"),v=require("./rgba-hsia"),d=require("./rgba-hsla"),f=require("./rgba-hsva"),p=require("./rgba-int"),x=require("./rgba-xyza"),y=require("./rgba-ycbcra"),m=require("./xyza-rgba"),A=require("./ycbcra-rgba");const C=(0,r.defmulti)((r,a,s)=>void 0!==r.mode?`${a}-${r.mode}`:void 0!==s?`${a}-${s}`:(0,e.illegalArgs)("missing src color mode"));function H(r,e){return C(r,6,e)}function R(r,e){return C(r,0,e)}function $(r,e){return C(r,1,e)}function S(r,e){return C(r,4,e)}function z(r,e){return C(r,3,e)}function E(r,e){return C(r,2,e)}function Y(r,e){return C(r,7,e)}function I(r,e){return C(r,8,e)}exports.convert=C,C.add(r.DEFAULT,(r,a,s)=>void 0!==r.mode&&r.mode===a||a===s?r:(0,e.illegalArgs)(`missing conversion for mode ${s} -> ${a}`));const L=(r,e,a)=>C.add(`${r}-${e}`,a),X=(r,e,...a)=>{L(0,r,r=>e([],r)),a.forEach(a=>L(a,r,r=>C(e([],r),a,0)))};L(0,6,r=>(0,h.parseCss)(r)),[1,4,3,2,5,7,8].forEach(r=>L(r,6,e=>C((0,h.parseCss)(e),r,0))),X(5,b.int32Rgba,1,4,3,2,7,8),L(6,5,r=>(0,c.int32Css)(r)),X(1,a.hcyaRgba,6,5,3,2,7,8),X(4,s.hsiaRgba,6,5,1,3,2,7,8),X(3,o.hslaRgba,1,4,5,7,8),L(6,3,r=>(0,i.hslaCss)(r)),L(2,3,r=>(0,t.hslaHsva)([],r)),X(2,g.hsvaRgba,1,4,5,7,8),L(6,2,r=>(0,u.hsvaCss)(r)),L(3,2,r=>(0,n.hsvaHsla)([],r)),[[1,l.rgbaHcya],[4,v.rgbaHsia],[3,d.rgbaHsla],[2,f.rgbaHsva],[7,x.rgbaXyza],[8,y.rgbaYcbcra]].forEach(([r,e])=>L(r,0,r=>e([],r))),L(6,0,r=>(0,q.rgbaCss)(r)),L(5,0,r=>(0,p.rgbaInt)(r)),X(7,m.xyzaRgba,6,1,4,3,2,5,8),X(8,A.ycbcraRgba,6,1,4,3,2,5,7);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/errors":"j3Rf","./hcya-rgba":"vjaW","./hsia-rgba":"67os","./hsla-css":"0/77","./hsla-hsva":"uC/B","./hsla-rgba":"4rZa","./hsva-css":"vdjl","./hsva-hsla":"hnO4","./hsva-rgba":"lGBV","./int-css":"TyD3","./int-rgba":"SVcl","./parse-css":"oEa5","./rgba-css":"F2na","./rgba-hcya":"8skH","./rgba-hsia":"cR9k","./rgba-hsla":"03a3","./rgba-hsva":"wb1s","./rgba-int":"CXNV","./rgba-xyza":"lQkf","./rgba-ycbcra":"JSGT","./xyza-rgba":"oPZV","./ycbcra-rgba":"Kti/"}],"YIhX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Int32=exports.int24=exports.int32=void 0;const e=e=>new r(e);exports.int32=e;const t=e=>new r(16777215&e|4278190080);exports.int24=t;class r{constructor(e){this.value=e>>>0}get mode(){return 5}copy(){return new r(this.value)}deref(){return this.value}}exports.Int32=r;
},{}],"kDJT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CSS=exports.css=void 0;const e=e=>new s(e);exports.css=e;class s{constructor(e){this.value=e}get mode(){return 6}copy(){return new s(this.value)}deref(){return this.value}}exports.CSS=s;
},{}],"nV2H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AColor=void 0;var t=require("@thi.ng/math"),e=require("@thi.ng/vectors");class r{constructor(t,e=0,r=1){this.buf=t||[0,0,0,0],this.offset=e,this.stride=r}[Symbol.iterator](){return(0,e.values)(this.buf,4,this.offset,this.stride)}get length(){return 4}deref(){return[this[0],this[1],this[2],this[3]]}eqDelta(r,s=t.EPS){return(0,e.eqDelta4)(this,r,s)}}exports.AColor=r;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"4inn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureArgs=void 0;const e=e=>{if("number"==typeof e[0])switch(e.length){case 1:return e.push(0,0,1),e;case 2:return e.push(0,1),e;case 3:return e.push(1),e;default:return e}return e[0]};exports.ensureArgs=e;
},{}],"3c78":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hcya=s,exports.HCYA=void 0;var e=require("@thi.ng/vectors"),r=require("./internal/acolor"),t=require("./internal/ensure-args");function s(...e){return new n((0,t.ensureArgs)(e))}class n extends r.AColor{get mode(){return 1}copy(){return new n(this.deref())}copyView(){return new n(this.buf,this.offset,this.stride)}empty(){return new n}}exports.HCYA=n,(0,e.declareIndices)(n.prototype,["h","c","y","a"]);
},{"@thi.ng/vectors":"n72+","./internal/acolor":"nV2H","./internal/ensure-args":"4inn"}],"ap7u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsia=s,exports.HSIA=void 0;var e=require("@thi.ng/vectors"),r=require("./internal/acolor"),t=require("./internal/ensure-args");function s(...e){return new n((0,t.ensureArgs)(e))}class n extends r.AColor{get mode(){return 4}copy(){return new n(this.deref())}copyView(){return new n(this.buf,this.offset,this.stride)}empty(){return new n}}exports.HSIA=n,(0,e.declareIndices)(n.prototype,["h","s","i","a"]);
},{"@thi.ng/vectors":"n72+","./internal/acolor":"nV2H","./internal/ensure-args":"4inn"}],"+Bh2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsla=s,exports.HSLA=void 0;var e=require("@thi.ng/vectors"),r=require("./internal/acolor"),t=require("./internal/ensure-args");function s(...e){return new n((0,t.ensureArgs)(e))}class n extends r.AColor{get mode(){return 3}copy(){return new n(this.deref())}copyView(){return new n(this.buf,this.offset,this.stride)}empty(){return new n}}exports.HSLA=n,(0,e.declareIndices)(n.prototype,["h","s","l","a"]);
},{"@thi.ng/vectors":"n72+","./internal/acolor":"nV2H","./internal/ensure-args":"4inn"}],"mI6r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsva=s,exports.HSVA=void 0;var e=require("@thi.ng/vectors"),r=require("./internal/acolor"),t=require("./internal/ensure-args");function s(...e){return new n((0,t.ensureArgs)(e))}class n extends r.AColor{get mode(){return 2}copy(){return new n(this.deref())}copyView(){return new n(this.buf,this.offset,this.stride)}empty(){return new n}}exports.HSVA=n,(0,e.declareIndices)(n.prototype,["h","s","v","a"]);
},{"@thi.ng/vectors":"n72+","./internal/acolor":"nV2H","./internal/ensure-args":"4inn"}],"DSDE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgba=s,exports.RGBA=void 0;var e=require("@thi.ng/vectors"),r=require("./internal/acolor"),t=require("./internal/ensure-args");function s(...e){return new n((0,t.ensureArgs)(e))}class n extends r.AColor{get mode(){return 0}copy(){return new n(this.deref())}copyView(){return new n(this.buf,this.offset,this.stride)}empty(){return new n}}exports.RGBA=n,(0,e.declareIndices)(n.prototype,["r","g","b","a"]);
},{"@thi.ng/vectors":"n72+","./internal/acolor":"nV2H","./internal/ensure-args":"4inn"}],"JZTY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.xyza=s,exports.XYZA=void 0;var e=require("@thi.ng/vectors"),r=require("./internal/acolor"),t=require("./internal/ensure-args");function s(...e){return new n((0,t.ensureArgs)(e))}class n extends r.AColor{get mode(){return 7}copy(){return new n(this.deref())}copyView(){return new n(this.buf,this.offset,this.stride)}empty(){return new n}}exports.XYZA=n,(0,e.declareIndices)(n.prototype,["x","y","z","a"]);
},{"@thi.ng/vectors":"n72+","./internal/acolor":"nV2H","./internal/ensure-args":"4inn"}],"zfSF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ycbcra=s,exports.YCbCrA=void 0;var e=require("@thi.ng/vectors"),r=require("./internal/acolor"),t=require("./internal/ensure-args");function s(...e){return new n((0,t.ensureArgs)(e))}class n extends r.AColor{get mode(){return 8}copy(){return new n(this.deref())}copyView(){return new n(this.buf,this.offset,this.stride)}empty(){return new n}}exports.YCbCrA=n,(0,e.declareIndices)(n.prototype,["y","b","r","a"]);
},{"@thi.ng/vectors":"n72+","./internal/acolor":"nV2H","./internal/ensure-args":"4inn"}],"g/M+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAlpha=exports.alpha=void 0;var e=require("@thi.ng/vectors");const t=e=>void 0!==e[3]?e[3]:1;exports.alpha=t;const s=(t,s,o)=>(0,e.setC4)(t||s,s[0],s[1],s[2],o);exports.setAlpha=s;
},{"@thi.ng/vectors":"n72+"}],"wQw6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closestPrimaryHue=exports.closestHue=void 0;var e=require("./internal/ensure-hue");const r=r=>Math.round(12*(0,e.ensureHue)(r))%12;exports.closestHue=r;const s=r=>Math.round(12*(0,e.ensureHue)(r))%12&14;exports.closestPrimaryHue=s;
},{"./internal/ensure-hue":"mVnU"}],"m6EE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiCosineGradient=exports.cosineCoeffs=exports.cosineGradient=exports.cosineColor=exports.GRADIENTS=void 0;var e=require("@thi.ng/compose"),r=require("@thi.ng/math"),n=require("@thi.ng/transducers"),o=require("./clamp");const a={"blue-cyan":[[0,.5,.5,1],[0,.5,.5,0],[0,.5,.3333,0],[0,.5,.6666,0]],"blue-magenta-orange":[[.938,.328,.718,1],[.659,.438,.328,0],[.388,.388,.296,0],[2.538,2.478,.168,0]],"blue-white-red":[[.66,.56,.68,1],[.718,.438,.72,0],[.52,.8,.52,0],[-.43,-.397,-.083,0]],"cyan-magenta":[[.61,.498,.65,1],[.388,.498,.35,0],[.53,.498,.62,0],[3.438,3.012,4.025,0]],"green-blue-orange":[[.892,.725,0,1],[.878,.278,.725,0],[.332,.518,.545,0],[2.44,5.043,.732,0]],"green-cyan":[[0,.5,.5,1],[0,.5,.5,0],[0,.3333,.5,0],[0,.6666,.5,0]],"green-magenta":[[.6666,.5,.5,1],[.5,.6666,.5,0],[.6666,.666,.5,0],[.2,0,.5,0]],"green-red":[[.5,.5,0,1],[.5,.5,0,0],[.5,.5,0,0],[.5,0,0,0]],"magenta-green":[[.59,.811,.12,1],[.41,.392,.59,0],[.94,.548,.278,0],[-4.242,-6.611,-4.045,0]],"orange-blue":[[.5,.5,.5,1],[.5,.5,.5,0],[.8,.8,.5,0],[0,.2,.5,0]],"orange-magenta-blue":[[.821,.328,.242,1],[.659,.481,.896,0],[.612,.34,.296,0],[2.82,3.026,-.273,0]],rainbow1:[[.5,.5,.5,1],[.5,.5,.5,0],[1,1,1,0],[0,.3333,.6666,0]],rainbow2:[[.5,.5,.5,1],[.666,.666,.666,0],[1,1,1,0],[0,.3333,.6666,0]],rainbow3:[[.5,.5,.5,1],[.75,.75,.75,0],[1,1,1,0],[0,.3333,.6666,0]],rainbow4:[[.5,.5,.5,1],[1,1,1,0],[1,1,1,0],[0,.3333,.6666,0]],"red-blue":[[.5,0,.5,1],[.5,0,.5,0],[.5,0,.5,0],[0,0,.5,0]],"yellow-green-blue":[[.65,.5,.31,1],[-.65,.5,.6,0],[.333,.278,.278,0],[.66,0,.667,0]],"yellow-magenta-cyan":[[1,.5,.5,1],[.5,.5,.5,0],[.75,1,.6666,0],[.8,1,.3333,0]],"yellow-purple-magenta":[[.731,1.098,.192,1],[.358,1.09,.657,0],[1.077,.36,.328,0],[.965,2.265,.837,0]],"yellow-red":[[.5,.5,0,1],[.5,.5,0,0],[.1,.5,0,0],[0,0,0,0]]};exports.GRADIENTS=a;const t=(e,o)=>(0,n.transduce)((0,n.map)(([e,n,a,t])=>(0,r.clamp01)(e+n*Math.cos(r.TAU*(a*o+t)))),(0,n.push)(),(0,n.zip)(...e));exports.cosineColor=t;const s=(r,o)=>(0,n.transduce)((0,n.map)((0,e.partial)(t,o)),(0,n.push)(),(0,n.normRange)(r-1));exports.cosineGradient=s;const i=(e,r)=>{e=(0,o.clamp)([],e),r=(0,o.clamp)([],r);const a=[...(0,n.map)(([e,r])=>.5*(e-r),(0,n.zip)(e,r))];return[[...(0,n.map)(([e,r])=>e-r,(0,n.zip)(e,a))],a,[-.5,-.5,-.5,-.5],[0,0,0,0]]};exports.cosineCoeffs=i;const p=(e,...r)=>[...(0,n.interpolate)(e,0,1,i,t,...r)];exports.multiCosineGradient=p;
},{"@thi.ng/compose":"gnoC","@thi.ng/math":"zoYr","@thi.ng/transducers":"GbKR","./clamp":"HxmS"}],"0lab":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.invertInt=exports.invertRGB=void 0;var e=require("@thi.ng/vectors"),t=require("./clamp");const r=(r,s)=>(r=(0,t.clamp)(r||s,s),(0,e.sub3)(r,e.ONE3,r));exports.invertRGB=r;const s=e=>16777215^e;exports.invertInt=s;
},{"@thi.ng/vectors":"n72+","./clamp":"HxmS"}],"cZF4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.luminance=void 0;var e=require("@thi.ng/defmulti"),r=require("@thi.ng/errors"),i=require("./convert"),n=require("./luminance-rgb");const o=(0,e.defmulti)((e,i)=>void 0!==e.mode?e.mode:void 0!==i?i:(0,r.illegalArgs)("missing color mode"));exports.luminance=o,o.add(0,e=>(0,n.luminanceRGB)(e)),o.add(5,e=>(0,n.luminanceInt)("number"==typeof e?e:e.deref())),o.add(e.DEFAULT,(e,r)=>(0,n.luminanceRGB)((0,i.convert)(e,0,r)));
},{"@thi.ng/defmulti":"7fpp","@thi.ng/errors":"j3Rf","./convert":"OWZT","./luminance-rgb":"8l0P"}],"GIL5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixAlpha=exports.mix=void 0;var e=require("@thi.ng/math"),t=require("@thi.ng/vectors");const i=t.mixN4;exports.mix=i;const r=(i,r,x)=>(0,t.setC4)(i||r,(0,e.mix)(r[0],x[0],r[3]),(0,e.mix)(r[0],x[0],r[3]),(0,e.mix)(r[0],x[0],r[3]),r[3]);exports.mixAlpha=r;
},{"@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+"}],"Qox5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.postmultiply=exports.premultiply=void 0;var t=require("@thi.ng/vectors");const e=(e,r)=>{const s=r[3];return(0,t.setC4)(e||r,r[0]*s,r[1]*s,r[2]*s,s)};exports.premultiply=e;const r=(e,r)=>{const s=r[3];return s>0?(0,t.setC4)(e||r,r[0]/s,r[1]/s,r[2]/s,s):e||e==r?r:(0,t.set)(e,r)};exports.postmultiply=r;
},{"@thi.ng/vectors":"n72+"}],"TcbV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.composeXor=exports.composeDestAtop=exports.composeSrcAtop=exports.composeDestOut=exports.composeSrcOut=exports.composeDestIn=exports.composeSrcIn=exports.composeDestOver=exports.composeSrcOver=exports.composeDest=exports.composeSrc=exports.composeClear=exports.porterDuffP=exports.porterDuff=void 0;var o=require("@thi.ng/vectors"),e=require("./premultiply");const s=(e,s,t,r)=>{const p=t?r?(o,s,t,r,p)=>e(o,s)*t+o*r+s*p:(o,s,t,r)=>e(o,s)*t+o*r:r?(o,s,t,r,p)=>e(o,s)*t+s*p:(o,s,t)=>e(o,s)*t;return(e,c,x)=>{const m=c[3],n=x[3],u=m*n,l=t*m*(1-n),D=r*n*(1-m);return(0,o.setC4)(e||x,p(c[0],x[0],u,l,D),p(c[1],x[1],u,l,D),p(c[2],x[2],u,l,D),s*u+l+D)}};exports.porterDuff=s;const t=(o,s,t,r)=>(0,e.postmultiply)(null,r(null,(0,e.premultiply)([],s),(0,e.premultiply)(o,t)));exports.porterDuffP=t;const r=(e,s,t)=>(0,o.setN4)(e||t,0);exports.composeClear=r;const p=s(o=>o,1,1,0);exports.composeSrc=p;const c=s((o,e)=>e,1,0,1);exports.composeDest=c;const x=s(o=>o,1,1,1);exports.composeSrcOver=x;const m=s((o,e)=>e,1,1,1);exports.composeDestOver=m;const n=s(o=>o,1,0,0);exports.composeSrcIn=n;const u=s((o,e)=>e,1,0,0);exports.composeDestIn=u;const l=s(o=>o,0,1,0);exports.composeSrcOut=l;const D=s((o,e)=>e,0,0,1);exports.composeDestOut=D;const i=s(o=>o,1,0,1);exports.composeSrcAtop=i;const S=s((o,e)=>e,1,1,0);exports.composeDestAtop=S;const f=s(()=>0,0,1,1);exports.composeXor=f;
},{"@thi.ng/vectors":"n72+","./premultiply":"Qox5"}],"U3Au":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.luminanceAlpha=exports.grayscale=exports.tint=exports.sepia=exports.temperature=exports.hueRotate=exports.saturation=exports.exposure=exports.contrast=exports.brightness=exports.subtract=exports.IDENTITY=exports.concat=exports.transform=void 0;var t=require("@thi.ng/math"),e=require("./api"),s=require("./internal/matrix-ops");const r=.072,o=.213,p=.285,n=.715,x=.787,a=.928,c=.14,i=.143,u=.283,m=s.mulV45;exports.transform=m;const l=(t,...e)=>e.reduce(s.mulM45,t);exports.concat=l;const h=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];exports.IDENTITY=h;const I=(t=e.WHITE)=>[-1,0,0,0,t[0],0,-1,0,0,t[1],0,0,-1,0,t[2],0,0,0,1,0];exports.subtract=I;const M=t=>[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0];exports.brightness=M;const N=(t,e=.5*(1-t))=>[t,0,0,0,e,0,t,0,0,e,0,0,t,0,e,0,0,0,1,0];exports.contrast=N;const b=t=>[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];exports.exposure=b;const g=t=>[o+x*t,n-n*t,r-r*t,0,0,o-o*t,n+p*t,r-r*t,0,0,o-o*t,n-n*t,r+a*t,0,0,0,0,0,1,0];exports.saturation=g;const E=t=>{const e=Math.sin(t),s=Math.cos(t);return[o+s*x-e*o,n-s*n-e*n,r-s*r+e*a,0,0,o-s*o+e*i,n+s*p+e*c,r-s*r-e*u,0,0,o-s*o-e*x,n-s*n+e*n,r+s*a+e*r,0,0,0,0,0,1,0]};exports.hueRotate=E;const T=t=>[1+t,0,0,0,0,0,1,0,0,0,0,0,1-t,0,0,0,0,0,1,0];exports.temperature=T;const d=(e=1)=>[(0,t.mix)(1,.393,e),.769*e,.189*e,0,0,.349*e,(0,t.mix)(1,.686,e),.168*e,0,0,.272*e,.534*e,(0,t.mix)(1,.131,e),0,0,0,0,0,1,0];exports.sepia=d;const A=t=>[1+t,0,0,0,0,0,1,0,0,0,0,0,1+t,0,0,0,0,0,1,0];exports.tint=A;const R=(t=0,[s,r,o]=e.RGB_LUMINANCE)=>[s,r,o,0,t,s,r,o,0,t,s,r,o,0,t,0,0,0,1,0];exports.grayscale=R;const _=([t,s,r]=e.RGB_LUMINANCE)=>[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t,s,r,0,0];exports.luminanceAlpha=_;
},{"@thi.ng/math":"zoYr","./api":"66Ea","./internal/matrix-ops":"IuGE"}],"M2Uv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./names");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./hcya-rgba");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./hsia-rgba");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./hsla-css");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./hsla-hsva");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./hsla-rgba");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var a=require("./hsva-css");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var f=require("./hsva-hsla");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./hsva-rgba");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var s=require("./hue-rgba");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var b=require("./int-css");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var l=require("./int-rgba");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./kelvin-rgba");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var y=require("./rgba-css");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var p=require("./rgba-hcva");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var _=require("./rgba-hcya");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var j=require("./rgba-hsia");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var O=require("./rgba-hsla");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var g=require("./rgba-hsva");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var h=require("./rgba-int");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var v=require("./rgba-xyza");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var m=require("./rgba-ycbcra");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var x=require("./srgba");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var k=require("./xyza-rgba");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var M=require("./ycbcra-rgba");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./convert");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var q=require("./parse-css");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var E=require("./int");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var z=require("./css");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var w=require("./hcya");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var A=require("./hsia");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./hsla");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./hsva");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./rgba");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./xyza");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./ycbcr");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./alpha");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./clamp");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./closest-hue");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./cosine-gradients");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./invert");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./luminance");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./luminance-rgb");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./mix");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./porter-duff");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./premultiply");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./transform");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});
},{"./api":"66Ea","./names":"ZEAo","./hcya-rgba":"vjaW","./hsia-rgba":"67os","./hsla-css":"0/77","./hsla-hsva":"uC/B","./hsla-rgba":"4rZa","./hsva-css":"vdjl","./hsva-hsla":"hnO4","./hsva-rgba":"lGBV","./hue-rgba":"epkx","./int-css":"TyD3","./int-rgba":"SVcl","./kelvin-rgba":"8TR0","./rgba-css":"F2na","./rgba-hcva":"xEoS","./rgba-hcya":"8skH","./rgba-hsia":"cR9k","./rgba-hsla":"03a3","./rgba-hsva":"wb1s","./rgba-int":"CXNV","./rgba-xyza":"lQkf","./rgba-ycbcra":"JSGT","./srgba":"vgA6","./xyza-rgba":"oPZV","./ycbcra-rgba":"Kti/","./convert":"OWZT","./parse-css":"oEa5","./int":"YIhX","./css":"kDJT","./hcya":"3c78","./hsia":"ap7u","./hsla":"+Bh2","./hsva":"mI6r","./rgba":"DSDE","./xyza":"JZTY","./ycbcr":"zfSF","./alpha":"g/M+","./clamp":"HxmS","./closest-hue":"wQw6","./cosine-gradients":"m6EE","./invert":"0lab","./luminance":"cZF4","./luminance-rgb":"8l0P","./mix":"GIL5","./porter-duff":"TcbV","./premultiply":"Qox5","./transform":"U3Au"}],"EWtj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fcolor=exports.fattribs=exports.fpoints=exports.fpoint=exports.ff=exports.setPrecision=void 0;var e=require("@thi.ng/checks"),t=require("@thi.ng/color");let r=2;const s=e=>r=e;exports.setPrecision=s;const o=e=>e.toFixed(r);exports.ff=o;const n=e=>o(e[0])+","+o(e[1]);exports.fpoint=n;const i=(e,t=" ")=>e?e.map(n).join(t):"";exports.fpoints=i;const l=e=>{if(!e)return;const t=a(e);let r;return(r=e.fill)&&(t.fill=p(r)),(r=e.stroke)&&(t.stroke=p(r)),t};exports.fattribs=l;const a=t=>{let r;if((r=t.transform)||t.translate||t.scale||t.rotate)if(r)t.transform=(0,e.isString)(r)?r:`matrix(${[...r].map(o).join(" ")})`,delete t.translate,delete t.rotate,delete t.scale;else{const s=[];(r=t.translate)&&(s.push((0,e.isString)(r)?r:`translate(${o(r[0])} ${o(r[1])})`),delete t.translate),(r=t.rotate)&&(s.push((0,e.isString)(r)?r:`rotate(${o(180*r/Math.PI)})`),delete t.rotate),(r=t.scale)&&(s.push((0,e.isString)(r)?r:(0,e.isArrayLike)(r)?`scale(${o(r[0])} ${o(r[1])})`:`scale(${o(r)})`),delete t.scale),t.transform=s.join(" ")}return t},p=r=>(0,e.isString)(r)?"$"===r[0]?`url(#${r.substr(1)})`:r:(0,e.isArrayLike)(r)?(0,e.isNumber)(r.mode)?(0,t.asCSS)(r):(0,t.asCSS)(r,0):(0,e.isNumber)(r)?(0,t.asCSS)(r,5):r;exports.fcolor=p;
},{"@thi.ng/checks":"XYpc","@thi.ng/color":"M2Uv"}],"tJq3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circle=void 0;var e=require("./format");const r=(r,c,t)=>["circle",(0,e.fattribs)(Object.assign({},t,{cx:(0,e.ff)(r[0]),cy:(0,e.ff)(r[1]),r:(0,e.ff)(c)}))];exports.circle=r;
},{"./format":"EWtj"}],"sagf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defs=void 0;const e=(...e)=>["defs",{},...e];exports.defs=e;
},{}],"AuFa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.radialGradient=exports.linearGradient=void 0;var r=require("./format");const e=/(rgb|hsl)a\(([a-z0-9.-]+),([0-9.%]+),([0-9.%]+),([0-9.]+)\)/,t=(e,t,a)=>[e,(0,r.fattribs)(t),...a.map(f)],f=([t,f])=>{let a;f=(0,r.fcolor)(f);const i=e.exec(f);return i&&(f=`${i[1]}(${i[2]},${i[3]},${i[4]})`,a=i[5]),["stop",{offset:t,"stop-color":f,"stop-opacity":a}]},a=(e,f,a,i,o)=>t("linearGradient",Object.assign({},o,{id:e,x1:(0,r.ff)(f[0]),y1:(0,r.ff)(f[1]),x2:(0,r.ff)(a[0]),y2:(0,r.ff)(a[1])}),i);exports.linearGradient=a;const i=(e,f,a,i,o,s,n)=>t("radialGradient",Object.assign({},n,{id:e,fx:(0,r.ff)(f[0]),fy:(0,r.ff)(f[1]),cx:(0,r.ff)(a[0]),cy:(0,r.ff)(a[1]),fr:(0,r.ff)(i),r:(0,r.ff)(o)}),s);exports.radialGradient=i;
},{"./format":"EWtj"}],"Mkge":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.group=void 0;var e=require("./format");const r=(r,...t)=>["g",(0,e.fattribs)(Object.assign({},r)),...t];exports.group=r;
},{"./format":"EWtj"}],"g73L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vline=exports.hline=exports.line=void 0;var e=require("./format");const t=(t,s,r)=>["line",(0,e.fattribs)(Object.assign({},r,{x1:(0,e.ff)(t[0]),y1:(0,e.ff)(t[1]),x2:(0,e.ff)(s[0]),y2:(0,e.ff)(s[1])}))];exports.line=t;const s=(e,s)=>t([-1e6,e],[1e6,e],s);exports.hline=s;const r=(e,s)=>t([e,-1e6],[e,1e6],s);exports.vline=r;
},{"./format":"EWtj"}],"J5Pe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.path=void 0;var e=require("./format");const s=180/Math.PI,t=(t,a)=>{let f=[];for(let r of t)switch(f.push(r[0]),r[0].toLowerCase()){case"a":f.push([(0,e.ff)(r[1]),(0,e.ff)(r[2]),(0,e.ff)(r[3]*s),r[4]?1:0,r[5]?1:0,(0,e.ff)(r[6][0]),(0,e.ff)(r[6][1])].join(","));break;case"h":case"v":f.push((0,e.ff)(r[1]));break;case"m":case"l":f.push((0,e.fpoint)(r[1]));break;case"z":break;default:f.push((0,e.fpoints)(r.slice(1),","))}return["path",(0,e.fattribs)(Object.assign({},a,{d:f.join("")}))]};exports.path=t;
},{"./format":"EWtj"}],"6KC6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.points=void 0;var t=require("./format");const e=(e,r,i=1,o)=>{const s=["g",(0,t.fattribs)(Object.assign({},o))];let c;if(r&&"#"===r[0])c=r;else{const e=(0,t.ff)(i);c="_"+(1e6*Math.random()|0).toString(36),s.push(["g",{opacity:0},"circle"===r?["circle",{id:c,cx:0,cy:0,r:e}]:["rect",{id:c,x:0,y:0,width:e,height:e}]]),c="#"+c}for(let f of e)s.push(["use",{"xlink:href":c,x:(0,t.ff)(f[0]),y:(0,t.ff)(f[1])}]);return s};exports.points=e;
},{"./format":"EWtj"}],"3FU8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.polygon=void 0;var o=require("./format");const e=(e,t)=>["polygon",(0,o.fattribs)(Object.assign({},t,{points:(0,o.fpoints)(e)}))];exports.polygon=e;
},{"./format":"EWtj"}],"A3XC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.polyline=void 0;var e=require("./format");const t=(t,o)=>["polyline",(0,e.fattribs)(Object.assign({},o,{points:(0,e.fpoints)(t)}))];exports.polyline=t;
},{"./format":"EWtj"}],"Sj8U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.roundedRect=exports.rect=void 0;var e=require("./format");const t=(e,t,f,o)=>r(e,t,f,0,0,o);exports.rect=t;const r=(t,r,f,o,s,c)=>(c=(0,e.fattribs)(Object.assign({},c,{x:(0,e.ff)(t[0]),y:(0,e.ff)(t[1]),width:(0,e.ff)(r),height:(0,e.ff)(f)})),(o>0||s>0)&&(c.rx=(0,e.ff)(o),c.ry=(0,e.ff)(s)),["rect",c]);exports.roundedRect=r;
},{"./format":"EWtj"}],"ElCP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.svg=void 0;var e=require("@thi.ng/hiccup"),s=require("./format");const r=(r,...t)=>["svg",(0,s.fattribs)(Object.assign({version:"1.1",xmlns:e.SVG_NS,"xmlns:xlink":e.XLINK_NS},r)),...t];exports.svg=r;
},{"@thi.ng/hiccup":"t26P","./format":"EWtj"}],"bX/q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.text=void 0;var t=require("./format");const e=(e,r,s)=>["text",(0,t.fattribs)(Object.assign({},s,{x:(0,t.ff)(e[0]),y:(0,t.ff)(e[1])})),r];exports.text=e;
},{"./format":"EWtj"}],"c2KD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ellipse=void 0;var e=require("./format");const r=(r,s,t,f)=>["ellipse",(0,e.fattribs)(Object.assign({},f,{cx:(0,e.ff)(r[0]),cy:(0,e.ff)(r[1]),rx:(0,e.ff)(s),ry:(0,e.ff)(t)}))];exports.ellipse=r;
},{"./format":"EWtj"}],"BfYa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.image=void 0;var e=require("./format");const r=(r,t,i)=>["image",(0,e.fattribs)(Object.assign({},i,{"xlink:href":t,x:(0,e.ff)(r[0]),y:(0,e.ff)(r[1])}))];exports.image=r;
},{"./format":"EWtj"}],"+My5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertTree=void 0;var e=require("@thi.ng/checks"),r=require("./circle"),t=require("./ellipse"),n=require("./format"),i=require("./gradients"),s=require("./image"),a=require("./line"),c=require("./path"),o=require("./points"),l=require("./polygon"),u=require("./polyline"),d=require("./rect"),p=require("./text");const f={alpha:"opacity",dash:"stroke-dasharray",dashOffset:"stroke-dashoffset",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",miterLimit:"stroke-miterlimit",weight:"stroke-width"},g={left:"start",right:"end",center:"middle",start:"start",end:"end"},h=f=>{if((0,e.implementsFunction)(f,"toHiccup"))return h(f.toHiccup());const g=f[0];if((0,e.isArray)(g))return f.map(h);let q=m(f[1]);switch(f[0]){case"svg":case"defs":case"g":{const e=[g,(0,n.fattribs)(q)];for(let r=2,t=f.length;r<t;r++){const t=h(f[r]);null!=t&&e.push(t)}return e}case"linearGradient":return(0,i.linearGradient)(q.id,q.from,q.to,f[2],{gradientUnits:q.gradientUnits||"userSpaceOnUse",gradientTransform:q.gradientTransform});case"radialGradient":return(0,i.radialGradient)(q.id,q.from,q.to,q.r1,q.r2,f[2],{gradientUnits:q.gradientUnits||"userSpaceOnUse",gradientTransform:q.gradientTransform});case"circle":return(0,r.circle)(f[2],f[3],q);case"ellipse":return(0,t.ellipse)(f[2],f[3][0],f[3][1],q);case"rect":{const e=f[5]||0;return(0,d.roundedRect)(f[2],f[3],f[4],e,e,q)}case"line":return(0,a.line)(f[2],f[3],q);case"hline":return(0,a.hline)(f[2],q);case"vline":return(0,a.vline)(f[2],q);case"polyline":return(0,u.polyline)(f[2],q);case"polygon":return(0,l.polygon)(f[2],q);case"path":return(0,c.path)(f[2],q);case"text":return(0,p.text)(f[2],f[3],q);case"img":return(0,s.image)(f[3],f[2].src,q);case"points":return(0,o.points)(f[2],q.shape,q.size,q);default:return f}};exports.convertTree=h;const m=e=>{const r={};if(!e)return r;for(let t in e){const n=e[t];if(f[t])r[f[t]]=n;else switch(t){case"font":{const e=n.indexOf(" ");r["font-size"]=n.substr(0,e),r["font-family"]=n.substr(e+1);break}case"align":r["text-anchor"]=g[n];break;case"baseline":case"filter":break;default:r[t]=n}}return r};
},{"@thi.ng/checks":"XYpc","./circle":"tJq3","./ellipse":"c2KD","./format":"EWtj","./gradients":"AuFa","./image":"BfYa","./line":"g73L","./path":"J5Pe","./points":"6KC6","./polygon":"3FU8","./polyline":"A3XC","./rect":"Sj8U","./text":"bX/q"}],"h9El":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./circle");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./defs");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./gradients");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./group");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./line");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./path");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./points");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./polygon");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./polyline");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./rect");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./svg");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./text");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./format");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./convert");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});
},{"./circle":"tJq3","./defs":"sagf","./gradients":"AuFa","./group":"Mkge","./line":"g73L","./path":"J5Pe","./points":"6KC6","./polygon":"3FU8","./polyline":"A3XC","./rect":"Sj8U","./svg":"ElCP","./text":"bX/q","./format":"EWtj","./convert":"+My5"}],"bEP2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unionBounds=void 0;var e=require("@thi.ng/vectors");const n=(n,o,r,s)=>{const t=(0,e.add)([],n,o),u=(0,e.add)([],r,s),d=(0,e.min)([],n,r);return[d,(0,e.sub)(null,(0,e.max)(null,t,u),d)]};exports.unionBounds=n;
},{"@thi.ng/vectors":"n72+"}],"geRO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.collBounds=void 0;var e=require("./union-bounds");const o=(o,s)=>{let n=o.length-1;if(n<0)return;let{pos:r,size:t}=s(o[n]);for(;--n>=0;){const u=s(o[n]);[r,t]=(0,e.unionBounds)(r,t,u.pos,u.size)}return[r,t]};exports.collBounds=o;
},{"./union-bounds":"bEP2"}],"qkpx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bounds=void 0;var e=require("@thi.ng/defmulti"),r=require("@thi.ng/geom-arc"),i=require("@thi.ng/geom-poly-utils"),t=require("@thi.ng/geom-splines"),s=require("@thi.ng/transducers"),n=require("@thi.ng/vectors"),o=require("../ctors/rect"),u=require("../internal/coll-bounds"),c=require("../internal/dispatch"),a=require("../api");const l=(0,e.defmulti)(c.dispatch);exports.bounds=l,l.addAll({2:e=>(0,o.rectFromMinMax)(...(0,r.bounds)(e.pos,e.r,e.axis,e.start,e.end)),3:e=>new a.Rect((0,n.subN2)([],e.pos,e.r),(0,n.mulN2)(null,[2,2],e.r)),4:({points:e})=>(0,o.rectFromMinMax)(...(0,t.cubicBounds)(e[0],e[1],e[2],e[3])),6:e=>new a.Rect((0,n.sub2)([],e.pos,e.r),(0,n.mul2)(null,[2,2],e.r)),7:e=>new a.Rect(...(0,u.collBounds)(e.children,l)),8:({points:[e,r]})=>(0,o.rectFromMinMax)((0,n.min)([],e,r),(0,n.max)([],e,r)),10:e=>new a.Rect(...(0,u.collBounds)([...(0,s.iterator1)((0,s.comp)((0,s.map)(e=>e.geo),(0,s.filter)(e=>!!e)),e.segments)],l)),11:e=>(0,o.rectFromMinMax)(...(0,i.bounds)(e.points,(0,n.set2)([],n.MAX2),(0,n.set2)([],n.MIN2))),19:({points:e})=>(0,o.rectFromMinMax)(...(0,t.quadraticBounds)(e[0],e[1],e[2])),21:e=>e.copy()}),l.isa(1,21),l.isa(13,11),l.isa(15,11),l.isa(17,11),l.isa(23,11);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-arc":"ul8f","@thi.ng/geom-poly-utils":"IH2M","@thi.ng/geom-splines":"LV04","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+","../ctors/rect":"Hc3x","../internal/coll-bounds":"geRO","../internal/dispatch":"/iki","../api":"uYqO"}],"zDVb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.svgDoc=exports.asSvg=void 0;var e=require("@thi.ng/hiccup"),s=require("@thi.ng/hiccup-svg"),o=require("../internal/coll-bounds"),r=require("./bounds");const i=(...o)=>o.map(o=>(0,e.serialize)((0,s.convertTree)(o))).join("");exports.asSvg=i;const t=(e,...i)=>{if(i.length>0&&(!e||!e.viewBox)){const[t,n]=(0,o.collBounds)(i,r.bounds);e=Object.assign({width:(0,s.ff)(n[0]),height:(0,s.ff)(n[1]),viewBox:`${(0,s.ff)(t[0])} ${(0,s.ff)(t[1])} ${(0,s.ff)(n[0])} ${(0,s.ff)(n[1])}`},e)}return(0,s.svg)(e,...i)};exports.svgDoc=t;
},{"@thi.ng/hiccup":"t26P","@thi.ng/hiccup-svg":"h9El","../internal/coll-bounds":"geRO","./bounds":"qkpx"}],"hUQ0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centroid=void 0;var i=require("@thi.ng/defmulti"),e=require("@thi.ng/geom-poly-utils"),s=require("@thi.ng/vectors"),t=require("../internal/dispatch"),r=require("./bounds");const d=(0,i.defmulti)(t.dispatch);exports.centroid=d,d.addAll({3:(i,e)=>(0,s.set)(e||[],i.pos),7:i=>d((0,r.bounds)(i)),8:({points:i},e)=>(0,s.mixN)(e||[],i[0],i[1],.5),11:(i,s)=>(0,e.centroid)(i.points,s),13:(i,s)=>(0,e.centerOfWeight2)(i.points,s),21:(i,e)=>(0,s.maddN)(e||[],i.pos,i.size,.5),23:({points:i},e)=>(0,s.divN)(null,(0,s.add)(null,(0,s.add)(e||[],i[0],i[1]),i[2]),3)}),d.isa(2,3),d.isa(1,21),d.isa(6,3),d.isa(9,8),d.isa(15,11),d.isa(17,13),d.isa(22,3),d.isa(24,23);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-poly-utils":"IH2M","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki","./bounds":"qkpx"}],"kUIr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.translatedPoints=void 0;var e=require("@thi.ng/vectors");const t=(t,r)=>t.map(t=>(0,e.add)([],t,r));exports.translatedPoints=t;
},{"@thi.ng/vectors":"n72+"}],"TFS1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.translate=void 0;var e=require("@thi.ng/defmulti"),t=require("@thi.ng/vectors"),s=require("../api"),i=require("../internal/dispatch"),a=require("../internal/translate-points");const n=e=>(t,s)=>new e((0,a.translatedPoints)(t.points,s),Object.assign({},t.attribs)),r=(0,e.defmulti)(i.dispatch);exports.translate=r,r.addAll({1:(e,i)=>new s.AABB((0,t.add3)([],e.pos,i),(0,t.set3)([],e.size),Object.assign({},e.attribs)),2:(e,s)=>{const i=e.copy();return(0,t.add2)(null,i.pos,s),i},3:(e,i)=>new s.Circle((0,t.add2)([],e.pos,i),e.r,Object.assign({},e.attribs)),6:(e,i)=>new s.Ellipse((0,t.add2)([],e.pos,i),(0,t.set2)([],e.r),Object.assign({},e.attribs)),7:(e,t)=>new s.Group(Object.assign({},e.attribs),e.children.map(e=>r(e,t))),8:n(s.Line),10:(e,i)=>new s.Path(e.segments.map(e=>e.geo?{type:e.type,geo:r(e.geo,i)}:{type:e.type,point:(0,t.add2)([],e.point,i)}),Object.assign({},e.attribs)),11:n(s.Points),13:n(s.Polygon),15:n(s.Polyline),17:n(s.Quad),25:(e,i)=>new s.Ray((0,t.add2)([],e.pos,i),e.dir,Object.assign({},e.attribs)),21:(e,i)=>new s.Rect((0,t.add2)([],e.pos,i),(0,t.set2)([],e.size),Object.assign({},e.attribs)),22:(e,i)=>new s.Sphere((0,t.add3)([],e.pos,i),e.r,Object.assign({},e.attribs)),23:n(s.Triangle)});
},{"@thi.ng/defmulti":"7fpp","@thi.ng/vectors":"n72+","../api":"uYqO","../internal/dispatch":"/iki","../internal/translate-points":"kUIr"}],"+NvP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.center=void 0;var e=require("@thi.ng/defmulti"),t=require("@thi.ng/vectors"),r=require("../internal/dispatch"),s=require("./centroid"),i=require("./translate"),a=require("../api");const n=(0,e.defmulti)(r.dispatch);exports.center=n,n.add(e.DEFAULT,(e,r=t.ZERO3)=>(0,i.translate)(e,(0,t.submN)(null,(0,s.centroid)(e),r,-1))),n.addAll({2:(e,r=t.ZERO2)=>new a.Arc((0,t.set2)([],r),(0,t.set2)([],e.r),e.axis,e.start,e.end,e.xl,e.cw,Object.assign({},e.attribs)),3:(e,r=t.ZERO2)=>new a.Circle((0,t.set2)([],r),e.r,Object.assign({},e.attribs)),6:(e,r=t.ZERO2)=>new a.Ellipse((0,t.set2)([],r),(0,t.set2)([],e.r),Object.assign({},e.attribs)),22:(e,r=t.ZERO3)=>new a.Sphere((0,t.set3)([],r),e.r,Object.assign({},e.attribs))});
},{"@thi.ng/defmulti":"7fpp","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki","./centroid":"hUQ0","./translate":"TFS1","../api":"uYqO"}],"Uabm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.classifyPoint=void 0;var i=require("@thi.ng/defmulti"),e=require("@thi.ng/geom-isec"),t=require("@thi.ng/math"),s=require("../internal/dispatch");const r=(0,i.defmulti)(s.dispatch);exports.classifyPoint=r,r.addAll({3:(i,s,r=t.EPS)=>(0,e.classifyPointInCircle)(s,i.pos,i.r,r),23:({points:i},s,r=t.EPS)=>(0,e.classifyPointInTriangle2)(s,i[0],i[1],i[2],r)}),r.isa(22,3);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-isec":"SVAX","@thi.ng/math":"zoYr","../internal/dispatch":"/iki"}],"5o6o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clipConvex=void 0;var e=require("@thi.ng/defmulti"),i=require("@thi.ng/geom-clip"),r=require("../api"),t=require("../internal/dispatch"),s=require("./centroid"),n=require("./vertices");const a=(0,e.defmulti)(t.dispatch);exports.clipConvex=a,a.addAll({13:(e,t)=>new r.Polygon((0,i.sutherlandHodgeman)(e.points,(0,n.vertices)(t),(0,s.centroid)(t)),Object.assign({},e.attribs)),21:(e,t)=>new r.Polygon((0,i.sutherlandHodgeman)((0,n.vertices)(e),(0,n.vertices)(t),(0,s.centroid)(t)),Object.assign({},e.attribs))}),a.isa(3,21),a.isa(6,21),a.isa(10,21),a.isa(17,13),a.isa(23,13);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-clip":"euHj","../api":"uYqO","../internal/dispatch":"/iki","./centroid":"hUQ0","./vertices":"1yDE"}],"QJmA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closestPoint=void 0;var e=require("@thi.ng/defmulti"),t=require("@thi.ng/geom-arc"),s=require("@thi.ng/geom-closest-point"),i=require("@thi.ng/geom-splines"),o=require("@thi.ng/vectors"),n=require("../internal/dispatch"),r=require("./vertices");const l=(0,e.defmulti)(n.dispatch);exports.closestPoint=l,l.addAll({2:(e,s,i=[])=>(0,t.closestPoint)(s,e.pos,e.r,e.axis,e.start,e.end,i),3:(e,t,s=[])=>(0,o.add)(null,(0,o.normalize)(null,(0,o.sub)(s,t,e.pos),e.r),e.pos),4:({points:e},t,s=[])=>(0,i.closestPointCubic)(t,e[0],e[1],e[2],e[3],s),8:({points:e},t,i=[])=>(0,s.closestPointSegment)(t,e[0],e[1],i),11:(e,t,i)=>(0,o.set)(i,(0,s.closestPointArray)(t,e.points)),13:(e,t,i=[])=>(0,s.closestPointPolyline)(t,e.points,!0,i),15:(e,t,i=[])=>(0,s.closestPointPolyline)(t,e.points,!1,i),19:({points:e},t,s=[])=>(0,i.closestPointQuadratic)(t,e[0],e[1],e[2],s),21:(e,t,i=[])=>(0,s.closestPointPolyline)(t,(0,r.vertices)(e),!0,i)}),l.isa(17,13),l.isa(22,3),l.isa(23,13);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-arc":"ul8f","@thi.ng/geom-closest-point":"hwgR","@thi.ng/geom-splines":"LV04","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki","./vertices":"1yDE"}],"VYaD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.grahamScan2=void 0;var t=require("@thi.ng/math");const e=Math.atan2,r=(r,s=t.EPS)=>{const a=r.length;if(a<=3)return r.slice();let c,p,h,l,i,u,f=1;const g=o(r);[i,u]=r[g];const d=[];for(c=0;c<a;c++)p=r[c],d[c]={p:p,t:e(p[1]-u,p[0]-i)};d.sort((t,e)=>t.t!==e.t?t.t-e.t:t.p[0]-e.p[0]);const m=[d[0].p];for(c=1;c<a;c++){for(p=m[f-2],h=m[f-1],i=(l=d[c].p)[0],u=l[1];f>1&&n(p[0],p[1],h[0],h[1],i,u,s)||1===f&&h[0]===i&&h[1]===u;)h=p,p=m[--f-2];m[f++]=l}return m.length=f,m};exports.grahamScan2=r;const n=(t,e,r,n,o,s,a)=>(n-e)*(o-t)>=(r-t)*(s-e)-a,o=t=>{let e,r,n=t.length-1,o=n,s=t[n][1];for(;--n>=0;)((r=(e=t[n])[1])<s||r===s&&e[0]<t[o][0])&&(s=r,o=n);return o};
},{"@thi.ng/math":"zoYr"}],"ixBd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./graham-scan");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./graham-scan":"VYaD"}],"H7Dr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.convexHull=void 0;var e=require("@thi.ng/defmulti"),i=require("@thi.ng/geom-hull"),s=require("../api"),t=require("../internal/dispatch"),r=require("./vertices");const a=(0,e.defmulti)(t.dispatch);exports.convexHull=a,a.addAll({7:e=>new s.Polygon((0,r.vertices)(e),Object.assign({},e.attribs)),11:e=>new s.Polygon((0,i.grahamScan2)(e.points),Object.assign({},e.attribs)),23:e=>e.copy()}),a.isa(3,23),a.isa(6,23),a.isa(13,11),a.isa(15,11),a.isa(17,11),a.isa(21,23);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-hull":"ixBd","../api":"uYqO","../internal/dispatch":"/iki","./vertices":"1yDE"}],"G1C0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.edgeIterator=void 0;var e=require("@thi.ng/transducers");const r=(r,t=!1)=>(0,e.partition)(2,1,t?(0,e.wrap)(r,1,!1,!0):r);exports.edgeIterator=r;
},{"@thi.ng/transducers":"GbKR"}],"oSRP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.edges=void 0;var e=require("@thi.ng/defmulti"),r=require("../internal/dispatch"),t=require("../internal/edges"),i=require("./vertices");const s=(0,e.defmulti)(r.dispatch);exports.edges=s,s.addAll({13:e=>(0,t.edgeIterator)(e.points,!0),15:e=>(0,t.edgeIterator)(e.points),21:e=>(0,t.edgeIterator)((0,i.vertices)(e),!0)}),s.isa(8,15),s.isa(17,13),s.isa(23,13);
},{"@thi.ng/defmulti":"7fpp","../internal/dispatch":"/iki","../internal/edges":"G1C0","./vertices":"1yDE"}],"yBbU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapPoint=void 0;var e=require("@thi.ng/defmulti"),i=require("@thi.ng/vectors"),t=require("../internal/dispatch");const r=(0,e.defmulti)(t.dispatch);exports.mapPoint=r,r.addAll({21:(e,t,r=[])=>(0,i.div)(null,(0,i.sub)(r,t,e.pos),e.size)}),r.isa(1,21);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki"}],"c2qN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformedPoints=exports.transformPoints=void 0;var r=require("@thi.ng/matrices");const t=(t,o)=>(t.forEach(t=>(0,r.mulV)(null,o,t)),t);exports.transformPoints=t;const o=(t,o)=>t.map(t=>(0,r.mulV)([],o,t));exports.transformedPoints=o;
},{"@thi.ng/matrices":"Wb3+"}],"XesJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transform=void 0;var e=require("@thi.ng/defmulti"),r=require("../api"),i=require("../internal/dispatch"),t=require("../internal/transform-points"),s=require("./vertices");const n=e=>(r,i)=>new e((0,t.transformedPoints)(r.points,i),Object.assign({},r.attribs)),a=(0,e.defmulti)(i.dispatch);exports.transform=a,a.addAll({3:(e,i)=>new r.Polygon((0,t.transformPoints)((0,s.vertices)(e),i),Object.assign({},e.attribs)),4:n(r.Cubic),7:(e,i)=>new r.Group(Object.assign({},e.attribs),e.children.map(e=>a(e,i))),8:n(r.Line),11:n(r.Points),13:n(r.Polygon),15:n(r.Polyline),17:n(r.Quad),19:n(r.Quadratic),23:n(r.Triangle)}),a.isa(6,3),a.isa(21,3);
},{"@thi.ng/defmulti":"7fpp","../api":"uYqO","../internal/dispatch":"/iki","../internal/transform-points":"c2qN","./vertices":"1yDE"}],"4H6M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unmapPoint=void 0;var e=require("@thi.ng/defmulti"),i=require("@thi.ng/vectors"),t=require("../internal/dispatch");const r=(0,e.defmulti)(t.dispatch);exports.unmapPoint=r,r.addAll({17:({points:e},t,r=[])=>(0,i.mixBilinear)(r,e[0],e[1],e[3],e[2],t[0],t[1]),21:(e,t,r=[])=>(0,i.madd)(r,e.pos,e.size,t)}),r.isa(1,21),r.isa(18,17);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki"}],"RmDP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fitAllIntoBounds2=exports.fitIntoBounds2=void 0;var e=require("@thi.ng/matrices"),n=require("@thi.ng/vectors"),t=require("../api"),r=require("../internal/coll-bounds"),o=require("./bounds"),i=require("./center"),s=require("./centroid"),u=require("./map-point"),c=require("./transform"),a=require("./unmap-point");const l=(n,t,r,o)=>(0,c.transform)(n,(0,e.concat)((0,e.translation23)([],t),o,(0,e.translation23)([],r))),d=(t,r)=>{const i=(0,o.bounds)(t),u=(0,n.div2)([],r.size,i.size),c=Math.min(u[0],u[1]);return l(t,(0,s.centroid)(r),(0,n.neg)(null,(0,s.centroid)(i)),(0,e.scale23)([],c))};exports.fitIntoBounds2=d;const p=(d,p)=>{const m=new t.Rect(...(0,r.collBounds)(d,o.bounds)),[q,f]=(0,n.div2)([],p.size,m.size),h=q>0&&f>0?Math.min(q,f):q>0?q:f,v=(0,e.scale23)([],h),b=(0,i.center)((0,c.transform)(m,v),(0,s.centroid)(p)),g=[],x=[],B=[];for(let e=d.length;--e>=0;){const t=d[e];(0,a.unmapPoint)(b,(0,u.mapPoint)(m,(0,s.centroid)(t,g)),x),B.push(l(t,x,(0,n.neg)(null,g),v))}return B};exports.fitAllIntoBounds2=p;
},{"@thi.ng/matrices":"Wb3+","@thi.ng/vectors":"n72+","../api":"uYqO","../internal/coll-bounds":"geRO","./bounds":"qkpx","./center":"+NvP","./centroid":"hUQ0","./map-point":"yBbU","./transform":"XesJ","./unmap-point":"4H6M"}],"dKWd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flip=void 0;var e=require("@thi.ng/defmulti"),i=require("@thi.ng/vectors"),r=require("../internal/dispatch");const t=(0,e.defmulti)(r.dispatch);exports.flip=t,t.add(e.DEFAULT,e=>e),t.addAll({2:e=>{const i=e.start;return e.start=e.end,e.end=i,e.cw=!e.cw,e},7:e=>(e.children.forEach(t),e),10:e=>e,11:e=>(e.points.reverse(),e),25:e=>(e.dir=(0,i.neg)(null,e.dir),e)}),t.isa(4,11),t.isa(8,11),t.isa(13,11),t.isa(15,11),t.isa(17,11),t.isa(19,11),t.isa(23,11);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki"}],"GKcy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersects=void 0;var e=require("@thi.ng/defmulti"),s=require("@thi.ng/geom-isec"),i=require("../internal/dispatch");const t=(0,e.defmulti)(i.dispatch2);exports.intersects=t,t.addAll({"3-3":(e,i)=>(0,s.intersectCircleCircle)(e.pos,i.pos,e.r,i.r),"8-8":({points:e},{points:i})=>(0,s.intersectLineLine)(e[0],e[1],i[0],i[1]),"25-1":(e,i)=>(0,s.intersectRayAABB)(e.pos,e.dir,i.pos,i.max()),"25-3":(e,i)=>(0,s.intersectRayCircle)(e.pos,e.dir,i.pos,i.r),"25-13":(e,i)=>(0,s.intersectRayPolyline)(e.pos,e.dir,i.points,!0),"25-15":(e,i)=>(0,s.intersectRayPolyline)(e.pos,e.dir,i.points,!1),"25-21":(e,i)=>(0,s.intersectRayRect)(e.pos,e.dir,i.pos,i.max()),"21-3":({pos:e,size:i},{pos:t,r:r})=>({type:(0,s.testRectCircle)(e,i,t,r)?4:0}),"21-21":({pos:e,size:i},{pos:t,size:r})=>({type:(0,s.testRectRect)(e,i,t,r)?4:0})}),t.isa("25-22","25-3"),t.isa("25-17","25-13"),t.isa("25-23","25-13"),t.isa("22-22","3-3");
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-isec":"SVAX","../internal/dispatch":"/iki"}],"BMHo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pointAt=void 0;var t=require("@thi.ng/defmulti"),e=require("@thi.ng/geom-resample"),i=require("@thi.ng/math"),r=require("@thi.ng/vectors"),s=require("../internal/dispatch"),n=require("./vertices");const o=(0,t.defmulti)(s.dispatch);exports.pointAt=o,o.addAll({2:(t,e)=>t.pointAtTheta((0,i.fit01)(e,t.start,t.end)),3:(t,e)=>(0,r.cartesian2)(null,[t.r,i.TAU*e],t.pos),4:({points:t},e)=>(0,r.mixCubic)([],t[0],t[1],t[2],t[3],e),6:(t,e)=>(0,r.madd2)([],t.pos,(0,i.cossin)(i.TAU*e),t.r),8:({points:t},e)=>(0,r.mixN2)([],t[0],t[1],e),13:(t,i)=>new e.Sampler(t.points,!0).pointAt(i),15:(t,i)=>new e.Sampler(t.points).pointAt(i),19:({points:t},e)=>(0,r.mixQuadratic)([],t[0],t[1],t[2],e),25:(t,e)=>(0,r.maddN)([],t.pos,t.dir,e),21:(t,i)=>new e.Sampler((0,n.vertices)(t),!0).pointAt(i)}),o.isa(17,13),o.isa(23,13);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-resample":"xvni","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki","./vertices":"1yDE"}],"gTXm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pointInside=void 0;var i=require("@thi.ng/defmulti"),e=require("@thi.ng/geom-isec"),n=require("@thi.ng/vectors"),t=require("../internal/dispatch");const o=(0,i.defmulti)(t.dispatch);exports.pointInside=o,o.addAll({1:(i,n)=>(0,e.pointInAABB)(n,i.pos,i.size),3:(i,n)=>(0,e.pointInCircle)(n,i.pos,i.r),8:(i,n)=>(0,e.pointInSegment2)(n,i.points[0],i.points[1]),11:({points:i},e)=>(0,n.isInArray)(e,i),13:(i,n)=>(0,e.pointInPolygon2)(n,i.points)>0,21:(i,n)=>(0,e.pointInRect)(n,i.pos,i.size),23:(i,n)=>(0,e.pointInTriangle2)(n,...i.points)}),o.isa(22,3),o.isa(17,13);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-isec":"SVAX","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki"}],"rwMv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resample=void 0;var e=require("@thi.ng/defmulti"),s=require("@thi.ng/geom-resample"),i=require("../api"),r=require("../internal/dispatch"),a=require("./as-polygon");const t=(0,e.defmulti)(r.dispatch);exports.resample=t,t.addAll({3:(e,s)=>(0,a.asPolygon)(e,s),13:(e,r)=>new i.Polygon((0,s.resample)(e.points,r,!0,!0),Object.assign({},e.attribs)),15:(e,r)=>new i.Polyline((0,s.resample)(e.points,r,!1,!0),Object.assign({},e.attribs))}),t.isa(6,3),t.isa(8,15),t.isa(17,13),t.isa(23,13),t.isa(21,3);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-resample":"xvni","../api":"uYqO","../internal/dispatch":"/iki","./as-polygon":"M6Zk"}],"xV6u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scatter=void 0;var e=require("@thi.ng/random"),r=require("@thi.ng/vectors"),t=require("./bounds"),o=require("./point-inside");const s=(s,i,n=e.SYSTEM,u=[])=>{const a=(0,t.bounds)(s),d=a.pos,c=a.max();for(;--i>=0;)for(;;){const e=(0,r.randMinMax)([],d,c,n);if((0,o.pointInside)(s,e)){u.push(e);break}}return u};exports.scatter=s;
},{"@thi.ng/random":"C0Vh","@thi.ng/vectors":"n72+","./bounds":"qkpx","./point-inside":"gTXm"}],"m+O6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplify=void 0;var e=require("@thi.ng/arrays"),t=require("@thi.ng/defmulti"),i=require("@thi.ng/geom-resample"),s=require("../internal/dispatch"),r=require("./vertices"),n=require("../api");const l=(0,t.defmulti)(s.dispatch);exports.simplify=l,l.addAll({10:(t,s=.1)=>{const l=[],p=t.segments,o=p.length;let a,u;for(let c=0;c<o;c++){const t=p[c];1===t.type||2===t.type?(a=a?a.concat((0,r.vertices)(t.geo)):(0,r.vertices)(t.geo),u=(0,e.peek)(a)):a?(a.push(u),l.push({geo:new n.Polyline((0,i.simplify)(a,s)),type:2}),a=null):l.push(Object.assign({},t))}return a&&(a.push(u),l.push({geo:new n.Polyline(a),type:2})),new n.Path(l,Object.assign({},t.attribs))},13:(e,t=.1)=>new n.Polygon((0,i.simplify)(e.points,t,!0),Object.assign({},e.attribs)),15:(e,t=.1)=>new n.Polyline((0,i.simplify)(e.points,t),Object.assign({},e.attribs))});
},{"@thi.ng/arrays":"89iK","@thi.ng/defmulti":"7fpp","@thi.ng/geom-resample":"xvni","../internal/dispatch":"/iki","./vertices":"1yDE","../api":"uYqO"}],"V+W4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.splitLine=void 0;var e=require("@thi.ng/vectors");const t=(t,r,s)=>{const i=(0,e.mixN)([],t,r,s);return[[t,i],[(0,e.set)([],i),r]]};exports.splitLine=t;
},{"@thi.ng/vectors":"n72+"}],"yp/m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.splitAt=void 0;var t=require("@thi.ng/defmulti"),e=require("@thi.ng/geom-resample"),i=require("@thi.ng/geom-splines"),s=require("@thi.ng/math"),r=require("@thi.ng/vectors"),n=require("../internal/dispatch"),a=require("../internal/split"),p=require("../api");const c=(0,t.defmulti)(n.dispatch);exports.splitAt=c,c.addAll({2:(t,e)=>{const i=(0,s.fit01)(e,t.start,t.end);return[new p.Arc((0,r.set)([],t.pos),(0,r.set)([],t.r),t.axis,t.start,i,t.xl,t.cw,Object.assign({},t.attribs)),new p.Arc((0,r.set)([],t.pos),(0,r.set)([],t.r),t.axis,i,t.end,t.xl,t.cw,Object.assign({},t.attribs))]},4:({attribs:t,points:e},s)=>(0,i.cubicSplitAt)(e[0],e[1],e[2],e[3],s).map(e=>new p.Cubic(e,Object.assign({},t))),8:({attribs:t,points:e},i)=>(0,a.splitLine)(e[0],e[1],i).map(e=>new p.Line(e,Object.assign({},t))),15:(t,i)=>new e.Sampler(t.points).splitAt(i).map(e=>new p.Polyline((0,r.copyVectors)(e),Object.assign({},t.attribs))),19:({attribs:t,points:e},s)=>(0,i.quadraticSplitAt)(e[0],e[1],e[2],s).map(e=>new p.Quadratic(e,Object.assign({},t)))});
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-resample":"xvni","@thi.ng/geom-splines":"LV04","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki","../internal/split":"V+W4","../api":"uYqO"}],"lT7q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.splitNearPoint=void 0;var e=require("@thi.ng/defmulti"),i=require("@thi.ng/geom-closest-point"),t=require("@thi.ng/geom-resample"),r=require("@thi.ng/geom-splines"),s=require("@thi.ng/math"),n=require("@thi.ng/vectors"),a=require("../api"),p=require("../internal/dispatch"),o=require("../internal/split");const l=(0,e.defmulti)(p.dispatch);exports.splitNearPoint=l,l.addAll({4:({points:e,attribs:i},t)=>(0,r.splitCubicNearPoint)(t,e[0],e[1],e[2],e[3]).map(e=>new a.Cubic(e,Object.assign({},i))),8:(e,t)=>{const r=(0,i.closestT)(t,e.points[0],e.points[1])||0;return(0,o.splitLine)(e.points[0],e.points[1],(0,s.clamp01)(r)).map(i=>new a.Line(i,Object.assign({},e.attribs)))},15:(e,i)=>new t.Sampler(e.points).splitNear(i).map(i=>new a.Polyline((0,n.copyVectors)(i),Object.assign({},e.attribs))),19:({points:e,attribs:i},t)=>(0,r.quadraticSplitNearPoint)(t,e[0],e[1],e[2]).map(e=>new a.Quadratic(e,Object.assign({},i)))});
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-closest-point":"hwgR","@thi.ng/geom-resample":"xvni","@thi.ng/geom-splines":"LV04","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../api":"uYqO","../internal/dispatch":"/iki","../internal/split":"V+W4"}],"QaJ3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.kernel5=exports.kernel3=exports.kernel2=void 0;var e=require("@thi.ng/vectors");const r=([r,t],[d,o])=>([s,n])=>[(0,e.addW2)([],s,n,r,t),(0,e.addW2)([],s,n,d,o)];exports.kernel2=r;const t=([r,t,d],[o,s,n])=>([a,l,p])=>[(0,e.addW3)([],a,l,p,r,t,d),(0,e.addW3)([],a,l,p,o,s,n)];exports.kernel3=t;const d=([r,t,d,o,s],[n,a,l,p,x])=>([c,k,W,i,u])=>[(0,e.addW5)([],c,k,W,i,u,r,t,d,o,s),(0,e.addW5)([],c,k,W,i,u,n,a,l,p,x)];exports.kernel5=d;
},{"@thi.ng/vectors":"n72+"}],"wa/N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUBDIV_CUBIC_CLOSED=exports.SUBDIV_CHAIKIN_CLOSED=exports.SUBDIV_CHAIKIN_OPEN=exports.SUBDIV_THIRDS_CLOSED=exports.SUBDIV_THIRDS_OPEN=exports.SUBDIV_MID_CLOSED=exports.SUBDIV_MID_OPEN=void 0;var e=require("@thi.ng/transducers"),r=require("@thi.ng/vectors"),s=require("./kernels");const I=(0,s.kernel3)([.5,.5,0],[0,.75,.25]),t=(0,s.kernel3)([.25,.75,0],[0,.75,.25]),D=(0,s.kernel3)([.25,.75,0],[0,.5,.5]),_=(0,s.kernel3)([1/8,.75,1/8],[0,.5,.5]),o=([e,s])=>[e,(0,r.mixN)([],e,s,.5)],S=([e,s])=>[e,(0,r.mixN)([],e,s,1/3),(0,r.mixN)([],e,s,2/3)],n=r=>(0,e.wrap)(r,1,!1,!0),p=r=>(0,e.wrap)(r,1,!0,!0),i={fn:(e,r,s)=>r<s-2?o(e):[...o(e),e[1]],size:2};exports.SUBDIV_MID_OPEN=i;const x={fn:o,pre:n,size:2};exports.SUBDIV_MID_CLOSED=x;const B={fn:(e,r,s)=>r<s-2?S(e):[...S(e),e[1]],size:2};exports.SUBDIV_THIRDS_OPEN=B;const C={fn:S,pre:n,size:2};exports.SUBDIV_THIRDS_CLOSED=C;const U={fn:(e,r,s)=>0==r?[e[0],...I(e)]:r===s-3?[...D(e),e[2]]:t(e),size:3};exports.SUBDIV_CHAIKIN_OPEN=U;const O={fn:t,pre:p,size:3};exports.SUBDIV_CHAIKIN_CLOSED=O;const E={fn:_,pre:p,size:3};exports.SUBDIV_CUBIC_CLOSED=E;
},{"@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+","./kernels":"QaJ3"}],"CWpO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subdivide=void 0;var e=require("@thi.ng/transducers");const r=(r,{fn:t,pre:s,size:i},d=1)=>{for(;--d>=0;){const d=r.length;r=(0,e.transduce)((0,e.comp)((0,e.partition)(i,1),(0,e.indexed)(),(0,e.mapcat)(([e,r])=>t(r,e,d))),(0,e.push)(),s?s(r):r)}return r};exports.subdivide=r;
},{"@thi.ng/transducers":"GbKR"}],"g2WS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./kernels");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./subdivide");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./api":"wa/N","./kernels":"QaJ3","./subdivide":"CWpO"}],"VbKc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subdivCurve=void 0;var e=require("@thi.ng/defmulti"),i=require("@thi.ng/geom-subdiv-curve"),t=require("../api"),s=require("../internal/dispatch");const r=(0,e.defmulti)(s.dispatch);exports.subdivCurve=r,r.addAll({13:(e,s,r=1)=>new t.Polygon((0,i.subdivide)(e.points,s,r),Object.assign({},e.attribs)),15:(e,s,r=1)=>new t.Polyline((0,i.subdivide)(e.points,s,r),Object.assign({},e.attribs))});
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-subdiv-curve":"g2WS","../api":"uYqO","../internal/dispatch":"/iki"}],"CfMX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tangentAt=void 0;var e=require("@thi.ng/defmulti"),t=require("@thi.ng/geom-resample"),i=require("@thi.ng/math"),r=require("@thi.ng/vectors"),n=require("../internal/dispatch"),s=require("./vertices");const a=(0,e.defmulti)(n.dispatch);exports.tangentAt=a,a.addAll({3:(e,t)=>(0,i.cossin)(i.TAU*t+i.HALF_PI),8:({points:e})=>(0,r.direction)([],e[0],e[1]),13:(e,i)=>new t.Sampler(e.points,!0).tangentAt(i),15:(e,i)=>new t.Sampler(e.points).tangentAt(i),21:(e,i)=>new t.Sampler((0,s.vertices)(e),!0).tangentAt(i)}),a.isa(17,13),a.isa(23,13);
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-resample":"xvni","@thi.ng/math":"zoYr","@thi.ng/vectors":"n72+","../internal/dispatch":"/iki","./vertices":"1yDE"}],"Je3m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tessellate=t;var e=require("@thi.ng/checks"),r=require("@thi.ng/transducers");function t(...t){return(0,r.transduce)((0,r.scan)((0,r.reducer)(()=>[t[0]],(e,t)=>(0,r.transduce)((0,r.mapcat)(t),(0,r.push)(),e))),(0,r.last)(),(0,e.isFunction)(t[1])?(0,r.repeat)(t[1],t[2]||1):t[1])}
},{"@thi.ng/checks":"XYpc","@thi.ng/transducers":"GbKR"}],"3wWb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.earCut2=void 0;var e=require("@thi.ng/geom-isec"),r=require("@thi.ng/geom-poly-utils"),t=require("@thi.ng/transducers"),i=require("@thi.ng/vectors");const n=(r,t,n,o,s,u)=>{const g=r[u[t]],l=r[u[n]],a=r[u[o]];if((0,i.signedArea2)(g,l,a)>0){for(let i=0;i<s;i++)if(i!==t&&i!==n&&i!==o&&(0,e.pointInTriangle2)(r[u[i]],g,l,a))return;return[g,l,a]}},o=e=>{const i=[];let o=e.length;const s=[...(0,r.polyArea2)(e)>0?(0,t.range)(o):(0,t.range)(o-1,-1,-1)];let u,g,l,a=2*o-1,c=o-1;for(;a>0&&o>2;)void 0!==(l=n(e,u=o<=c?0:c,c=o<=(c=u+1)?0:c,g=o<=(g=c+1)?0:g,o,s))?(i.push(l),s.splice(c,1),a=2*--o):a--;return i};exports.earCut2=o;
},{"@thi.ng/geom-isec":"SVAX","@thi.ng/geom-poly-utils":"IH2M","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+"}],"m686":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.edgeSplit=void 0;var e=require("@thi.ng/geom-poly-utils"),t=require("@thi.ng/transducers"),r=require("@thi.ng/vectors");const i=i=>{const o=(0,e.centroid)(i);return(0,t.transduce)((0,t.comp)((0,t.partition)(2,1),(0,t.mapcat)(([e,t])=>{const i=(0,r.mixN)([],e,t,.5);return[[e,i,o],[i,t,o]]})),(0,t.push)(),(0,t.wrap)(i,1,!1,!0))};exports.edgeSplit=i;
},{"@thi.ng/geom-poly-utils":"IH2M","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+"}],"nt6v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tesselInset=void 0;var e=require("@thi.ng/geom-poly-utils"),t=require("@thi.ng/transducers"),r=require("@thi.ng/vectors");const s=(s=.5,i=!1)=>o=>{const n=(0,e.centroid)(o),p=o.map(e=>(0,r.mixN)([],e,n,s));return(0,t.transduce)((0,t.comp)((0,t.partition)(2,1),(0,t.map)(([[e,t],[r,s]])=>[e,t,s,r])),(0,t.push)(),i?[p]:[],(0,t.wrap)([...(0,t.zip)(o,p)],1,!1,!0))};exports.tesselInset=s;
},{"@thi.ng/geom-poly-utils":"IH2M","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+"}],"nlVF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quadFan=void 0;var e=require("@thi.ng/geom-poly-utils"),r=require("@thi.ng/transducers"),t=require("@thi.ng/vectors");const i=i=>{const o=(0,e.centroid)(i);return(0,r.transduce)((0,r.comp)((0,r.partition)(3,1),(0,r.map)(([e,r,i])=>[(0,t.mixN)([],e,r,.5),r,(0,t.mixN)([],r,i,.5),o])),(0,r.push)(),(0,r.wrap)(i,1,!0,!0))};exports.quadFan=i;
},{"@thi.ng/geom-poly-utils":"IH2M","@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+"}],"jOGG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rimTris=void 0;var r=require("@thi.ng/transducers"),e=require("@thi.ng/vectors");const t=t=>{const i=(0,r.transduce)((0,r.comp)((0,r.partition)(2,1),(0,r.map)(r=>(0,e.mixN)([],r[0],r[1],.5))),(0,r.push)(),(0,r.wrap)(t,1,!1,!0));return(0,r.transduce)((0,r.comp)((0,r.partition)(2,1),(0,r.map)(r=>[r[0][0],r[1][1],r[1][0]])),(0,r.push)(),[i],(0,r.wrap)([...(0,r.zip)(i,t)],1,!0,!1))};exports.rimTris=t;
},{"@thi.ng/transducers":"GbKR","@thi.ng/vectors":"n72+"}],"nAko":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.triFan=void 0;var r=require("@thi.ng/geom-poly-utils"),e=require("@thi.ng/transducers");const t=t=>{const i=(0,r.centroid)(t);return(0,e.transduce)((0,e.comp)((0,e.partition)(2,1),(0,e.map)(([r,e])=>[r,e,i])),(0,e.push)(),(0,e.wrap)(t,1,!1,!0))};exports.triFan=t;
},{"@thi.ng/geom-poly-utils":"IH2M","@thi.ng/transducers":"GbKR"}],"odw/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./tessellate");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./earcut");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./edge-split");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./inset");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./quad-fan");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./rim-tris");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./tri-fan");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});
},{"./tessellate":"Je3m","./earcut":"3wWb","./edge-split":"m686","./inset":"nt6v","./quad-fan":"nlVF","./rim-tris":"jOGG","./tri-fan":"nAko"}],"RgtE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tessellate=void 0;var e=require("@thi.ng/defmulti"),t=require("@thi.ng/geom-tessellate"),s=require("../internal/dispatch"),r=require("./vertices");const i=(0,e.defmulti)(s.dispatch);exports.tessellate=i,i.add(e.DEFAULT,(e,s)=>(0,t.tessellate)((0,r.vertices)(e),s));
},{"@thi.ng/defmulti":"7fpp","@thi.ng/geom-tessellate":"odw/","../internal/dispatch":"/iki","./vertices":"1yDE"}],"opDR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.union=void 0;var e=require("@thi.ng/defmulti"),i=require("../api"),n=require("../internal/dispatch"),s=require("../internal/union-bounds");const o=(0,e.defmulti)(n.dispatch);exports.union=o,o.addAll({1:(e,n)=>[new i.AABB(...(0,s.unionBounds)(e.pos,e.size,n.pos,n.size))],21:(e,n)=>[new i.Rect(...(0,s.unionBounds)(e.pos,e.size,n.pos,n.size))]});
},{"@thi.ng/defmulti":"7fpp","../api":"uYqO","../internal/dispatch":"/iki","../internal/union-bounds":"bEP2"}],"7NRl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.warpPoints=void 0;var e=require("./map-point"),t=require("./unmap-point");const r=(r,o,n)=>{const p=[];for(let i=r.length,s=0;s<i;s++)p.push((0,t.unmapPoint)(o,(0,e.mapPoint)(n,r[s])));return p};exports.warpPoints=r;
},{"./map-point":"yBbU","./unmap-point":"4H6M"}],"tUab":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.withAttribs=void 0;const t=(t,s,e=!0)=>(t.attribs=e?s:Object.assign({},t.attribs,s),t);exports.withAttribs=t;
},{}],"c8LR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./ctors/arc");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./ctors/circle");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./ctors/cubic");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./ctors/ellipse");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var u=require("./ctors/group");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var c=require("./ctors/line");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./ctors/path");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var i=require("./ctors/points");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var a=require("./ctors/polygon");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var s=require("./ctors/polyline");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var l=require("./ctors/quad");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var d=require("./ctors/quadratic");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}})});var b=require("./ctors/ray");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}})});var p=require("./ctors/rect");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}})});var y=require("./ctors/triangle");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}})});var _=require("./ops/arc-length");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}})});var j=require("./ops/area");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}})});var O=require("./ops/as-cubic");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}})});var g=require("./ops/as-polygon");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}})});var v=require("./ops/as-polyline");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}})});var m=require("./ops/as-svg");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}})});var h=require("./ops/bounds");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}})});var x=require("./ops/center");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}})});var q=require("./ops/centroid");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}})});var M=require("./ops/classify-point");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}})});var P=require("./ops/clip-convex");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}})});var k=require("./ops/closest-point");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}})});var E=require("./ops/convex-hull");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}})});var w=require("./ops/edges");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}})});var z=require("./ops/fit-into-bounds");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}})});var A=require("./ops/flip");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}})});var B=require("./ops/intersects");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}})});var C=require("./ops/map-point");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}})});var D=require("./ops/point-at");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}})});var F=require("./ops/point-inside");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}})});var G=require("./ops/resample");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}})});var H=require("./ops/scatter");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}})});var I=require("./ops/simplify");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}})});var J=require("./ops/split-at");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}})});var K=require("./ops/split-near");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}})});var L=require("./ops/subdiv-curve");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}})});var N=require("./ops/tangent-at");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}})});var Q=require("./ops/tessellate");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}})});var R=require("./ops/transform");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}})});var S=require("./ops/translate");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}})});var T=require("./ops/union");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}})});var U=require("./ops/unmap-point");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}})});var V=require("./ops/vertices");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}})});var W=require("./ops/warp-points");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}})});var X=require("./ops/with-attribs");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}})});var Y=require("./internal/coll-bounds");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}})});var Z=require("./internal/edges");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}})});var $=require("./internal/split");Object.keys($).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $[e]}})});var ee=require("./internal/transform-points");Object.keys(ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ee[e]}})});var re=require("./internal/translate-points");Object.keys(re).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return re[e]}})});var te=require("./internal/union-bounds");Object.keys(te).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return te[e]}})});
},{"./api":"uYqO","./ctors/arc":"oAj5","./ctors/circle":"k2by","./ctors/cubic":"rIg6","./ctors/ellipse":"kubp","./ctors/group":"svjK","./ctors/line":"Bztv","./ctors/path":"oGUj","./ctors/points":"y4fG","./ctors/polygon":"vURX","./ctors/polyline":"nHYB","./ctors/quad":"w8YP","./ctors/quadratic":"WTYS","./ctors/ray":"92GM","./ctors/rect":"Hc3x","./ctors/triangle":"T+pm","./ops/arc-length":"/kRr","./ops/area":"D94A","./ops/as-cubic":"r4E3","./ops/as-polygon":"M6Zk","./ops/as-polyline":"lWxT","./ops/as-svg":"zDVb","./ops/bounds":"qkpx","./ops/center":"+NvP","./ops/centroid":"hUQ0","./ops/classify-point":"Uabm","./ops/clip-convex":"5o6o","./ops/closest-point":"QJmA","./ops/convex-hull":"H7Dr","./ops/edges":"oSRP","./ops/fit-into-bounds":"RmDP","./ops/flip":"dKWd","./ops/intersects":"GKcy","./ops/map-point":"yBbU","./ops/point-at":"BMHo","./ops/point-inside":"gTXm","./ops/resample":"rwMv","./ops/scatter":"xV6u","./ops/simplify":"m+O6","./ops/split-at":"yp/m","./ops/split-near":"lT7q","./ops/subdiv-curve":"VbKc","./ops/tangent-at":"CfMX","./ops/tessellate":"RgtE","./ops/transform":"XesJ","./ops/translate":"TFS1","./ops/union":"opDR","./ops/unmap-point":"4H6M","./ops/vertices":"1yDE","./ops/warp-points":"7NRl","./ops/with-attribs":"tUab","./internal/coll-bounds":"geRO","./internal/edges":"G1C0","./internal/split":"V+W4","./internal/transform-points":"c2qN","./internal/translate-points":"kUIr","./internal/union-bounds":"bEP2"}],"I1os":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@thi.ng/vectors"),e=require("@thi.ng/transducers"),s=require("@thi.ng/malloc"),r=require("@thi.ng/vector-pools"),o=require("@thi.ng/geom"),i=require("@thi.ng/geom/internal/dispatch"),n=require("@thi.ng/geom-tessellate"),a=require("@thi.ng/defmulti");exports.tessellate3=(t=>3==t.length?[[t[0],t[1],t[2]]]:4==t.length?[[t[0],t[1],t[2]],[t[0],t[2],t[3]]]:void 0);class c extends o.APC{constructor(t,e,s){super(t,s),this.faces=e}get type(){return 14}copy(){return new c(t.copyVectors(this.points),this.faces,Object.assign({},this.attribs))}toHiccup(){return["polygon3",this.attribs,this.points]}}exports.Polygon3=c;const p=[[-1,1,0],[-1,-1,0],[1,-1,0],[1,1,0]];class l extends o.APC{constructor(t=p,e){super(t,e)}get type(){return 18}copy(){return new l(t.copyVectors(this.points),Object.assign({},this.attribs))}toHiccup(){return["polygon",this.attribs,this.points]}}exports.Quad3=l,exports.faces=a.defmulti(i.dispatch),exports.faces.addAll({1:(t,e)=>{const[s,r,i,n,a,c,p,l]=o.vertices(t,e);return[[i,n,l,p],[s,r,c,a],[a,c,p,l],[s,n,i,r],[r,i,p,c],[s,a,l,n]]},18:(t,e)=>[t.points]}),o.vertices.addAll({1:(e,s)=>{const r=e.pos,o=t.add([],r,e.size);return[r,[r[0],r[1],o[2]],[o[0],r[1],o[2]],[o[0],r[1],r[2]],[r[0],o[1],r[2]],[r[0],o[1],o[2]],o,[o[0],o[1],r[2]]]},18:(t,e)=>t.points}),exports.asPolygon3=a.defmulti(i.dispatch),exports.asPolygon3.add(12,(t,e)=>new c(o.vertices(t,e),exports.faces(t,e),Object.assign({},t.attribs))),exports.asPolygon3.isa(1,12),exports.asPolygon3.isa(18,12),o.tessellate.add(14,(t,s)=>[...e.mapcat(t=>n.tessellate(t,s),t.faces)]),exports.asBuffer=a.defmulti(i.dispatch),exports.asBuffer.addAll({18:(t,i=[exports.tessellate3])=>{const n=o.tessellate(exports.asPolygon3(t),i),a=new r.AttribPool({num:3*n.length,mem:{size:512},attribs:{position:{type:5126,size:3,byteOffset:0},texcoord:{type:5126,size:2,byteOffset:3*s.SIZEOF[r.GL2TYPE[5126]]}}});return a.setAttribValues("position",[...e.mapcat(t=>t,n)]),a.setAttribValues("texcoord",[[0,1],[0,0],[1,0],[0,1],[1,0],[1,1]]),a}});
},{"@thi.ng/vectors":"n72+","@thi.ng/transducers":"GbKR","@thi.ng/malloc":"BqzY","@thi.ng/vector-pools":"6rQF","@thi.ng/geom":"c8LR","@thi.ng/geom/internal/dispatch":"/iki","@thi.ng/geom-tessellate":"odw/","@thi.ng/defmulti":"7fpp"}],"186t":[function(require,module,exports) {
var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var t=new Uint8Array(16);module.exports=function(){return o(t),t}}else{var e=new Array(16);module.exports=function(){for(var o,t=0;t<16;t++)0==(3&t)&&(o=4294967296*Math.random()),e[t]=o>>>((3&t)<<3)&255;return e}}
},{}],"NxCc":[function(require,module,exports) {
for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function t(o,t){var n=t||0,u=r;return[u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]]].join("")}module.exports=t;
},{}],"A0Zv":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"186t","./lib/bytesToUuid":"NxCc"}],"jdMK":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const e=t(require("uuid/v4"));class r{constructor(t,r,s={}){this.vert=t,this.frag=r,this.uniforms=s,this.id=e.default()}}exports.Material=r;
},{"uuid/v4":"A0Zv"}],"wdeG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/transducers"),t=require("./node");class s extends t.Node{constructor(t,s,r=4){super(),this.attribPool=t,this.material=s,this.type=r,this.attribs=e.transduce(e.map(([s,{size:r}])=>[s,{numComponents:r,data:[...e.flatten(t.attribValues(s))]}]),e.assocObj(),e.pairs(t.specs))}}exports.Mesh=s;
},{"@thi.ng/transducers":"GbKR","./node":"dkZe"}],"Yyjp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./node");class s extends e.Node{}exports.Scene=s;
},{"./node":"dkZe"}],"eDPL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("twgl.js"),t=e=>{};class s{constructor(s,r,i=t){this.gl=s,this.texture=e.createTexture(s,Object.assign({flipY:1},r),()=>i(this))}randomize(e){}}exports.Texture=s;
},{"twgl.js":"Ubq3"}],"U39l":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./application")),e(require("./camera")),e(require("./camera-ui")),e(require("./canvas")),e(require("./command")),e(require("./geometry")),e(require("./material")),e(require("./mesh")),e(require("./node")),e(require("./scene")),e(require("./texture"));
},{"./application":"gU22","./camera":"dQDg","./camera-ui":"AjQB","./canvas":"ACzj","./command":"bRKL","./geometry":"I1os","./material":"jdMK","./mesh":"wdeG","./node":"dkZe","./scene":"Yyjp","./texture":"eDPL"}],"KcNV":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nuniform mat4 matModelView;\nuniform mat4 matProj;\n\nattribute vec3 position;\nattribute vec2 texcoord;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = texcoord;\n\n  gl_Position = matProj * matModelView * vec4(position, 1.0);\n}";
},{}],"ZDta":[function(require,module,exports) {
module.exports="#ifdef GL_ES\nprecision mediump float;\n#define GLSLIFY 1\n#endif\n\nuniform vec2 scale;\nuniform float freq;\nuniform float iter;\nuniform float time;\nuniform sampler2D permutation;\nuniform sampler2D grads;\n\nvarying vec2 vUv;\n\nconst float PI = 3.14159265359;\nconst vec3 HARU = vec3(0.14,0.37,0.03);\n\nfloat fade(float t)\n{\n  return t*t*t*(t*(t*6.-15.)+10.);// new curve\n}\nfloat perm(float x)\n{\n  return texture2D(permutation,vec2(x/256.,0)).r*256.;\n}\nfloat grad(float x,vec3 p)\n{\n  return dot(texture2D(grads,vec2(x,0)).rgb,p);\n}\nfloat lerp(float a,float b,float c)\n{\n  return mix(a,b,c);\n}\nfloat snoise(vec3 p)\n{\n  vec3 P=mod(floor(p),256.);\n  p-=floor(p);\n  vec3 f=vec3(fade(p.x),fade(p.y),fade(p.z));\n  float A=perm(P.x)+P.y;\n  float AA=perm(A)+P.z;\n  float AB=perm(A+1.)+P.z;\n  float B=perm(P.x+1.)+P.y;\n  float BA=perm(B)+P.z;\n  float BB=perm(B+1.)+P.z;\n\n  return lerp(\n    lerp(lerp(grad(perm(AA),p),\n    grad(perm(BA),p+vec3(-1.,0.,0.)),f.x),\n    lerp(grad(perm(AB),p+vec3(0.,-1.,0.)),\n    grad(perm(BB),p+vec3(-1.,-1.,0.)),f.x),f.y),\n    lerp(lerp(grad(perm(AA+1.),p+vec3(0.,0.,-1.)),\n    grad(perm(BA+1.),p+vec3(-1.,0.,-1.)),f.x),\n    lerp(grad(perm(AB+1.),p+vec3(0.,-1.,-1.)),\n    grad(perm(BB+1.),p+vec3(-1.,-1.,-1.)),f.x),f.y),\n  f.z);\n}\n\nvec2 disp(vec2 uv,float f){\n  float r=.10;\n  float v=snoise(vec3(uv/scale*100.,time));\n\n  v*=f;\n  return uv+vec2(r*cos(v),r*sin(v));\n}\n\nvoid main(){\n  vec2 uv=vUv;\n\n  float freqStep=freq/iter;\n\n  if(iter>=1.){uv=disp(uv,freqStep);}\n  if(iter>=2.){uv=disp(uv,freqStep);}\n  if(iter>=3.){uv=disp(uv,freqStep);}\n  if(iter>=4.){uv=disp(uv,freqStep);}\n  if(iter>=5.){uv=disp(uv,freqStep);}\n\n  vec3 color=vec3(uv,.8);\n\n  float bri = (color.r + color.g + color.b) / 3.0;\n  // color = vec3(bri + .9) * HARU;\n  color = vec3(bri + 0.1);\n\n  gl_FragColor=vec4(color,1.);\n}";
},{}],"xvRR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=exports.defaults=void 0;var e=require("twgl.js"),t=require("@pngu/gl"),r=a(require("./shaders/vert.glsl")),s=a(require("./shaders/frag.glsl"));function a(e){return e&&e.__esModule?e:{default:e}}const i={scale:[32,32],freq:60,iter:5,speed:2};exports.defaults=i;const n=new Uint8Array([151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]),d=new Uint8Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1,1,1,0,0,-1,1,-1,1,0,0,-1,-1]);class h extends t.Application{set params(e){let t=this.mat.uniforms;t.scale=e.scale,t.freq=e.freq,t.iter=e.iter,this.speed=e.speed}init(a){super.init(a);const i=a.canvas.clientWidth,h=a.canvas.clientHeight;this.camera=new t.OrthoCamera(i,h),this.texPerm=(0,e.createTexture)(a,{src:n,format:a.LUMINANCE,width:256,height:1,wrap:a.REPEAT,minMag:a.LINEAR}),this.texGrad=(0,e.createTexture)(a,{src:d,format:a.RGB,width:16,height:1,wrap:a.REPEAT,minMag:a.LINEAR});const l=new t.Scene;this.mat=new t.Material(r.default,s.default),l.add(new t.Mesh((0,t.asBuffer)(new t.Quad3),this.mat)),this.cmd=new t.Command(a,l),this.mat.uniforms.permutation=this.texPerm,this.mat.uniforms.grads=this.texGrad}render(e){const t=this.gl;t.disable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.mat.uniforms.time=e/1e4*this.speed,this.cmd.draw(this.camera)}}exports.App=h;
},{"twgl.js":"Ubq3","@pngu/gl":"U39l","./shaders/vert.glsl":"KcNV","./shaders/frag.glsl":"ZDta"}],"XLAj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bg=void 0;var e=require("@pngu/gl"),r=require("../disp"),t=i(require("../events"));function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};i.get||i.set?Object.defineProperty(r,t,i):r[t]=e[t]}return r.default=e,r}const s=({ui:i,bus:s})=>{const n=new r.App,o=(0,e.canvas)(n,{init(){s.dispatch([t.BG_ACTIVE,!0])},release(){s.dispatch([t.BG_ACTIVE,!1])}});return()=>[o,i.bg,{scale:[32,32],freq:50,iter:5,speed:1.5}]};exports.bg=s;
},{"@pngu/gl":"U39l","../disp":"xvRR","../events":"4b/7"}],"+YSF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var t=require("@thi.ng/atom"),e=require("@thi.ng/checks"),r=require("@thi.ng/hdom"),i=require("@thi.ng/interceptors"),s=require("@thi.ng/router"),o=c(require("./effects")),n=c(require("./events")),u=require("./components/bg");function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}class h{constructor(e){this.config=e,this.state=new t.Atom(e.initialState||{}),this.ctx={bus:new i.EventBus(this.state,e.events,e.effects),views:{},ui:e.ui},this.addViews(this.config.views),this.router=new s.HTMLRouter(e.router),this.router.addListener(s.EVENT_ROUTE_CHANGED,t=>this.ctx.bus.dispatch([s.EVENT_ROUTE_CHANGED,t.value])),this.ctx.bus.addHandlers({[s.EVENT_ROUTE_CHANGED]:(0,i.valueSetter)("route"),[n.ROUTE_TO]:(t,[e,r])=>({[o.ROUTE_TO]:r})}),this.ctx.bus.addEffect(o.ROUTE_TO,([t,e])=>this.router.routeTo(this.router.format(t,e))),this.addViews({route:"route",routeComponent:["route.id",t=>(this.config.components[t]||(()=>["div",`missing component for route: ${t}`]))(this.ctx)]})}addViews(t){const r=this.ctx.views;for(let i in t){const s=t[i];(0,e.isArray)(s)?r[i]=this.state.addView(s[0],s[1]):r[i]=this.state.addView(s)}}start(){this.router.start();const t=this.rootComponent();(0,r.start)(({views:{bgActive:e}})=>{if(this.ctx.bus.processQueue()||e.deref())return t},{root:this.config.domRoot,ctx:this.ctx})}rootComponent(){const t=this.ctx.ui,e=(0,u.bg)(this.ctx);return["div",t.root,e,this.ctx.views.routeComponent]}}exports.App=h;
},{"@thi.ng/atom":"GVpA","@thi.ng/checks":"XYpc","@thi.ng/hdom":"Ra/P","@thi.ng/interceptors":"DKT1","@thi.ng/router":"yNON","./effects":"/GK6","./events":"4b/7","./components/bg":"XLAj"}],"I/SW":[function(require,module,exports) {
"use strict";function e({ui:e}){return["div",e.title,"pngupngu"]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.home=e;
},{}],"llWI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HOME=void 0;const e={id:"home",match:["home"]};exports.HOME=e;
},{}],"foLc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CONFIG=void 0;var e=require("@thi.ng/interceptors"),t=require("./components/home"),r=i(require("./routes")),o=i(require("./events"));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}const s={router:{useFragment:!0,defaultRouteID:r.HOME.id,routes:[r.HOME]},events:{[o.BG_ACTIVE]:(0,e.valueSetter)("bgActive")},effects:{},components:{[r.HOME.id]:t.home},domRoot:"app",initialState:{bgActive:!1},views:{bgActive:"bgActive"},ui:{title:{class:"red center-child absolute"},root:{class:"w-100 h-100 pa0 sans-serif f6 fw2 barlow bg-white98 relative"},bg:{class:""}}};exports.CONFIG=s;
},{"@thi.ng/interceptors":"DKT1","./components/home":"I/SW","./routes":"llWI","./events":"4b/7"}],"9B6d":[function(require,module,exports) {
"use strict";var r=require("./app"),e=require("./config");new r.App(e.CONFIG).start();
},{"./app":"+YSF","./config":"foLc"}]},{},["9B6d"], null)